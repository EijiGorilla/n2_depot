{"version":3,"file":"static/js/9642.b70a461f.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/quantityUtils.js","../node_modules/@arcgis/core/core/unitFormatUtils.js","../node_modules/@arcgis/core/layers/GraphicsLayer.js","../node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","../node_modules/@arcgis/core/views/2d/interactive/SnappingVisualizer2D.js","../node_modules/@arcgis/core/views/draw/DrawAction.js","../node_modules/@arcgis/core/views/draw/input/DrawEvents.js","../node_modules/@arcgis/core/views/draw/MultipointDrawAction.js","../node_modules/@arcgis/core/views/draw/DrawingMode.js","../node_modules/@arcgis/core/views/draw/DrawManipulator.js","../node_modules/@arcgis/core/views/interactive/sketch/SketchLabelOptions.js","../node_modules/@arcgis/core/views/interactive/sketch/SketchTooltipElevationOptions.js","../node_modules/@arcgis/core/views/interactive/sketch/SketchTooltipVisibleElements.js","../node_modules/@arcgis/core/views/interactive/sketch/SketchTooltipOptions.js","../node_modules/@arcgis/core/views/draw/DrawOperation.js","../node_modules/@arcgis/core/views/draw/drawSurfaces.js","../node_modules/@arcgis/core/views/draw/DrawTool.js","../node_modules/@arcgis/core/views/draw/PointDrawAction.js","../node_modules/@arcgis/core/views/draw/PolygonDrawAction.js","../node_modules/@arcgis/core/views/draw/PolylineDrawAction.js","../node_modules/@arcgis/core/views/draw/support/surfaceCoordinateSystems.js","../node_modules/@arcgis/core/views/draw/SegmentDrawAction.js","../node_modules/@arcgis/core/views/draw/Draw.js","../node_modules/@arcgis/core/views/interactive/GraphicManipulator.js","../node_modules/@arcgis/core/views/interactive/support/utils.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingOperation.js","../node_modules/@arcgis/core/views/support/drapedUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{unitType as n,isBaseUnit as t,convertUnit as u,baseUnitForUnit as e}from\"./unitUtils.js\";function r(t,u){return{type:n(u),value:t,unit:u}}function i(t,u){return{type:n(u),value:t,unit:u}}function l(t,u){return{type:n(u),value:t,unit:u}}function a(t,u){return{type:n(u),value:t,unit:u}}function o(t,u,e=\"arithmetic\"){return{type:n(u),value:t,unit:u,rotationType:e}}function c(n){return t(n.unit)}function f(n,t){const u=s(n,t);return\"angle\"===n.type?o(u,t,n.rotationType):r(u,t)}function s(n,t){return u(n.value,n.unit,t)}function v(n){return f(n,e(n.unit))}function p(n,t){return null==n?t:null==t||n.value>u(t.value,t.unit,n.unit)?n:t}function y(n,t){return null==n?t:null==t||n.value<u(t.value,t.unit,n.unit)?n:t}function m(n,t){return null==n?null:{...n,value:n.value*t}}function g(n,t,u){if(t===u)return n;switch(u){case\"arithmetic\":case\"geographic\":return 90-n}}const h=i(0,\"meters\"),d=l(0,\"square-meters\"),T=o(0,\"radians\"),U=o(0,\"degrees\");export{g as convertRotationType,o as createAngle,l as createArea,i as createLength,r as createQuantity,a as createVolume,c as isBaseUnit,p as max,y as min,m as scale,v as toBaseUnit,f as toUnit,s as valueInUnit,U as zeroDegrees,h as zeroMeters,T as zeroRadians,d as zeroSquareMeters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{ByteSizeUnit as t}from\"./ByteSizeUnit.js\";import{cyclicalDegrees as n}from\"./Cyclical.js\";import{clamp as i}from\"./mathUtils.js\";import{convertRotationType as r}from\"./quantityUtils.js\";import{replace as o}from\"./string.js\";import{adaptiveMetricLengthUnit as e,convertUnit as u,adaptiveMetricVerticalLengthUnit as s,adaptiveImperialLengthUnit as c,adaptiveImperialVerticalLengthUnit as a,adaptiveMetricAreaUnit as m,adaptiveImperialAreaUnit as f}from\"./unitUtils.js\";import{formatNumber as l}from\"../intl/number.js\";function b(t,n,i){return t.units[n][i]}function g(t,n,i,r=2,o=\"abbr\"){return`${l(n,{minimumFractionDigits:r,maximumFractionDigits:r,signDisplay:n>0?\"never\":\"exceptZero\"})} ${b(t,i,o)}`}function p(t,n,i,r=2,o=\"abbr\"){return`${l(n,{minimumFractionDigits:r,maximumFractionDigits:r,signDisplay:\"exceptZero\"})} ${b(t,i,o)}`}function D(t,n,i,r=2,o=\"abbr\"){const s=e(n,i);return g(t,u(n,i,s),s,r,o)}function x(t,n,i,r=2,o=\"abbr\"){const s=e(n,i);return p(t,u(n,i,s),s,r,o)}function y(t,n,i,r=2,o=\"abbr\"){const e=s(n,i);return g(t,u(n,i,e),e,r,o)}function F(t,n,i,r=2,o=\"abbr\"){const e=s(n,i);return p(t,u(n,i,e),e,r,o)}function d(t,n,i,r=2,o=\"abbr\"){const e=c(n,i);return g(t,u(n,i,e),e,r,o)}function h(t,n,i,r=2,o=\"abbr\"){const e=c(n,i);return p(t,u(n,i,e),e,r,o)}function B(t,n,i,r=2,o=\"abbr\"){const e=a(n,i);return g(t,u(n,i,e),e,r,o)}function M(t,n,i,r=2,o=\"abbr\"){const e=a(n,i);return p(t,u(n,i,e),e,r,o)}function j(t,n,i,r=2,o=\"abbr\"){const e=m(n,i);return g(t,u(n,i,e),e,r,o)}function $(t,n,i,r=2,o=\"abbr\"){const e=f(n,i);return g(t,u(n,i,e),e,r,o)}function S(t,n,i=2){let r=u(t,n,\"degrees\"),o=r-Math.floor(r);r-=o,o*=60;let e=o-Math.floor(o);return o-=e,e*=60,`${r.toFixed()}° ${o.toFixed()}' ${e.toFixed(i)}\"`}function U(t,i,o,e,s){s=s??2;let c=n.normalize(r(u(t,i,\"degrees\"),o,e),0,!0);const a={style:\"unit\",unitDisplay:\"narrow\",unit:\"degree\",maximumFractionDigits:s,minimumFractionDigits:s,signDisplay:c>0?\"never\":\"exceptZero\"};return c=z(c,a),l(c,a)}function w(t,n,i,r,o){i!==r&&(t=-t);const e={style:\"unit\",unitDisplay:\"narrow\",unit:\"degree\",maximumFractionDigits:o=o??2,minimumFractionDigits:o,signDisplay:\"exceptZero\"};let s=u(t,n,\"degrees\")%360;return s=z(s,e),l(s,e)}const Z=new Map;function z(t,n){const i=JSON.stringify(n);let r=Z.get(i);return r||(r=new Intl.NumberFormat(\"en-US\",n),Z.set(i,r)),/\\-?\\+?360/.test(r.format(t))?0:t}const I=[\"B\",\"kB\",\"MB\",\"GB\",\"TB\"];function O(n,r){let e=0===(r=Math.round(r))?0:Math.floor(Math.log(r)/Math.log(t.KILOBYTES));e=i(e,0,I.length-1);const u=l(r/t.KILOBYTES**e,{maximumFractionDigits:2});return o(n.units.bytes[I[e]],{fileSize:u})}export{U as formatAngleDegrees,S as formatDMS,g as formatDecimal,O as formatFileSize,$ as formatImperialArea,d as formatImperialLength,h as formatImperialRelativeLength,M as formatImperialRelativeVerticalLength,B as formatImperialVerticalLength,j as formatMetricArea,D as formatMetricLength,x as formatMetricRelativeLength,F as formatMetricRelativeVerticalLength,y as formatMetricVerticalLength,w as formatRelativeAngleDegrees,p as formatRelativeDecimal,b as unitName};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import{property as e}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{subclass as o}from\"../core/accessorSupport/decorators/subclass.js\";import{owningCollectionProperty as s}from\"../core/support/OwningCollection.js\";import t from\"./Layer.js\";import{BlendLayer as i}from\"./mixins/BlendLayer.js\";import{ScaleRangeLayer as p}from\"./mixins/ScaleRangeLayer.js\";import{GraphicsCollection as a}from\"../support/GraphicsCollection.js\";import c from\"../symbols/support/ElevationInfo.js\";let n=class extends(i(p(t))){constructor(r){super(r),this.elevationInfo=null,this.graphics=new a,this.screenSizePerspectiveEnabled=!0,this.type=\"graphics\",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(r){return this.graphics.add(r),this}addMany(r){return this.graphics.addMany(r),this}removeAll(){return this.graphics.removeAll(),this}remove(r){this.graphics.remove(r)}removeMany(r){this.graphics.removeMany(r)}on(r,e){return super.on(r,e)}graphicChanged(r){this.emit(\"graphic-update\",r)}};r([e({type:c})],n.prototype,\"elevationInfo\",void 0),r([e(s(a,\"graphics\"))],n.prototype,\"graphics\",void 0),r([e({type:[\"show\",\"hide\"]})],n.prototype,\"listMode\",void 0),r([e()],n.prototype,\"screenSizePerspectiveEnabled\",void 0),r([e({readOnly:!0})],n.prototype,\"type\",void 0),r([e({constructOnly:!0})],n.prototype,\"internal\",void 0),n=r([o(\"esri.layers.GraphicsLayer\")],n);const h=n;export{h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const o=t[r].size;\"number\"==typeof o&&(e+=o,n++)}return e/n}function n(t,n){return\"number\"==typeof t?t:t?.stops?.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter((t=>\"size\"===t.type)).map((e=>{const{maxSize:r,minSize:o}=e;return(n(r,t)+n(o,t))/2}));let o=0;const s=r.length;if(0===s)return t;for(let n=0;n<s;n++)o+=r[n];const f=Math.floor(o/s);return Math.max(f,t)}function o(e){const n=e?.renderer,o=e?.event?.pointerType,s=\"touch\"===o?9:6;if(!n)return s;const f=\"visualVariables\"in n?r(s,n.visualVariables):s;if(\"simple\"===n.type)return t(f,n.symbol);if(\"unique-value\"===n.type){let e=f;return n.uniqueValueInfos?.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===n.type){let e=f;return n.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return\"dot-density\"===n.type||n.type,f}export{o as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import e from\"../../../Graphic.js\";import\"../../../symbols.js\";import{makeHandle as t}from\"../../../core/handleUtils.js\";import{px2pt as r}from\"../../../core/screenUtils.js\";import{c as i,f as n}from\"../../../chunks/vec2.js\";import{a as o}from\"../../../chunks/vec2f64.js\";import{c as a}from\"../../../chunks/vec3f64.js\";import{LineCapStyle as l,LineJoinStyle as s}from\"../../../symbols/cim/enums.js\";import{defaults as m}from\"../../interactive/snapping/Settings.js\";import{SnappingVisualizer as c}from\"../../interactive/snapping/SnappingVisualizer.js\";import p from\"../../../geometry/Point.js\";import y from\"../../../geometry/Polyline.js\";import g from\"../../../symbols/CIMSymbol.js\";import h from\"../../../symbols/SimpleMarkerSymbol.js\";import b from\"../../../symbols/SimpleLineSymbol.js\";class S extends c{constructor(e){super(),this._graphicsLayer=e,this._symbolPairingsByType=new Map}visualizeIntersectionPoint(e,t){return this._visualizeSnappingIndicator(new p({x:e.intersectionPoint[0],y:e.intersectionPoint[1],spatialReference:t.spatialReference}),this._getOrCreateSymbol(\"intersectionPoint\",t.view.effectiveTheme.accentColor))}visualizePoint(e,t){return this._visualizeSnappingIndicator(new p({x:e.point[0],y:e.point[1],spatialReference:t.spatialReference}),this._getOrCreateSymbol(\"point\",t.view.effectiveTheme.accentColor))}visualizeLine(e,t){return this._visualizeSnappingIndicator(new y({paths:[[e.lineStart,e.lineEnd]],spatialReference:t.spatialReference}),this._getOrCreateSymbol(\"line\",t.view.effectiveTheme.accentColor))}visualizeParallelSign(e,t){return this._visualizeSnappingIndicator(new y({paths:[[e.lineStart,e.lineEnd]],spatialReference:t.spatialReference}),this._getOrCreateSymbol(\"parallelSign\",t.view.effectiveTheme.accentColor))}visualizeRightAngleQuad(e,t){const r=o(),l=o(),s=a();i(r,e.centerVertex,e.previousVertex),i(l,e.nextVertex,e.previousVertex),n(s,r,l);const m=`rightAngleQuad${s[2]<0?45:225}`;return this._visualizeSnappingIndicator(new y({paths:[[e.previousVertex,e.centerVertex,e.nextVertex]],spatialReference:t.spatialReference}),this._getOrCreateSymbol(m,t.view.effectiveTheme.accentColor))}_visualizeSnappingIndicator(r,i){const n=new e({geometry:r,symbol:i});return this._graphicsLayer.add(n),t((()=>{this._graphicsLayer.remove(n)}))}_getOrCreateSymbol(e,t){const r=this._symbolPairingsByType;return r.get(e)?.color!==t&&r.set(e,{color:t,symbol:u(e,t)}),r.get(e).symbol}}function u(e,t){const i=[...t.toRgb(),255*t.a];switch(e){case\"point\":return new h({outline:{width:.5,color:[0,0,0,1]},size:10,color:t});case\"intersectionPoint\":return new h({outline:new b({width:1.5,color:t}),size:15,color:[0,0,0,0]});case\"line\":return new g({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",enable:!0,capStyle:l.Butt,joinStyle:s.Round,miterLimit:10,width:r(m.lineHintWidthTarget),color:i}]}}});case\"parallelSign\":return new g({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:0,y:-1,z:0},anchorPointUnits:\"Relative\",size:5,markerPlacement:{type:\"CIMMarkerPlacementOnLine\",placePerPart:!0,angleToLine:!0,relativeTo:\"LineMiddle\"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{rings:[[[7,0],[-7,0],[-7,1.5],[7,1.5]]]},symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:i}]}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:0,y:1,z:0},anchorPointUnits:\"Relative\",size:5,markerPlacement:{type:\"CIMMarkerPlacementOnLine\",placePerPart:!0,angleToLine:!0,relativeTo:\"LineMiddle\"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{rings:[[[7,0],[-7,0],[-7,-1.5],[7,-1.5]]]},symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:i}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}});case\"rightAngleQuad45\":case\"rightAngleQuad225\":{const n=\"rightAngleQuad45\"===e?45:225;return new g({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:.5,y:.5,z:0},anchorPointUnits:\"Relative\",size:r(m.rightAngleHintSize),rotation:n,markerPlacement:{type:\"CIMMarkerPlacementOnVertices\",placePerPart:!0,angleToLine:!0,placeOnEndPoints:!1},frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{paths:[[[5,-5],[-5,-5],[-5,5],[5,5],[5,-5]]]},symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",miterLimit:10,width:r(m.rightAngleHintOutlineSize),color:i},{type:\"CIMSolidFill\",enable:!0,color:[...t.toRgb(),255*t.a*.4]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}})}}}export{S as SnappingVisualizer2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Evented.js\";import{clone as i}from\"../../core/lang.js\";import{destroyMaybe as r}from\"../../core/maybe.js\";import{ignoreAbortErrors as n}from\"../../core/promiseUtils.js\";import{createScreenPointArray as s}from\"../../core/screenUtils.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import p from\"../../layers/GraphicsLayer.js\";import{makeDehydratedPoint as d}from\"../../layers/graphics/dehydratedPoint.js\";import{ViewingMode as h}from\"../ViewingMode.js\";import{SnappingVisualizer2D as l}from\"../2d/interactive/SnappingVisualizer2D.js\";import{createCoordinateHelper as c}from\"../interactive/coordinateHelper.js\";import{EditGeometry as m,Component as _}from\"../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as y}from\"../interactive/editGeometry/EditGeometryOperations.js\";import{SnappingContext as u}from\"../interactive/snapping/SnappingContext.js\";import{SnappingOperation as g}from\"../interactive/snapping/SnappingOperation.js\";var v;let f=v=class extends t.EventedAccessor{constructor(e){super(e),this._hasZ=null,this._cursorScreenPoint=null,this._activePointerId=null,this._stagedVertexUnsnapped=null,this._lastVertexUnsnapped=null,this._viewHandlesKey=\"view-handles\",this._undoRedoHandlesKey=\"undo-redo-handles\",this._drawToolHandlesKey=\"draw-tool\",this._nativeEventHistory={undoStack:[],redoStack:[]},this.interactiveUndoDisabled=!1,this.history=[],this.redoHistory=[],this.snapToScene=!1,this.view=null,this.elevationInfo=null,this.defaultZ=0,this._coordinateHelper=c(!!e.hasZ,!1,e.view.spatialReference),this._snappingManager=e.snappingManager,this._editGeometryOperations=new y(new m(e.editGeometryType??\"polygon\",this._coordinateHelper)),this._snappingGraphicsLayer=new p({id:v.SNAPPING_GRAPHICS_LAYER_ID,listMode:\"hide\",internal:!0}),this._snappingContext=new u({editGeometryOperations:this._editGeometryOperations,elevationInfo:{mode:\"on-the-ground\",offset:0},pointer:\"mouse\",visualizer:new l(this._snappingGraphicsLayer)}),this._activeComponent=new _(e.view.spatialReference,h.Local),this._editGeometryOperations.data.components.push(this._activeComponent)}normalizeCtorArgs(e){const t={...e};return delete t.editGeometryType,t}initialize(){this._snappingOperation=new g({view:this.view}),\"2d\"===this.view.type&&this.view.map.layers.add(this._snappingGraphicsLayer)}destroy(){this.view.map.layers.remove(this._snappingGraphicsLayer),this._snappingGraphicsLayer.destroy(),null!=this._snappingManager&&this._snappingManager.doneSnapping(),this._snappingOperation=r(this._snappingOperation),this._editGeometryOperations.destroy()}get _committedVertices(){return this._editGeometryOperations.data.components[0].vertices.map((e=>e.pos))}get vertices(){return null!=this._stagedVertex?[...this._committedVertices,this._coordinateHelper.pointToArray(this._stagedVertex)]:this._committedVertices}get hasZ(){return null!=this._hasZ?this._hasZ:\"3d\"===this.view.type}set hasZ(e){this._hasZ=e,this.notifyChange(\"hasZ\")}get _stagedVertex(){return this._snappingOperation.stagedPoint}set _stagedVertex(e){this._snappingOperation.stagedPoint=i(e)}canUndo(){return this._editGeometryOperations.canUndo}canRedo(){return this._editGeometryOperations.canRedo}undo(){this.canUndo&&this._editGeometryOperations.undo()}redo(){this.canRedo&&this._editGeometryOperations.redo()}getCoordsFromScreenPoint(e){const t=e&&this.screenToMap(e);return null==t?null:t.hasZ?[t.x,t.y,t.z]:[t.x,t.y]}getCoordsAndPointFromScreenPoint(e){const t=this.screenToMap(e);return null==t?null:t.hasZ?{vertex:[t.x,t.y,t.z],mapPoint:t}:{vertex:[t.x,t.y],mapPoint:t}}screenToMap(e){let t=null;if(\"3d\"===this.view.type)if(this.hasZ){const i=this.elevationInfo??x;t=this.view.sceneIntersectionHelper.intersectElevationFromScreen(s(e.x,e.y),i,this._getGeometryZValue())}else{const i=this.elevationInfo??w;t=this.view.sceneIntersectionHelper.intersectElevationFromScreen(s(e.x,e.y),i,0),null!=t&&(t.z=void 0)}else t=this.view.toMap(e),null!=t&&(t.z=this.hasZ?this._getGeometryZValue():void 0);return t}_pushCursorVertex(e,t){const i=d(e[0],e[1],void 0,this.view.spatialReference);this._stagedVertexUnsnapped=i;const r=this._snappingManager;if(null==r)return this._stagedVertex=i,void t();n(this._snappingOperation.snap({point:i},r,this._snappingContext)).then((()=>{t()}))}_popCursorVertex(){this._stagedVertexUnsnapped=null,this._stagedVertex=null}_getGeometryZValue(){return this.defaultZ}_abortSnapping(){this._snappingOperation.abort()}_isDuplicateOfLastVertex(e){const t=this._editGeometryOperations.data.components[0].getLastVertex()?.pos;if(t&&e[0]===t[0]&&e[1]===t[1])return!0;const{x:i,y:r}=this._coordinateHelper.vectorToDehydratedPoint(e);return null!=this._lastVertexUnsnapped&&i===this._lastVertexUnsnapped.x&&r===this._lastVertexUnsnapped.y}_shouldHandlePointerEvent(e){return this._isPrimaryPointerAction(e)&&(null==this._activePointerId||this._activePointerId===e.pointerId)}_vertexAddHandler(e){const t=null!=this._stagedVertex?this._coordinateHelper.pointToArray(this._stagedVertex):this.getCoordsFromScreenPoint(this._cursorScreenPoint);null!=t&&this._addVertex(t,e.native)}_drawCompleteHandler(e){this._completeDrawing(e.native)}_isPrimaryPointerAction(e){return\"mouse\"!==e.pointerType||0===e.button}};f.SNAPPING_GRAPHICS_LAYER_ID=\"DrawAction-snapping-graphics-layer\",e([o({readOnly:!0})],f.prototype,\"vertices\",null),e([o({type:Boolean,nonNullable:!0})],f.prototype,\"interactiveUndoDisabled\",void 0),e([o({readOnly:!0})],f.prototype,\"history\",void 0),e([o({readOnly:!0})],f.prototype,\"redoHistory\",void 0),e([o()],f.prototype,\"snapToScene\",void 0),e([o()],f.prototype,\"view\",void 0),e([o()],f.prototype,\"elevationInfo\",void 0),e([o({nonNullable:!0})],f.prototype,\"defaultZ\",void 0),e([o()],f.prototype,\"hasZ\",null),e([o()],f.prototype,\"_snappingOperation\",void 0),e([o()],f.prototype,\"_stagedVertex\",null),f=v=e([a(\"esri.views.draw.DrawAction\")],f);const x={mode:\"absolute-height\",offset:0},w={mode:\"on-the-ground\",offset:0},G=f;export{G as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nclass t{constructor(t,e,s,i){this.view=t,this.native=e,this.vertexIndex=s,this.vertices=i,this.defaultPrevented=!1,this.type=\"vertex-add\"}preventDefault(){this.defaultPrevented=!0}}class e{constructor(t,e,s,i){this.view=t,this.native=e,this.vertexIndex=s,this.vertices=i,this.defaultPrevented=!1,this.type=\"vertex-update\"}preventDefault(){this.defaultPrevented=!0}}class s{constructor(t,e,s,i){this.view=t,this.native=e,this.vertexIndex=s,this.vertices=i,this.defaultPrevented=!1,this.type=\"vertex-remove\"}preventDefault(){this.defaultPrevented=!0}}class i{constructor(t,e,s,i,r=null){this.view=t,this.native=e,this.vertexIndex=s,this.vertices=i,this.mapPoint=r,this.coordinates=null,this.defaultPrevented=!1,this.type=\"cursor-update\",this.coordinates=1===i.length?i[0]:null}preventDefault(){this.defaultPrevented=!0}}class r{constructor(t,e){this.native=t,this.vertices=e,this.coordinates=null,this.defaultPrevented=!1,this.type=\"draw-complete\",this.coordinates=1===e.length?e[0]:null}preventDefault(){this.defaultPrevented=!0}}export{i as CursorUpdateEvent,r as DrawCompleteEvent,t as VertexAddEvent,s as VertexRemoveEvent,e as VertexUpdateEvent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/Error.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import i from\"./DrawAction.js\";import{VertexRemoveEvent as o,VertexAddEvent as s,CursorUpdateEvent as r,DrawCompleteEvent as n}from\"./input/DrawEvents.js\";import{ViewEventPriorities as a}from\"../input/InputManager.js\";import{sketchKeys as d}from\"../interactive/keybindings.js\";import{createScreenPointFromEvent as p}from\"../support/screenUtils.js\";import h from\"../../geometry/Point.js\";let c=class extends i{constructor(e){super(e),this._popVertexOnPointerMove=!1,this._addVertexOnPointerUp=!1}initialize(){this._addViewHandles(),this._addUndoRedoHandles()}destroy(){this._removeViewHandles(),this._removeUndoRedoHandles(),this.emit(\"destroy\")}undo(){super.undo(),this.notifyChange(\"vertices\")}redo(){super.redo(),this.notifyChange(\"vertices\")}complete(){this._completeDrawing()}_addViewHandles(){this._removeViewHandles(),this.addHandles([this.view.on(\"click\",(e=>{e.stopPropagation()}),a.TOOL),this.view.on(\"pointer-down\",(e=>{this._shouldHandlePointerEvent(e)&&(this._abortSnapping(),this._activePointerId=e.pointerId,this._addVertexOnPointerUp=!0,this._cursorScreenPoint=p(e),\"touch\"===e.pointerType&&this._updateCursor(e.native))}),a.TOOL),this.view.on(\"pointer-move\",(e=>{this._popVertexOnPointerMove&&(this.undo(),this._popVertexOnPointerMove=!1),this._abortSnapping(),this._cursorScreenPoint=p(e),\"touch\"!==e.pointerType&&this._updateCursor(e.native)}),a.TOOL),this.view.on(\"pointer-drag\",(e=>{this._shouldHandlePointerEvent(e)&&(this._abortSnapping(),this._addVertexOnPointerUp=!1)}),a.TOOL),this.view.on(\"pointer-up\",(e=>{if(this._shouldHandlePointerEvent(e))if(this._abortSnapping(),this._activePointerId=null,this._addVertexOnPointerUp)this._vertexAddHandler(e);else{const t=\"touch\"===e.pointerType;this._updateCursor(e.native,t)}}),a.TOOL),this.view.on(\"drag\",[\"Shift\"],(e=>{e.stopPropagation()}),a.TOOL),this.view.on(\"double-click\",(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),a.TOOL),this.view.on(\"double-click\",[\"Control\"],(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),a.TOOL),this.view.on(\"key-down\",(e=>{const{key:t,repeat:i}=e;t===d.vertexAdd&&!i&&this._cursorScreenPoint?(e.stopPropagation(),this._abortSnapping(),this._vertexAddHandler(e)):t!==d.complete||i?t!==d.undo||this.interactiveUndoDisabled||i?t!==d.redo||this.interactiveUndoDisabled||i?t!==d.pan||i||e.stopPropagation():(e.stopPropagation(),this.redo()):(e.stopPropagation(),this.undo()):(e.stopPropagation(),this._drawCompleteHandler(e))}),a.TOOL),this.view.on(\"key-up\",(e=>{e.key===d.pan&&e.stopPropagation()}),a.TOOL)],this._viewHandlesKey)}_addUndoRedoHandles(){this._removeUndoRedoHandles(),this.addHandles([this._editGeometryOperations.on(\"vertex-remove\",(e=>{if(this.notifyChange(\"vertices\"),\"undo\"===e.operation){const t=this._nativeEventHistory.undoStack.pop();this._nativeEventHistory.redoStack.push(t);const i=[...this._committedVertices];null!=this._stagedVertex&&i.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit(\"undo\",new o(this.view,t,e.vertices[0].index,i))}})),this._editGeometryOperations.on(\"vertex-add\",(e=>{if(this.notifyChange(\"vertices\"),\"apply\"===e.operation){const e=this._nativeEventHistory.undoStack[this._nativeEventHistory.undoStack.length],t=this._committedVertices.length-1,i=new s(this.view,e,t,this.vertices);this.emit(\"vertex-add\",i),i.defaultPrevented&&(this._popVertexOnPointerMove=!0)}else if(\"redo\"===e.operation){const t=this._nativeEventHistory.redoStack.pop();this._nativeEventHistory.undoStack.push(t);const i=[...this._committedVertices];null!=this._stagedVertex&&i.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit(\"redo\",new s(this.view,t,e.vertices[0].index,i))}}))],this._undoRedoHandlesKey)}_removeViewHandles(){this.removeHandles(this._viewHandlesKey)}_removeUndoRedoHandles(){this.removeHandles(this._undoRedoHandlesKey)}_addVertex(e,t){const i=this._coordinateHelper.arrayToVector(e);if(this._isDuplicateOfLastVertex(i))return;this._popCursorVertex(),this._editGeometryOperations.appendVertex(i);const o=t||new Event(\"placeholder\");this._nativeEventHistory.undoStack.push(o)}_updateCursor(e,t=!1){if(this._popCursorVertex(),!this._cursorScreenPoint)return;const i=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);null==i||t||this._pushCursorVertex(i.vertex,(()=>this.emit(\"cursor-update\",new r(this.view,e,this._activeComponent.vertices.length,this.vertices,null!=this._stagedVertex?new h(this._stagedVertex):null))))}_completeDrawing(e){if(this._activePointerId=null,this._popCursorVertex(),this._abortSnapping(),null!=this._snappingManager&&this._snappingManager.doneSnapping(),this.vertices.length<1)return;const t=new n(e,this.vertices);this.emit(\"draw-complete\",t),t.defaultPrevented||this._removeViewHandles()}};c=e([t(\"esri.views.draw.MultipointDrawAction\")],c);export{c as MultipointDrawAction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nconst c=[\"freehand\",\"hybrid\",\"click\"],e=\"click\";export{e as defaultDrawingMode,c as drawingModes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Evented.js\";class t{constructor({grabbableForEvent:t}){this.events=new e,this.interactive=!0,this.selectable=!1,this.cursor=null,this.grabbable=!0,this.consumesClicks=!0,this.grabbableForEvent=t}destroy(){}intersectionDistance(e,t){return 0}attach(){}detach(){}onElevationChange(){}onViewChange(){}}export{t as DrawManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";let t=class extends r{constructor(o){super(o),this.enabled=!1}};o([s({type:Boolean,nonNullable:!0})],t.prototype,\"enabled\",void 0),t=o([e(\"esri.views.interactive.sketch.SketchLabelOptions\")],t);const c=t;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";let t=class extends r{constructor(o){super(o),this.mode=\"absolute-height\"}toJSON(){return{mode:this.mode}}};o([s({type:String,nonNullable:!0})],t.prototype,\"mode\",void 0),t=o([e(\"esri.widgets.Sketch.SketchTooltipOptions.ElevationOptions\")],t);export{t as SketchTooltipElevationOptions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";let i=class extends e{constructor(o){super(o),this.area=!0,this.distance=!0,this.elevation=!0,this.helpMessage=!1,this.orientation=!0,this.radius=!0,this.rotation=!0,this.scale=!0,this.size=!0,this.totalLength=!0}toJSON(){return{area:this.area,distance:this.distance,elevation:this.elevation,helpMessage:this.helpMessage,orientation:this.orientation,radius:this.radius,rotation:this.rotation,scale:this.scale,size:this.size,totalLength:this.totalLength}}};o([t({type:Boolean,nonNullable:!0})],i.prototype,\"area\",void 0),o([t({type:Boolean,nonNullable:!0})],i.prototype,\"distance\",void 0),o([t({type:Boolean,nonNullable:!0})],i.prototype,\"elevation\",void 0),o([t({type:Boolean,nonNullable:!0})],i.prototype,\"helpMessage\",void 0),o([t({type:Boolean,nonNullable:!0})],i.prototype,\"orientation\",void 0),o([t({type:Boolean,nonNullable:!0})],i.prototype,\"radius\",void 0),o([t({type:Boolean,nonNullable:!0})],i.prototype,\"rotation\",void 0),o([t({type:Boolean,nonNullable:!0})],i.prototype,\"scale\",void 0),o([t({type:Boolean,nonNullable:!0})],i.prototype,\"size\",void 0),o([t({type:Boolean,nonNullable:!0})],i.prototype,\"totalLength\",void 0),i=o([s(\"esri.widgets.Sketch.SketchTooltipOptions.VisibleElements\")],i);export{i as SketchTooltipVisibleElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import o from\"../../../core/Accessor.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import{SketchTooltipElevationOptions as i}from\"./SketchTooltipElevationOptions.js\";import{SketchTooltipVisibleElements as r}from\"./SketchTooltipVisibleElements.js\";let l=class extends o{constructor(e){super(e),this.enabled=!1,this.inputEnabled=!1,this.elevation=new i,this.visibleElements=new r,this.visualVariables=null}toJSON(){return{enabled:this.enabled,elevation:this.elevation,visibleElements:this.visibleElements}}};e([t({type:Boolean,nonNullable:!0})],l.prototype,\"enabled\",void 0),e([t({type:Boolean,nonNullable:!0})],l.prototype,\"inputEnabled\",void 0),e([t({type:i,nonNullable:!0})],l.prototype,\"elevation\",void 0),e([t({type:r,nonNullable:!0})],l.prototype,\"visibleElements\",void 0),e([t()],l.prototype,\"visualVariables\",void 0),l=e([s(\"esri.widgets.Sketch.SketchTooltipOptions\")],l);const p=l;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import i from\"../../core/Evented.js\";import{clone as n}from\"../../core/lang.js\";import{destroyMaybe as o,equalsMaybe as r}from\"../../core/maybe.js\";import{ignoreAbortErrors as s}from\"../../core/promiseUtils.js\";import{watch as a,syncAndInitial as p}from\"../../core/reactiveUtils.js\";import{createScreenPoint as c}from\"../../core/screenUtils.js\";import{property as l}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as d}from\"../../core/accessorSupport/decorators/subclass.js\";import{diff as h}from\"../../core/accessorSupport/diffUtils.js\";import{UpdatingHandles as g}from\"../../core/support/UpdatingHandles.js\";import{pointEquals as u}from\"../../layers/graphics/dehydratedFeatureComparison.js\";import{getEffectiveElevationInfo as m}from\"../../support/elevationInfoUtils.js\";import{ViewingMode as v}from\"../ViewingMode.js\";import{defaultDrawingMode as y}from\"./DrawingMode.js\";import{DrawManipulator as _}from\"./DrawManipulator.js\";import{createCoordinateHelper as f}from\"../interactive/coordinateHelper.js\";import{createManipulatorDragEventPipeline as x,sceneSnappingAtLocation as S}from\"../interactive/dragEventPipeline.js\";import{EditGeometry as w,Component as V}from\"../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as O}from\"../interactive/editGeometry/EditGeometryOperations.js\";import{fromPoint as T,toDehydratedPoint as b}from\"../interactive/sketch/normalizedPoint.js\";import M from\"../interactive/sketch/SketchLabelOptions.js\";import P from\"../interactive/sketch/SketchTooltipOptions.js\";import{SnappingContext as C}from\"../interactive/snapping/SnappingContext.js\";import{createSnapDragEventPipelineStep as D}from\"../interactive/snapping/SnappingDragPipelineStep.js\";import{SnappingOperation as I}from\"../interactive/snapping/SnappingOperation.js\";import{setupSnappingToggleHandles as E}from\"../interactive/snapping/snappingUtils.js\";const H=\"crosshair\",j=\"progress\";let k=class extends(i.EventedMixin(t)){constructor(e){super(e),this._createOperationCompleted=!1,this._hideDefaultCursor=!1,this._pointerDownStates=new Set,this._stagedScreenPoint=null,this._stagedPointerType=null,this._stagedPointerId=null,this._updatingHandles=new g,this.constraint=void 0,this.isDraped=!0,this.labelOptions=new M,this.tooltipOptions=new P,this.cursor=null,this.loading=!1,this.snapToSceneEnabled=null,this.lastVertex=null,null==e.elevationInfo&&(this.elevationInfo=m(!!e.hasZ))}initialize(){const{geometryType:e,view:t}=this,i=t.spatialReference,n=\"viewingMode\"in t.state?t.state.viewingMode:v.Local,o=\"segment\"===e||\"multipoint\"===e?\"polyline\":e;this.coordinateHelper=f(this.hasZ,this.hasM,i),this._editGeometryOperations=new O(new w(o,this.coordinateHelper)),this._snappingOperation=new I({view:t,constrainResult:e=>e?this._getEffectiveDrawSurface()?.constrainZ(e):void 0}),this.addHandles([a((()=>this.stagedVertex),(e=>{null!=e&&this.emit(\"cursor-update\",{updated:null,vertices:[{componentIndex:0,vertexIndex:this._activeComponent.vertices.length,coordinates:this.coordinateHelper.pointToArray(e)}],operation:\"apply\",type:\"vertex-update\"})}),{sync:!0,equals:(e,t)=>r(e,t,u)}),a((()=>this.view.viewpoint),((e,t)=>{e&&t&&h(e,t)&&this._onViewpointChange()}))]),this._activeComponent=new V(i,n),this._editGeometryOperations.data.components.push(this._activeComponent);const c=this.segmentLabels;null!=c&&(c.context={view:t,editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,labelOptions:this.labelOptions},this.addHandles([a((()=>this.labelOptions.enabled),(e=>{c.visible=e}),p),this.on(\"cursor-update\",(()=>{const e=this.stagedVertex;c.stagedVertex=null!=e?this.coordinateHelper.pointToVector(e):null}))])),this.addHandles(this._editGeometryOperations.on([\"vertex-add\",\"vertex-update\",\"vertex-remove\"],(e=>{const t=e.vertices.map((e=>({componentIndex:0,vertexIndex:e.index,coordinates:this.coordinateHelper.vectorToArray(e.pos)}))),i=t.map((e=>e.coordinates));switch(e.type){case\"vertex-add\":this.emit(e.type,{...e,added:i,vertices:t});break;case\"vertex-update\":this.emit(e.type,{...e,updated:i,vertices:t});break;case\"vertex-remove\":this.emit(e.type,{...e,removed:i,vertices:t})}const n=this._activeComponent.getLastVertex(),o=null!=n?this.coordinateHelper.vectorToDehydratedPoint(n.pos):null;null!=o&&null!=this.lastVertex&&u(this.lastVertex,o)||(this.lastVertex=o)})));const l=this._manipulator=new _({grabbableForEvent:e=>\"click\"!==this.drawingMode||\"touch\"===e.pointerType&&this._snappingEnabled&&1===this._pointerDownStates.size});this.manipulators.add(l),l.grabbable=\"point\"!==e,this.addHandles([this._createManipulatorDragPipeline(l),l.events.on(\"immediate-click\",(e=>this._onImmediateClick(e))),l.events.on(\"immediate-double-click\",(e=>this._onImmediateDoubleClick(e))),a((()=>({effectiveCursor:this.effectiveCursor})),(({effectiveCursor:e})=>{l.cursor=e}),p)]),E(this,(()=>{const e=this.view.inputManager.latestPointerType??\"mouse\",t=this._getSnappingContext(e);null!=this.snappingManager&&this._updatingHandles.addPromise(s(this._snappingOperation.resnap(this.snappingManager,t)))}))}destroy(){o(this.segmentLabels),o(this._snappingOperation),this._editGeometryOperations=o(this._editGeometryOperations),this._updatingHandles.destroy()}get _snappingEnabled(){return null!=this.snappingManager&&this.snappingManager.options.effectiveEnabled}get _requiresScenePoint(){const e=this._getEffectiveDrawSurface();return\"3d\"===this.view.type&&this.drawSurface!==e}get canRedo(){return this._editGeometryOperations.canRedo}get canUndo(){return this._editGeometryOperations.canUndo}get committedVertices(){return this._activeComponent.vertices.map((e=>this.coordinateHelper.vectorToArray(e.pos)))}set drawingMode(e){this._set(\"drawingMode\",e??y)}get effectiveCursor(){return this.loading?j:this._hideDefaultCursor?null:this.cursor||H}get interactive(){return this._manipulator.interactive}set interactive(e){this._manipulator.interactive=e}get isCompleted(){return this._createOperationCompleted}get numCommittedVertices(){return this._activeComponent.vertices.length}get numVertices(){return null!=this.stagedVertex?this._activeComponent.vertices.length+1:this._activeComponent.vertices.length}get snappingOptions(){return null!=this.snappingManager?this.snappingManager.options:null}get stagedVertex(){const e=this._snappingOperation.stagedPoint,{constraint:t,elevationInfo:i,view:n}=this;if(!e||!t)return e;const o=T(e,n,i),r=o?t.closestTo(o):void 0;return r?b(r,e.spatialReference):e}set stagedVertex(e){this._snappingOperation.stagedPoint=n(e)}get updating(){return this._updatingHandles.updating}get vertices(){const e=this.committedVertices;return null!=this.stagedVertex&&e.push(this.coordinateHelper.pointToArray(this.stagedVertex)),e}cancel(){this.complete({aborted:!0})}commitStagedVertex(){if(this._snappingOperation.abort(),null!=this.stagedVertex){const{stagedVertex:e}=this;this.stagedVertex=null,this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(e))}}complete(e){const t=e&&e.aborted||!1;this._snappingOperation.abort(),null!=this.snappingManager&&this.snappingManager.doneSnapping(),\"segment\"===this.geometryType||\"point\"===this.geometryType?this.commitStagedVertex():this.stagedVertex=null;const i=\"multipoint\"===this.geometryType&&0===this.numVertices||\"polyline\"===this.geometryType&&this.numVertices<2||\"polygon\"===this.geometryType&&this.numVertices<3;this._createOperationCompleted=!i,(this.isCompleted||t)&&this.emit(\"complete\",{vertices:this.vertices.map(((e,t)=>({componentIndex:0,vertexIndex:t,coordinates:e}))),aborted:t,type:\"complete\"})}onInputEvent(e){switch(e.type){case\"pointer-down\":this._pointerDownStates.add(e.pointerId);break;case\"pointer-up\":this._pointerDownStates.delete(e.pointerId)}switch(e.type){case\"pointer-move\":return this._onPointerMove(e);case\"hold\":return this._onHold(e)}}redo(){this._editGeometryOperations.redo()}undo(){null!=this.snappingManager&&this.snappingManager.doneSnapping(),this._editGeometryOperations.undo()}_closeOnClickVertexIndex(e){const t=this._activeComponent;if(\"polygon\"===this.geometryType&&t.vertices.length>2){if(this._vertexWithinPointerDistance(t.vertices[0].pos,e))return 0;if(this._vertexWithinPointerDistance(t.vertices[t.vertices.length-1].pos,e))return t.vertices.length-1}return null}_createManipulatorDragPipeline(e){switch(this.drawingMode){case\"click\":return this._createManipulatorDragPipelineClick(e);case\"freehand\":return this._createManipulatorDragPipelineFreehand(e);case\"hybrid\":return this._createManipulatorDragPipelineHybrid(e)}}_createManipulatorDragPipelineClick(e){return x(e,((e,t,i,n)=>{const o=\"touch\"===n&&this._snappingEnabled;if(this.isCompleted||!o)return;const{snappingStep:r,cancelSnapping:s}=D({predicate:()=>o,snappingManager:this.snappingManager,snappingContext:new C({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,feature:this.graphic,pointer:n,visualizer:this.snappingVisualizer}),updatingHandles:this._updatingHandles,useZ:!this._requiresScenePoint});i=i.next((e=>(o&&null!=this.snappingManager&&this.snappingManager.doneSnapping(),e))).next(s),t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(this.stagedVertex=e.mapStart,(\"segment\"===this.geometryType||o&&0===this.numVertices)&&this.commitStagedVertex()),e))).next(S(this.view,this.elevationInfo)).next(...r).next((e=>(o&&(this.stagedVertex=e.mapEnd,\"end\"===e.action&&this.commitStagedVertex()),e))).next((e=>(\"end\"===e.action&&(\"segment\"!==this.geometryType&&\"point\"!==this.geometryType||this.complete()),e)))}))}_createManipulatorDragPipelineFreehand(e){return x(e,((e,t)=>{this.isCompleted||t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(null==this.stagedVertex&&(this.stagedVertex=e.mapStart),\"segment\"===this.geometryType&&this.commitStagedVertex()),e))).next((e=>{switch(e.action){case\"start\":case\"update\":this.stagedVertex=e.mapEnd,\"polygon\"!==this.geometryType&&\"polyline\"!==this.geometryType||this.commitStagedVertex();break;case\"end\":this.complete()}return e}))}))}_createManipulatorDragPipelineHybrid(e){return x(e,((e,t)=>{this.isCompleted||t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(null==this.stagedVertex&&(this.stagedVertex=e.mapStart),this.commitStagedVertex()),e))).next((e=>{switch(e.action){case\"start\":case\"update\":this.stagedVertex=e.mapEnd,\"polygon\"!==this.geometryType&&\"polyline\"!==this.geometryType||this.commitStagedVertex();break;case\"end\":\"segment\"!==this.geometryType&&\"point\"!==this.geometryType||this.complete()}return e}))}))}get _drawAtFixedElevation(){return(\"segment\"===this.geometryType||\"polygon\"===this.geometryType)&&this.numCommittedVertices>0}_getEffectiveDrawSurface(){if(null==this.elevationDrawSurface)return this.drawSurface;if(!this.coordinateHelper.hasZ())return this.elevationDrawSurface.defaultZ=null,this.elevationDrawSurface;let e=this.defaultZ,t=!1;return null!=this.elevationInfo&&\"absolute-height\"===this.elevationInfo.mode&&(t=!0),null!=this.snapToSceneEnabled&&(t=this.snapToSceneEnabled),null!=this.elevationInfo&&\"on-the-ground\"===this.elevationInfo.mode&&(t=!1),this._drawAtFixedElevation&&(e=this.coordinateHelper.getZ(this._activeComponent.vertices[0].pos),t=!1),t?this.drawSurface:(this.elevationDrawSurface.defaultZ=e,this.elevationDrawSurface)}_mapToScreen(e){return this._getEffectiveDrawSurface()?.mapToScreen(e)}_onHold(e){this._snappingOperation.abort(),\"click\"===this.drawingMode&&\"touch\"===e.pointerType&&this._snappingEnabled&&(this.stagedVertex=e.mapPoint),e.stopPropagation()}_onImmediateClick(e){if(\"mouse\"===e.pointerType&&2===e.button||this._manipulator.dragging)return;const t=this._activeComponent;if(null!=this._closeOnClickVertexIndex(e.screenPoint))return e.stopPropagation(),void this.complete();const i=this._screenToMap(e.screenPoint);if(null!=i)switch(this.drawingMode){case\"freehand\":\"point\"===this.geometryType&&(null!=this.stagedVertex?this.commitStagedVertex():this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(i)),this.complete());break;case\"click\":case\"hybrid\":this._snappingOperation.abort(),null!=this.stagedVertex?this.commitStagedVertex():this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(i)),(\"point\"===this.geometryType||\"segment\"===this.geometryType&&2===t.vertices.length||\"segment\"===this.geometryType&&\"hybrid\"===this.drawingMode&&1===t.vertices.length)&&this.complete()}e.stopPropagation()}_onImmediateDoubleClick(e){this._manipulator.dragging||\"point\"===this.geometryType||(this.complete(),e.stopPropagation())}_onPointerMove(e){const t=c(e.x,e.y);this._stagedScreenPoint=t,this._stagedPointerType=e.pointerType,this._stagedPointerId=e.pointerId;const i=this._snappingOperation,n=this._manipulator;this._pointerDownStates.has(e.pointerId)||n.grabbing||!n.interactive?i.abort():(e.stopPropagation(),this._updateStagedVertexOnPointerMove(t,e.pointerType))}_onViewpointChange(){const e=this._manipulator;\"mouse\"===this._stagedPointerType&&this._stagedScreenPoint&&null!=this._stagedPointerId&&!this._pointerDownStates.has(this._stagedPointerId)&&!e.grabbing&&e.interactive?this._updateStagedVertexOnPointerMove(this._stagedScreenPoint,this._stagedPointerType??\"mouse\"):this._snappingOperation.abort()}_updateStagedVertexOnPointerMove(e,t){const i=this._snappingOperation,n=this._closeOnClickVertexIndex(e);if(null!=n)return this._closeOnVertex(n),void i.abort();const o=this._screenToMap(e),r=this._requiresScenePoint?this.drawSurface?.screenToMap(e):null;if(null==o)return this._hideDefaultCursor=!0,void i.abort();this._hideDefaultCursor=!1;const a=this.snappingManager;if(null==a)return this.stagedVertex=o,void i.abort();const p=this._getSnappingContext(t);this._updatingHandles.addPromise(s(i.snap({point:o,scenePoint:r},a,p)))}_closeOnVertex(e){this.stagedVertex=null;const t={componentIndex:0,vertexIndex:e,coordinates:this.coordinateHelper.vectorToArray(this._activeComponent.vertices[e].pos)};this.emit(\"cursor-update\",{updated:null,vertices:[t],operation:\"apply\",type:\"vertex-update\"})}_screenToMap(e){return this._getEffectiveDrawSurface()?.screenToMap(e)}_screenToMapDragEventStep(){let e=null;return t=>{if(\"start\"===t.action&&(e=this._screenToMap(t.screenStart)),null==e)return null;const i=this._screenToMap(t.screenEnd);return null!=i?{...t,mapStart:e,mapEnd:i}:null}}_vertexWithinPointerDistance(e,t){const i=25,n=this._mapToScreen(this.coordinateHelper.vectorToDehydratedPoint(e));return null!=n&&G(n,t,i)}_getSnappingContext(e){const t=this._drawAtFixedElevation?this.elevationDrawSurface?.defaultZ:null;return new C({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:e,feature:this.graphic,visualizer:this.snappingVisualizer,selfSnappingZ:null!=t?{value:t,elevationInfo:this.elevationInfo}:null})}};function G(e,t,i){const n=e.x-t.x,o=e.y-t.y;return n*n+o*o<=i}e([l()],k.prototype,\"_hideDefaultCursor\",void 0),e([l()],k.prototype,\"_snappingOperation\",void 0),e([l()],k.prototype,\"_snappingEnabled\",null),e([l({constructOnly:!0})],k.prototype,\"graphic\",void 0),e([l()],k.prototype,\"constraint\",void 0),e([l()],k.prototype,\"defaultZ\",void 0),e([l()],k.prototype,\"isDraped\",void 0),e([l({value:y})],k.prototype,\"drawingMode\",null),e([l({constructOnly:!0})],k.prototype,\"elevationDrawSurface\",void 0),e([l({constructOnly:!0})],k.prototype,\"elevationInfo\",void 0),e([l({constructOnly:!0,type:M})],k.prototype,\"labelOptions\",void 0),e([l({constructOnly:!0,type:P})],k.prototype,\"tooltipOptions\",void 0),e([l({constructOnly:!0})],k.prototype,\"geometryType\",void 0),e([l({constructOnly:!0})],k.prototype,\"hasM\",void 0),e([l({constructOnly:!0})],k.prototype,\"hasZ\",void 0),e([l()],k.prototype,\"cursor\",void 0),e([l()],k.prototype,\"effectiveCursor\",null),e([l()],k.prototype,\"loading\",void 0),e([l({constructOnly:!0})],k.prototype,\"manipulators\",void 0),e([l({constructOnly:!0})],k.prototype,\"drawSurface\",void 0),e([l({constructOnly:!0})],k.prototype,\"segmentLabels\",void 0),e([l({constructOnly:!0})],k.prototype,\"snappingManager\",void 0),e([l({constructOnly:!0})],k.prototype,\"snappingVisualizer\",void 0),e([l()],k.prototype,\"snapToSceneEnabled\",void 0),e([l()],k.prototype,\"stagedVertex\",null),e([l()],k.prototype,\"lastVertex\",void 0),e([l()],k.prototype,\"updating\",null),e([l({constructOnly:!0})],k.prototype,\"view\",void 0),k=e([d(\"esri.views.draw.DrawOperation\")],k);export{k as DrawOperation,H as defaultCursor,j as defaultLoadingCursor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{createScreenPointArray as e}from\"../../core/screenUtils.js\";import{makeDehydratedPoint as t}from\"../../layers/graphics/dehydratedPoint.js\";import{clonePoint as s}from\"../../layers/graphics/hydratedFeatures.js\";import{getConvertedElevation as i,getZForElevationMode as n}from\"../../support/elevationInfoUtils.js\";class r{constructor(e,t,s,i=null){this._elevationInfo=e,this.defaultZ=t,this._view=s,this._excludeGraphics=i}screenToMap(t){if(null!=this.defaultZ)return this._view.sceneIntersectionHelper.intersectElevationFromScreen(e(t.x,t.y),this._elevationInfo,this.defaultZ,this._excludeGraphics);const s=this._view.sceneIntersectionHelper.intersectElevationFromScreen(e(t.x,t.y),this._elevationInfo,0,this._excludeGraphics);return null!=s&&(s.z=void 0),s}mapToScreen(e){const s=t(e.x,e.y,i(this._view,e,this._elevationInfo),e.spatialReference);return this._view.toScreen(s)}constrainZ(e){const{defaultZ:t}=this;return null!=t&&e.z!==t&&((e=s(e)).z=t),e}}class o{constructor(e,t,s=[]){this.view=e,this.elevationInfo=t,this.exclude=s}screenToMap(e){const t=this.view.toMap(e,{exclude:this.exclude});return null!=t&&(t.z=n(t,this.view,this.elevationInfo)),t}mapToScreen(e){let s=e;return null!=this.elevationInfo&&(s=t(e.x,e.y,i(this.view,e,this.elevationInfo),e.spatialReference)),this.view.toScreen(s)}constrainZ(e){return e}}class c{constructor(e,t=!1,s=0){this.view=e,this.hasZ=t,this.defaultZ=s,this.mapToScreen=t=>e.toScreen(t),this.screenToMap=t?t=>{const i=e.toMap(t);return i.z=s,i}:t=>e.toMap(t)}constrainZ(e){const{defaultZ:t}=this;return this.hasZ&&e.z!==t&&((e=s(e)).z=t),e}}export{r as ElevationDrawSurface,c as MapDrawSurface,o as SceneDrawSurface};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Evented.js\";import{destroyMaybe as o}from\"../../core/maybe.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import{getEffectiveElevationInfo as n}from\"../../support/elevationInfoUtils.js\";import{DrawOperation as a}from\"./DrawOperation.js\";import{SceneDrawSurface as s,ElevationDrawSurface as p}from\"./drawSurfaces.js\";import{InteractiveToolBase as d}from\"../interactive/InteractiveToolBase.js\";let l=class extends(t.EventedMixin(d)){constructor(e){super(e),this.defaultZ=0,this.elevationInfo=null,this.hasZ=!0,this.mode=null,this.snapToScene=null,this.type=\"draw-3d\"}initialize(){const e=this.view,t=n(this.hasZ,this.elevationInfo);this.drawOperation=new a({view:e,manipulators:this.manipulators,geometryType:this.geometryType,drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,drawSurface:\"3d\"===e.type?new s(e,t):null,elevationDrawSurface:\"3d\"===e.type?new p(t,this.defaultZ,e):null,hasM:!1,elevationInfo:t}),this.addHandles([this.drawOperation.on(\"vertex-add\",(e=>this.onVertexAdd(e))),this.drawOperation.on(\"vertex-remove\",(e=>this.onVertexRemove(e))),this.drawOperation.on(\"vertex-update\",(e=>this.onVertexUpdate(e))),this.drawOperation.on(\"cursor-update\",(e=>this.onCursorUpdate(e))),this.drawOperation.on(\"complete\",(e=>this.onComplete(e)))]),this.finishToolCreation()}destroy(){this.drawOperation=o(this.drawOperation),this._set(\"view\",null)}get canRedo(){return this.drawOperation.canRedo}get canUndo(){return this.drawOperation.canUndo}set enabled(e){this.drawOperation.interactive=e,this._set(\"enabled\",e)}get updating(){return this.drawOperation?.updating??!1}completeCreateOperation(){this.drawOperation.complete()}onDeactivate(){this.drawOperation.isCompleted||this.drawOperation.cancel()}getVertexCoords(){return this.drawOperation.vertices}onInputEvent(e){this.drawOperation.onInputEvent(e)}redo(){this.drawOperation.redo()}reset(){}undo(){this.drawOperation.undo()}onComplete(e){this.emit(\"complete\",e)}onCursorUpdate(e){this.emit(\"cursor-update\",e)}onVertexAdd(e){this.emit(\"vertex-add\",e)}onVertexRemove(e){this.emit(\"vertex-remove\",e)}onVertexUpdate(e){this.emit(\"vertex-update\",e)}};e([r({constructOnly:!0,nonNullable:!0})],l.prototype,\"defaultZ\",void 0),e([r()],l.prototype,\"drawOperation\",void 0),e([r({constructOnly:!0})],l.prototype,\"elevationInfo\",void 0),e([r({value:!0})],l.prototype,\"enabled\",null),e([r({constructOnly:!0})],l.prototype,\"geometryType\",void 0),e([r({constructOnly:!0})],l.prototype,\"hasZ\",void 0),e([r({constructOnly:!0})],l.prototype,\"mode\",void 0),e([r()],l.prototype,\"snapToScene\",void 0),e([r({readOnly:!0})],l.prototype,\"type\",void 0),e([r({readOnly:!0})],l.prototype,\"updating\",null),e([r({constructOnly:!0,nonNullable:!0})],l.prototype,\"view\",void 0),l=e([i(\"esri.views.draw.DrawTool\")],l);export{l as DrawTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/Error.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import i from\"./DrawAction.js\";import{DrawTool as o}from\"./DrawTool.js\";import{CursorUpdateEvent as r,DrawCompleteEvent as s}from\"./input/DrawEvents.js\";import{ViewEventPriorities as n}from\"../input/InputManager.js\";import{sketchKeys as a}from\"../interactive/keybindings.js\";import{createScreenPointFromEvent as h}from\"../support/screenUtils.js\";import d from\"../../geometry/Point.js\";let p=class extends i{constructor(e){super(e),this._addVertexOnPointerUp=!1}initialize(){\"2d\"===this.view.type?this._addViewHandles():this._addDrawTool()}destroy(){\"2d\"===this.view.type?this._removeViewHandles():this._removeDrawTool(),this.emit(\"destroy\")}complete(){\"2d\"===this.view.type?this._cursorScreenPoint&&this._completeDrawing():this._drawTool.completeCreateOperation()}_addViewHandles(){this._removeViewHandles(),this.addHandles([this.view.on(\"pointer-down\",(e=>{this._shouldHandlePointerEvent(e)&&(this._abortSnapping(),this._activePointerId=e.pointerId,this._addVertexOnPointerUp=!0,this._cursorScreenPoint=h(e),\"touch\"===e.pointerType&&this._updateCursor(e.native))}),n.TOOL),this.view.on(\"pointer-move\",(e=>{this._abortSnapping(),this._cursorScreenPoint=h(e),\"touch\"!==e.pointerType&&this._updateCursor(e.native)}),n.TOOL),this.view.on(\"pointer-drag\",(e=>{this._shouldHandlePointerEvent(e)&&(this._abortSnapping(),this._addVertexOnPointerUp=!1)}),n.TOOL),this.view.on(\"pointer-up\",(e=>{if(this._shouldHandlePointerEvent(e))if(this._abortSnapping(),this._activePointerId=null,this._addVertexOnPointerUp)e.stopPropagation(),this._vertexAddHandler(e);else{const t=\"touch\"===e.pointerType;this._updateCursor(e.native,t)}}),n.TOOL),this.view.on(\"drag\",[\"Shift\"],(e=>{e.stopPropagation()}),n.TOOL),this.view.on(\"key-down\",(e=>{e.key===a.complete&&this._cursorScreenPoint&&(this._abortSnapping(),this._vertexAddHandler(e))}),n.TOOL)],this._viewHandlesKey)}_removeViewHandles(){this.removeHandles(this._viewHandlesKey)}_addDrawTool(){this._drawTool=new o({view:this.view,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:\"point\",mode:\"click\"}),this.view.addAndActivateTool(this._drawTool),this.addHandles([this._drawTool.on(\"cursor-update\",(e=>{1===e.vertices.length&&this.emit(\"cursor-update\",new r(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"complete\",(e=>{this.emit(\"draw-complete\",new s(null,this._drawTool.getVertexCoords())),this._removeDrawTool()}))],this._drawToolHandlesKey)}_removeDrawTool(){this.removeHandles(this._drawToolHandlesKey),this.view.tools.remove(this._drawTool),this._drawTool=null}_addVertex(e){const t=this._coordinateHelper.arrayToVector(e);this._isDuplicateOfLastVertex(t)||(this._lastVertexUnsnapped=this._stagedVertexUnsnapped,this._popCursorVertex(),this._editGeometryOperations.appendVertex(t),this.notifyChange(\"vertices\"),this._completeDrawing())}_updateCursor(e,t=!1){if(this._popCursorVertex(),!this._cursorScreenPoint)return;const i=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);null==i||t||this._pushCursorVertex(i.vertex,(()=>this.emit(\"cursor-update\",new r(this.view,e,this._activeComponent.vertices.length,this.vertices,null!=this._stagedVertex?new d(this._stagedVertex):null))))}_completeDrawing(e){this._activePointerId=null,this._popCursorVertex(),this._abortSnapping(),null!=this._snappingManager&&this._snappingManager.doneSnapping();const t=new s(e,this.vertices);this.emit(\"draw-complete\",t),t.defaultPrevented||this._removeViewHandles()}};p=e([t(\"esri.views.draw.PointDrawAction\")],p);export{p as PointDrawAction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import{destroyMaybe as t}from\"../../core/maybe.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import s from\"./DrawAction.js\";import{defaultDrawingMode as r,drawingModes as n}from\"./DrawingMode.js\";import{DrawTool as a}from\"./DrawTool.js\";import{VertexRemoveEvent as d,VertexAddEvent as h,CursorUpdateEvent as p,DrawCompleteEvent as l}from\"./input/DrawEvents.js\";import{ViewEventPriorities as c}from\"../input/InputManager.js\";import{sketchKeys as _}from\"../interactive/keybindings.js\";import{createScreenPointFromEvent as v}from\"../support/screenUtils.js\";import u from\"../../geometry/Point.js\";let m=class extends s{constructor(e){super(e),this._panEnabled=!1,this._popVertexOnPointerMove=!1,this._addVertexOnPointerUp=!1,this.mode=r}initialize(){\"2d\"===this.view.type?(this._addViewHandles(),this._addUndoRedoHandles()):this._addDrawTool()}destroy(){\"2d\"===this.view.type?(this._removeViewHandles(),this._removeUndoRedoHandles()):this._removeDrawTool(),this.emit(\"destroy\")}get _dragEnabled(){return\"freehand\"===this.mode||\"hybrid\"===this.mode}get _clickEnabled(){return\"click\"===this.mode||\"hybrid\"===this.mode}undo(){super.undo(),this.notifyChange(\"vertices\")}redo(){super.redo(),this.notifyChange(\"vertices\")}complete(){\"2d\"===this.view.type?this._completeDrawing():this._drawTool.completeCreateOperation()}_getGeometryZValue(){return this.hasZ&&this.vertices.length>0?this.vertices[0][2]:this.defaultZ}_addViewHandles(){this._removeViewHandles(),this.addHandles([this.view.on(\"click\",(e=>{e.stopPropagation()}),c.TOOL),this.view.on(\"pointer-down\",(e=>{this._shouldHandlePointerEvent(e)&&(this._abortSnapping(),this._activePointerId=e.pointerId,this._addVertexOnPointerUp=!0,this._cursorScreenPoint=v(e),\"touch\"===e.pointerType&&this._updateCursor(e.native))}),c.TOOL),this.view.on(\"pointer-move\",(e=>{this._abortSnapping(),this._popVertexOnPointerMove&&(this.undo(),this._popVertexOnPointerMove=!1),this._cursorScreenPoint=v(e),\"touch\"!==e.pointerType&&this._updateCursor(e.native)}),c.TOOL),this.view.on(\"pointer-drag\",(e=>{this._shouldHandlePointerEvent(e)&&(this._abortSnapping(),this._cursorScreenPoint=v(e),this._dragEnabled&&!this._panEnabled?this._vertexAddHandler(e):this._addVertexOnPointerUp=!1)}),c.TOOL),this.view.on(\"pointer-up\",(e=>{if(this._shouldHandlePointerEvent(e))if(this._abortSnapping(),this._activePointerId=null,this._addVertexOnPointerUp){if(!this._clickEnabled)return 1===this.vertices.length&&this.vertices.pop(),void this._drawCompleteHandler(e);this._vertexAddHandler(e)}else{const t=\"touch\"===e.pointerType;this._updateCursor(e.native,t)}}),c.TOOL),this.view.on(\"drag\",(e=>{this._dragEnabled&&null!=this._activePointerId&&!this._panEnabled&&e.stopPropagation()}),c.TOOL),this.view.on(\"drag\",[\"Shift\"],(e=>{e.stopPropagation()}),c.TOOL),this.view.on(\"double-click\",(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),c.TOOL),this.view.on(\"double-click\",[\"Control\"],(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),c.TOOL),this.view.on(\"key-down\",(e=>{const{key:t,repeat:i}=e;t===_.vertexAdd&&!i&&this._cursorScreenPoint?(e.stopPropagation(),this._abortSnapping(),this._vertexAddHandler(e)):t!==_.complete||i?t!==_.undo||this.interactiveUndoDisabled||i?t!==_.redo||this.interactiveUndoDisabled||i?t!==_.pan||i||(e.stopPropagation(),this._panEnabled=!0):(e.stopPropagation(),this.redo()):(e.stopPropagation(),this.undo()):(e.stopPropagation(),this._drawCompleteHandler(e))}),c.TOOL),this.view.on(\"key-up\",(e=>{e.key===_.pan&&(e.stopPropagation(),this._panEnabled=!1)}),c.TOOL)],this._viewHandlesKey)}_addUndoRedoHandles(){this._removeUndoRedoHandles(),this.addHandles([this._editGeometryOperations.on(\"vertex-remove\",(e=>{if(this.notifyChange(\"vertices\"),\"undo\"===e.operation){const t=this._nativeEventHistory.undoStack.pop();this._nativeEventHistory.redoStack.push(t);const i=[...this._committedVertices];null!=this._stagedVertex&&i.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit(\"undo\",new d(this.view,t,e.vertices[0].index,i))}})),this._editGeometryOperations.on(\"vertex-add\",(e=>{if(this.notifyChange(\"vertices\"),\"apply\"===e.operation){const e=this._nativeEventHistory.undoStack[this._nativeEventHistory.undoStack.length],t=this._committedVertices.length-1,i=new h(this.view,e,t,this.vertices);this.emit(\"vertex-add\",i),i.defaultPrevented&&(this._popVertexOnPointerMove=!0)}else if(\"redo\"===e.operation){const t=this._nativeEventHistory.redoStack.pop();this._nativeEventHistory.undoStack.push(t);const i=[...this._committedVertices];null!=this._stagedVertex&&i.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit(\"redo\",new h(this.view,t,e.vertices[0].index,i))}}))],this._undoRedoHandlesKey)}_removeViewHandles(){this.removeHandles(this._viewHandlesKey)}_removeUndoRedoHandles(){this.removeHandles(this._undoRedoHandlesKey)}_addDrawTool(){this._drawTool=new a({view:this.view,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:\"polygon\",mode:this.mode}),this.view.addAndActivateTool(this._drawTool),this._drawTool.on(\"vertex-add\",(e=>{1===e.vertices.length&&this.emit(\"vertex-add\",new h(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"cursor-update\",(e=>{1===e.vertices.length&&this.emit(\"cursor-update\",new p(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"complete\",(e=>{this.emit(\"draw-complete\",new l(null,this._drawTool.getVertexCoords())),this._removeDrawTool()}))}_removeDrawTool(){this.removeHandles(this._drawToolHandlesKey),this.view.tools.remove(this._drawTool),this._drawTool=t(this._drawTool)}_addVertex(e,t){const i=this._coordinateHelper.arrayToVector(e);if(this._isDuplicateOfLastVertex(i))return;this._lastVertexUnsnapped=this._stagedVertexUnsnapped,this._popCursorVertex(),this._editGeometryOperations.appendVertex(i);const o=t||new Event(\"placeholder\");this._nativeEventHistory.undoStack.push(o)}_updateCursor(e,t=!1){if(this._popCursorVertex(),!this._cursorScreenPoint)return;const i=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);null==i||t||this._pushCursorVertex(i.vertex,(()=>this.emit(\"cursor-update\",new p(this.view,e,this._activeComponent.vertices.length,this.vertices,null!=this._stagedVertex?new u(this._stagedVertex):null))))}_completeDrawing(e){if(this._activePointerId=null,this._popCursorVertex(),this._committedVertices.length<3)return;this._abortSnapping(),null!=this._snappingManager&&this._snappingManager.doneSnapping();const t=new l(e,this.vertices);this.emit(\"draw-complete\",t),t.defaultPrevented||this._removeViewHandles()}};e([i()],m.prototype,\"_dragEnabled\",null),e([i()],m.prototype,\"_clickEnabled\",null),e([i({type:n})],m.prototype,\"mode\",void 0),m=e([o(\"esri.views.draw.PolygonDrawAction\")],m);export{m as PolygonDrawAction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import{destroyMaybe as t}from\"../../core/maybe.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import s from\"./DrawAction.js\";import{defaultDrawingMode as r,drawingModes as n}from\"./DrawingMode.js\";import{DrawTool as a}from\"./DrawTool.js\";import{VertexRemoveEvent as d,VertexAddEvent as h,CursorUpdateEvent as p,DrawCompleteEvent as l}from\"./input/DrawEvents.js\";import{ViewEventPriorities as _}from\"../input/InputManager.js\";import{sketchKeys as c}from\"../interactive/keybindings.js\";import{createScreenPointFromEvent as v}from\"../support/screenUtils.js\";import u from\"../../geometry/Point.js\";let m=class extends s{constructor(e){super(e),this._panEnabled=!1,this._popVertexOnPointerMove=!1,this._addVertexOnPointerUp=!1,this.mode=r}initialize(){\"2d\"===this.view.type?(this._addViewHandles(),this._addUndoRedoHandles()):this._addDrawTool()}destroy(){\"2d\"===this.view.type?(this._removeViewHandles(),this._removeUndoRedoHandles()):this._removeDrawTool(),this.emit(\"destroy\")}get _clickEnabled(){return\"click\"===this.mode||\"hybrid\"===this.mode}get _dragEnabled(){return\"freehand\"===this.mode||\"hybrid\"===this.mode}undo(){super.undo(),this.notifyChange(\"vertices\")}redo(){super.redo(),this.notifyChange(\"vertices\")}complete(){\"2d\"===this.view.type?this._completeDrawing():this._drawTool.completeCreateOperation()}_addViewHandles(){this._removeViewHandles(),this.addHandles([this.view.on(\"click\",(e=>{e.stopPropagation()}),_.TOOL),this.view.on(\"pointer-down\",(e=>{this._shouldHandlePointerEvent(e)&&!this._panEnabled&&(this._abortSnapping(),this._activePointerId=e.pointerId,this._addVertexOnPointerUp=!0,this._cursorScreenPoint=v(e),\"touch\"===e.pointerType&&this._updateCursor(e.native))}),_.TOOL),this.view.on(\"pointer-move\",(e=>{this._popVertexOnPointerMove&&(this.undo(),this._popVertexOnPointerMove=!1),this._abortSnapping(),this._cursorScreenPoint=v(e),\"touch\"!==e.pointerType&&this._updateCursor(e.native)}),_.TOOL),this.view.on(\"pointer-drag\",(e=>{this._shouldHandlePointerEvent(e)&&(this._abortSnapping(),this._cursorScreenPoint=v(e),this._dragEnabled&&!this._panEnabled?this._vertexAddHandler(e):this._addVertexOnPointerUp=!1)}),_.TOOL),this.view.on(\"pointer-up\",(e=>{if(this._shouldHandlePointerEvent(e))if(this._abortSnapping(),this._activePointerId=null,this._addVertexOnPointerUp){if(!this._clickEnabled)return 1===this.vertices.length&&this.vertices.pop(),void this._drawCompleteHandler(e);this._vertexAddHandler(e)}else{const t=\"touch\"===e.pointerType;this._updateCursor(e.native,t)}}),_.TOOL),this.view.on(\"drag\",(e=>{this._dragEnabled&&null!=this._activePointerId&&!this._panEnabled&&e.stopPropagation()}),_.TOOL),this.view.on(\"drag\",[\"Shift\"],(e=>{e.stopPropagation()}),_.TOOL),this.view.on(\"double-click\",(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),_.TOOL),this.view.on(\"double-click\",[\"Control\"],(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),_.TOOL),this.view.on(\"key-down\",(e=>{const{key:t,repeat:i}=e;t===c.vertexAdd&&!i&&this._cursorScreenPoint?(e.stopPropagation(),this._abortSnapping(),this._vertexAddHandler(e)):t!==c.complete||i?t!==c.undo||this.interactiveUndoDisabled||i?t!==c.redo||this.interactiveUndoDisabled||i?t!==c.pan||i||(e.stopPropagation(),this._panEnabled=!0):(e.stopPropagation(),this.redo()):(e.stopPropagation(),this.undo()):(e.stopPropagation(),this._drawCompleteHandler(e))}),_.TOOL),this.view.on(\"key-up\",(e=>{e.key===c.pan&&(e.stopPropagation(),this._panEnabled=!1)}),_.TOOL)],this._viewHandlesKey)}_addUndoRedoHandles(){this._removeUndoRedoHandles(),this.addHandles([this._editGeometryOperations.on(\"vertex-remove\",(e=>{if(this.notifyChange(\"vertices\"),\"undo\"===e.operation){const t=this._nativeEventHistory.undoStack.pop();this._nativeEventHistory.redoStack.push(t);const i=[...this._committedVertices];null!=this._stagedVertex&&i.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit(\"undo\",new d(this.view,t,e.vertices[0].index,i))}})),this._editGeometryOperations.on(\"vertex-add\",(e=>{if(this.notifyChange(\"vertices\"),\"apply\"===e.operation){const e=this._nativeEventHistory.undoStack[this._nativeEventHistory.undoStack.length],t=this._committedVertices.length-1,i=new h(this.view,e,t,this.vertices);this.emit(\"vertex-add\",i),i.defaultPrevented&&(this._popVertexOnPointerMove=!0)}else if(\"redo\"===e.operation){const t=this._nativeEventHistory.redoStack.pop();this._nativeEventHistory.undoStack.push(t);const i=[...this._committedVertices];null!=this._stagedVertex&&i.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit(\"redo\",new h(this.view,t,e.vertices[0].index,i))}}))],this._undoRedoHandlesKey)}_removeViewHandles(){this.removeHandles(this._viewHandlesKey)}_removeUndoRedoHandles(){this.removeHandles(this._undoRedoHandlesKey)}_addDrawTool(){this._drawTool=new a({view:this.view,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:\"polyline\",mode:this.mode}),this.view.addAndActivateTool(this._drawTool),this.addHandles([this._drawTool.on(\"vertex-add\",(e=>{1===e.vertices.length&&this.emit(\"vertex-add\",new h(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"cursor-update\",(e=>{1===e.vertices.length&&this.emit(\"cursor-update\",new p(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"complete\",(e=>{this.emit(\"draw-complete\",new l(null,this._drawTool.getVertexCoords())),this._removeDrawTool()}))],this._drawToolHandlesKey)}_removeDrawTool(){this.removeHandles(this._drawToolHandlesKey),this.view.tools.remove(this._drawTool),this._drawTool=t(this._drawTool)}_addVertex(e,t){const i=this._coordinateHelper.arrayToVector(e);if(this._isDuplicateOfLastVertex(i))return;this._lastVertexUnsnapped=this._stagedVertexUnsnapped,this._popCursorVertex(),this._editGeometryOperations.appendVertex(i);const o=t||new Event(\"placeholder\");this._nativeEventHistory.undoStack.push(o)}_updateCursor(e,t=!1){if(this._popCursorVertex(),!this._cursorScreenPoint)return;const i=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);null==i||t||this._pushCursorVertex(i.vertex,(()=>this.emit(\"cursor-update\",new p(this.view,e,this._activeComponent.vertices.length,this.vertices,null!=this._stagedVertex?new u(this._stagedVertex):null))))}_completeDrawing(e){if(this._activePointerId=null,this._popCursorVertex(),this._committedVertices.length<2)return;this._abortSnapping(),null!=this._snappingManager&&this._snappingManager.doneSnapping();const t=new l(e,this.vertices);this.emit(\"draw-complete\",t),t.defaultPrevented||this._removeViewHandles()}};e([i()],m.prototype,\"_clickEnabled\",null),e([i()],m.prototype,\"_dragEnabled\",null),e([i({type:n})],m.prototype,\"mode\",void 0),m=e([o(\"esri.views.draw.PolylineDrawAction\")],m);export{m as PolylineDrawAction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{isSome as t}from\"../../../core/arrayUtils.js\";import{i as r}from\"../../../chunks/mat2d.js\";import{c as e,a as s}from\"../../../chunks/mat2df64.js\";import{r as a,i as o}from\"../../../chunks/quat.js\";import{a as i}from\"../../../chunks/quatf64.js\";import{i as n,j as l,f as h,n as m,b as c,v as f}from\"../../../chunks/vec3.js\";import{c as p}from\"../../../chunks/vec3f64.js\";import{Axis as d}from\"../../../geometry/support/Axis.js\";import u from\"../../../geometry/Point.js\";function w(t,r,e=null){return null!=e?[t,r,e]:[t,r]}function g(t,r,e=null){return null!=e?{x:t,y:r,z:e}:{x:t,y:r}}class R{constructor(t){this.spatialReference=t}mapToLocalMultiple(r){return r.map((t=>this.mapToLocal(t))).filter(t)}get doUnnormalization(){return!1}}class W extends R{constructor(t,a,o=null){super(a),this._defaultZ=o,this.transform=e(),this.transformInv=e(),this.transform=s(t),r(this.transformInv,this.transform)}makeMapPoint(t,r){return w(t,r,this._defaultZ)}mapToLocal(t){return g(this.transform[0]*t[0]+this.transform[2]*t[1]+this.transform[4],this.transform[1]*t[0]+this.transform[3]*t[1]+this.transform[5])}localToMap(t){return w(this.transformInv[0]*t.x+this.transformInv[2]*t.y+this.transformInv[4],this.transformInv[1]*t.x+this.transformInv[3]*t.y+this.transformInv[5],this._defaultZ)}}class v extends R{constructor(t,r){super(t.spatialReference),this.view=t,this.defaultZ=null,this.pWS=p(),this.tangentFrameUpWS=p(),this.tangentFrameRightWS=p(),this.tangentFrameForwardWS=p(),this.localFrameRightWS=p(),this.localFrameUpWS=p(),this.worldToLocalTransform=i(),this.localToWorldTransform=i(),this.scale=1,this.scale=t.resolution,this.referenceMapPoint=r,this.defaultZ=r.hasZ?r.z:null;const e=t.state.camera.viewRight;this.view.renderCoordsHelper.toRenderCoords(this.referenceMapPoint,this.pWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,d.X,this.tangentFrameRightWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,d.Y,this.tangentFrameUpWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,d.Z,this.tangentFrameForwardWS);const s=p();n(s,this.tangentFrameForwardWS,l(e,this.tangentFrameForwardWS)),h(this.localFrameRightWS,e,s),m(this.localFrameRightWS,this.localFrameRightWS),c(this.localFrameUpWS,this.tangentFrameForwardWS,this.localFrameRightWS),a(this.worldToLocalTransform,this.localFrameRightWS,this.tangentFrameRightWS),o(this.localToWorldTransform,this.worldToLocalTransform)}get doUnnormalization(){return\"global\"===this.view.viewingMode}makeMapPoint(t,r){return w(t,r,this.defaultZ)}mapToLocal(t){const r=p();this.view.renderCoordsHelper.toRenderCoords(new u({x:t[0],y:t[1],spatialReference:this.spatialReference}),r),f(r,r,this.worldToLocalTransform);const e=this.view.renderCoordsHelper.fromRenderCoords(r,this.view.spatialReference);return null!=e?g(e.x/this.scale,e.y/this.scale):null}localToMap(t){const r=p();this.view.renderCoordsHelper.toRenderCoords(new u({x:t.x*this.scale,y:t.y*this.scale,spatialReference:this.spatialReference}),r),f(r,r,this.localToWorldTransform);const e=this.view.renderCoordsHelper.fromRenderCoords(r,this.view.spatialReference);return null!=e?w(e.x,e.y,this.defaultZ):null}}function F(t,r){if(\"2d\"===t.type)return new W(t.state.transform,t.spatialReference,r.length>2?r[2]:null);if(\"3d\"===t.type){const e=r.length>2?new u({x:r[0],y:r[1],z:r[2],spatialReference:t.spatialReference}):new u({x:r[0],y:r[1],spatialReference:t.spatialReference});return new v(t,e)}return null}export{W as AffineCoordinateSystem,v as SceneViewCoordinateSystem,R as SurfaceCoordinateSystem,F as createViewAlignedCoordinateSystem,w as makeMapPoint,g as makeSurfacePoint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import{destroyMaybe as t}from\"../../core/maybe.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import{ViewingMode as s}from\"../ViewingMode.js\";import o from\"./DrawAction.js\";import{DrawTool as n}from\"./DrawTool.js\";import{VertexAddEvent as a,CursorUpdateEvent as h,DrawCompleteEvent as d}from\"./input/DrawEvents.js\";import{createViewAlignedCoordinateSystem as p}from\"./support/surfaceCoordinateSystems.js\";import{ViewEventPriorities as l}from\"../input/InputManager.js\";import{sketchKeys as _}from\"../interactive/keybindings.js\";import{EditGeometry as c,Component as m}from\"../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as v}from\"../interactive/editGeometry/EditGeometryOperations.js\";import{createScreenPointFromEvent as g}from\"../support/screenUtils.js\";import w from\"../../geometry/Point.js\";const u=[\"freehand\",\"click\"];let y=class extends o{constructor(e){super(e),this._isDragging=!1,this._panEnabled=!1,this._addVertexOnPointerUp=!1,this.viewAlignedCoordinateSystem=null,this.mode=\"freehand\"}initialize(){\"2d\"===this.view.type?this._addViewHandles():this._addDrawTool()}destroy(){\"2d\"===this.view.type?this._removeViewHandles():this._removeDrawTool(),this.emit(\"destroy\")}complete(){\"2d\"===this.view.type?this._completeDrawing():this._drawTool.completeCreateOperation()}_getGeometryZValue(){return this.hasZ&&this.vertices.length>0?this.vertices[0][2]:this.defaultZ}_addViewHandles(){this._removeViewHandles(),\"click\"===this.mode?this.addHandles(this._getClickModeViewHandles(),this._viewHandlesKey):this.addHandles(this._getDragModeViewHandles(),this._viewHandlesKey)}_getDragModeViewHandles(){return[this.view.on(\"immediate-click\",(e=>{if(e.stopPropagation(),e.mapPoint&&!this._panEnabled){null!=this.getCoordsFromScreenPoint(g(e))&&(this._vertexAddHandler(e),this._drawCompleteHandler(e))}}),l.TOOL),this.view.on(\"pointer-down\",(e=>{this._shouldHandlePointerEvent(e)&&(this._abortSnapping(),this._panEnabled||(this._resetGeometry(),this._addVertexOnPointerUp=!0,this._cursorScreenPoint=g(e),this._activePointerId=e.pointerId,this._vertexAddHandler(e),this._isDragging=!1,\"touch\"===e.pointerType&&this._updateCursor(e.native)))}),l.TOOL),this.view.on(\"pointer-move\",(e=>{this._abortSnapping(),null==this._activePointerId&&\"touch\"!==e.pointerType&&(this._cursorScreenPoint=g(e),this._updateCursor(e.native))}),l.TOOL),this.view.on(\"pointer-drag\",(e=>{this._shouldHandlePointerEvent(e)&&(this._abortSnapping(),this._isDragging=!0,this._cursorScreenPoint=g(e),this._updateCursor(e.native))}),l.TOOL),this.view.on(\"pointer-up\",(e=>{this._shouldHandlePointerEvent(e)&&this._addVertexOnPointerUp&&(this._abortSnapping(),this._activePointerId=null,this._isDragging&&this._vertexAddHandler(e),2===this._committedVertices.length&&this._drawCompleteHandler(e),this._isDragging=!1)}),l.TOOL),this.view.on(\"key-down\",(e=>{e.key===_.complete&&this._cursorScreenPoint?(this._abortSnapping(),this._vertexAddHandler(e),this._drawCompleteHandler(e)):e.key===_.pan&&(this._panEnabled=!0)}),l.TOOL),this.view.on(\"key-up\",(e=>{e.key===_.pan&&(this._panEnabled=!1)}),l.TOOL),this.view.on(\"drag\",(e=>{null!=this._activePointerId&&e.stopPropagation()}),l.TOOL),this.view.on(\"drag\",[\"Shift\"],(e=>{e.stopPropagation()}),l.TOOL)]}_getClickModeViewHandles(){return[this.view.on(\"pointer-down\",(e=>{this._abortSnapping(),this._cursorScreenPoint=g(e),this._activePointerId=e.pointerId,this._isDragging=!1,\"touch\"===e.pointerType&&this._updateCursor(e.native)}),l.TOOL),this.view.on(\"pointer-move\",(e=>{this._abortSnapping(),this._cursorScreenPoint=g(e),null==this._activePointerId&&\"touch\"!==e.pointerType&&this._updateCursor(e.native)}),l.TOOL),this.view.on(\"pointer-drag\",(e=>{this._shouldHandlePointerEvent(e)&&(this._abortSnapping(),this._isDragging=!0)}),l.TOOL),this.view.on(\"pointer-up\",(e=>{this._shouldHandlePointerEvent(e)&&(this._abortSnapping(),this._activePointerId=null,e.stopPropagation(),this._isDragging||this._vertexAddHandler(e),2!==this.vertices.length||this._isDragging||this._drawCompleteHandler(e),this._isDragging=!1)}),l.TOOL),this.view.on(\"key-down\",(e=>{e.key===_.vertexAdd&&this._cursorScreenPoint&&(this._vertexAddHandler(e),2===this.vertices.length&&this._drawCompleteHandler(e)),e.key===_.complete&&this._cursorScreenPoint&&2===this.vertices.length&&(this._vertexAddHandler(e),this._drawCompleteHandler(e))}),l.TOOL)]}_removeViewHandles(){this.removeHandles(this._viewHandlesKey)}_addDrawTool(){this._drawTool=new n({view:this.view,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:\"segment\",mode:this.mode}),this.view.addAndActivateTool(this._drawTool),this.addHandles([this._drawTool.on(\"vertex-add\",(e=>{1===e.vertices.length&&this.emit(\"vertex-add\",new a(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"cursor-update\",(e=>{1===e.vertices.length&&this.emit(\"cursor-update\",new h(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"complete\",(e=>{this.emit(\"draw-complete\",new d(null,this._drawTool.getVertexCoords())),this._removeDrawTool()}))],this._drawToolHandlesKey)}_removeDrawTool(){this.removeHandles(this._drawToolHandlesKey),this.view.tools.remove(this._drawTool),this._drawTool=t(this._drawTool)}_addVertex(e,t){const i=this._coordinateHelper.arrayToVector(e);if(this._isDuplicateOfLastVertex(i))return;this._lastVertexUnsnapped=this._stagedVertexUnsnapped,this._popCursorVertex(),this._editGeometryOperations.appendVertex(i),1===this._committedVertices.length&&(this.viewAlignedCoordinateSystem=p(this.view,this._committedVertices[0]));const r=this._committedVertices.length-1,s=new a(this.view,t,r,this.vertices);this.emit(\"vertex-add\",s)}_updateCursor(e){if(this._popCursorVertex(),!this._cursorScreenPoint)return;const t=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);null!=t&&this._pushCursorVertex(t.vertex,(()=>this.emit(\"cursor-update\",new h(this.view,e,this._activeComponent.vertices.length,this.vertices,null!=this._stagedVertex?new w(this._stagedVertex):null))))}_completeDrawing(e){if(this._activePointerId=null,this._popCursorVertex(),this._cursorScreenPoint=null,this._isDragging=!1,this._abortSnapping(),null!=this._snappingManager&&this._snappingManager.doneSnapping(),this.vertices.length<1)return;const t=new d(e,this.vertices);this.emit(\"draw-complete\",t),t.defaultPrevented||this._removeViewHandles()}_resetGeometry(){this._editGeometryOperations.destroy(),this._editGeometryOperations=new v(new c(\"polygon\",this._coordinateHelper)),this._activeComponent=new m(this._coordinateHelper.spatialReference,s.Local),this._editGeometryOperations.data.components.push(this._activeComponent)}};e([i({type:u})],y.prototype,\"mode\",void 0),y=e([r(\"esri/views/2d/engine/markup/SegmentDrawAction\")],y);export{y as SegmentDrawAction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import\"../../core/has.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import{MultipointDrawAction as r}from\"./MultipointDrawAction.js\";import{PointDrawAction as c}from\"./PointDrawAction.js\";import{PolygonDrawAction as s}from\"./PolygonDrawAction.js\";import{PolylineDrawAction as n}from\"./PolylineDrawAction.js\";import{SegmentDrawAction as a}from\"./SegmentDrawAction.js\";let p=class extends e{constructor(){super(...arguments),this.activeAction=null,this.type=\"draw\",this.view=null}destroy(){this.activeAction&&(this.activeAction.destroy(),this.activeAction=null)}create(t,e){this.reset();const o={view:this.view,...e};switch(t){case\"point\":o.editGeometryType=\"point\",this.activeAction=new c(o);break;case\"polyline\":o.editGeometryType=\"polyline\",this.activeAction=new n(o);break;case\"multipoint\":o.editGeometryType=\"polygon\",this.activeAction=new r(o);break;case\"polygon\":o.editGeometryType=\"polygon\",this.activeAction=new s(o);break;case\"rectangle\":case\"circle\":case\"ellipse\":case\"triangle\":o.editGeometryType=\"polygon\",this.activeAction=new a(o)}return this.activeAction}complete(){this.activeAction&&this.activeAction.complete(),this.activeAction=null}reset(){this.activeAction&&this.activeAction.destroy(),this.activeAction=null}};t([o()],p.prototype,\"activeAction\",void 0),t([o({readOnly:!0})],p.prototype,\"type\",void 0),t([o()],p.prototype,\"view\",void 0),p=t([i(\"esri.views.draw.Draw\")],p);const l=p;export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import o from\"../../core/Evented.js\";import{watch as i,sync as s}from\"../../core/reactiveUtils.js\";import{screenPointObjectToArray as r,pt2px as l,createScreenPointArray as n}from\"../../core/screenUtils.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";import{k as h}from\"../../chunks/vec2.js\";import{o as p}from\"../../chunks/vec3.js\";import{c as u}from\"../../chunks/vec3f64.js\";import{canProjectWithoutEngine as m,project as y}from\"../../geometry/projection.js\";import{projectPointToVector as g}from\"../../geometry/projection/projectPointToVector.js\";import{getGraphicEffectiveElevationMode as b}from\"../../support/elevationInfoUtils.js\";import{getDefaultSymbol2D as d}from\"../../symbols/support/defaults.js\";import f from\"../../symbols/support/ElevationInfo.js\";import{getSymbolInfo as _}from\"./support/utils.js\";import{intersectsDrapedGeometry as v}from\"../support/drapedUtils.js\";let S=class extends e{set graphic(t){this._circleCollisionCache=null,this._originalSymbol=t.symbol,this._set(\"graphic\",t),this.attachSymbolChanged()}get elevationInfo(){const{layer:t}=this.graphic,e=t&&\"elevationInfo\"in t?t.elevationInfo:null,o=b(this.graphic),i=e?e.offset:0;return new f({mode:o,offset:i})}set focusedSymbol(t){t!==this._get(\"focusedSymbol\")&&(this._set(\"focusedSymbol\",t),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(t){t!==this._get(\"grabbing\")&&(this._set(\"grabbing\",t),this._updateGraphicSymbol())}set hovering(t){t!==this._get(\"hovering\")&&(this._set(\"hovering\",t),this._updateGraphicSymbol())}set selected(t){t!==this._get(\"selected\")&&(this._set(\"selected\",t),this._updateGraphicSymbol(),this.events.emit(\"select-changed\",{action:t?\"select\":\"deselect\"}))}get _focused(){return this._get(\"hovering\")||this._get(\"grabbing\")}constructor(t){super(t),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.consumesClicks=!0,this.events=new o.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set(\"view\",null)}intersectionDistance(t){const e=this.graphic;if(!1===e.visible)return null;const o=e.geometry;if(null==o)return null;const i=this._get(\"focusedSymbol\"),s=null!=i?i:e.symbol;return\"2d\"===this.view.type?this._intersectDistance2D(this.view,t,o,s):this._intersectDistance3D(this.view,t,e)}attach(){this.attachSymbolChanged(),null!=this.layer&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),null!=this.layer&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=i((()=>this.graphic?.symbol),(t=>{null!=t&&t!==this.focusedSymbol&&t!==this._originalSymbol&&(this._originalSymbol=t,this._focused&&null!=this.focusedSymbol&&(this.graphic.symbol=this.focusedSymbol))}),s)}detachSymbolChanged(){null!=this._graphicSymbolChangedHandle&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}onElevationChange(){}onViewChange(){}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&null!=this.focusedSymbol?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(t,e,o,i){if(null==(i=i||d(o)))return null;const s=1;let n=this._circleCollisionCache;if(\"point\"===o.type&&\"cim\"===i.type&&\"CIMPointSymbol\"===i.data.symbol?.type&&i.data.symbol.symbolLayers){const{offsetX:l,offsetY:n,size:a}=_(i),c=r(e,j),p=a/2,u=t.toScreen(o),m=u.x+l,y=u.y+n;return h(c,[m,y])<p*p?s:null}if(\"point\"!==o.type||\"simple-marker\"!==i.type)return v(e,o,t)?s:null;if(null==n||!n.originalPoint.equals(o)){const e=o,s=t.spatialReference;if(m(e.spatialReference,s)){const t=y(e,s);n={originalPoint:e.clone(),mapPoint:t,radiusPx:l(i.size)},this._circleCollisionCache=n}}if(null!=n){const o=r(e,j),a=t.toScreen?.(n.mapPoint);if(!a)return null;const c=n.radiusPx,p=a.x+l(i.xoffset),u=a.y-l(i.yoffset);return h(o,[p,u])<c*c?s:null}return null}_intersectDistance3D(t,e,o){const i=t.toMap(e,{include:[o]});return i&&g(i,C,t.renderSpatialReference)?p(C,t.state.camera.eye):null}};t([a({constructOnly:!0,nonNullable:!0})],S.prototype,\"graphic\",null),t([a()],S.prototype,\"elevationInfo\",null),t([a({constructOnly:!0,nonNullable:!0})],S.prototype,\"view\",void 0),t([a({value:null})],S.prototype,\"focusedSymbol\",null),t([a({constructOnly:!0})],S.prototype,\"layer\",void 0),t([a()],S.prototype,\"interactive\",void 0),t([a()],S.prototype,\"selectable\",void 0),t([a()],S.prototype,\"grabbable\",void 0),t([a({value:!1})],S.prototype,\"grabbing\",null),t([a()],S.prototype,\"dragging\",void 0),t([a()],S.prototype,\"hovering\",null),t([a({value:!1})],S.prototype,\"selected\",null),t([a()],S.prototype,\"cursor\",void 0),S=t([c(\"esri.views.interactive.GraphicManipulator\")],S);const C=u(),j=n();export{S as GraphicManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{pt2px as o}from\"../../../core/screenUtils.js\";function s(s){let t=0,a=0,e=0;return s?(\"cim\"===s.type&&s.data.symbol&&\"symbolLayers\"in s.data.symbol&&s.data.symbol.symbolLayers&&s.data.symbol.symbolLayers.map((o=>{\"CIMVectorMarker\"===o.type&&o.anchorPoint&&(Math.abs(o.anchorPoint.x)>t&&(t=o.anchorPoint.x),Math.abs(o.anchorPoint.y)>a&&(a=o.anchorPoint.y),null!=o.size&&o.size>e&&(e=o.size))})),t=o(t),a=o(a),e=o(e),{offsetX:t,offsetY:a,size:e}):{offsetX:t,offsetY:a,size:e}}export{s as getSymbolInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import s from\"../../../core/Accessor.js\";import{abortMaybe as o,removeMaybe as r}from\"../../../core/maybe.js\";import{debounce as n}from\"../../../core/promiseUtils.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{TaskPriority as a,ImmediateTask as l}from\"../../support/Scheduler.js\";let p=class extends s{constructor(t){super(t),this.constrainResult=t=>t,this._snapPoints=null,this._frameTask=null,this._abortController=null,this._stagedPoint=null,this._snap=n((async(t,s,o,r)=>{const n=this._frameTask;if(null==n)return;const e=await n.schedule((()=>s.snap({...t,context:o,signal:r})),r);e.valid&&await n.schedule((()=>{this.stagedPoint=e.apply(),t!==this._snapPoints&&null!=this._snapPoints&&(this.stagedPoint=s.update({...this._snapPoints,context:o}))}),r)}))}get stagedPoint(){return this._stagedPoint}set stagedPoint(t){this._stagedPoint=this.constrainResult(t)}initialize(){const t=\"3d\"===this.view.type?this.view?.resourceController?.scheduler:null;this._frameTask=null!=t?t.registerTask(a.SNAPPING):l}destroy(){this._abortController=o(this._abortController),this._frameTask=r(this._frameTask)}update(t,s,o){this._snapPoints=t;const{point:r,scenePoint:n}=t,e=s.update({point:r,scenePoint:n,context:o});return this.stagedPoint=e,e}async snap(t,s,o){const{point:r,scenePoint:n}=t;return this.stagedPoint=s.update({point:r,scenePoint:n,context:o}),this._snapPoints=t,null==this._abortController&&(this._abortController=new AbortController),this._snap(t,s,o,this._abortController.signal)}async resnap(t,s){null!=this._snapPoints&&await this.snap(this._snapPoints,t,s)}abort(){this._abortController=o(this._abortController),this._snapPoints=null}};t([e({constructOnly:!0})],p.prototype,\"view\",void 0),t([e()],p.prototype,\"stagedPoint\",null),t([e()],p.prototype,\"constrainResult\",void 0),t([e()],p.prototype,\"_stagedPoint\",void 0),p=t([i(\"esri.views.interactive.snapping.SnappingOperation\")],p);export{p as SnappingOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import{getMetersPerUnitForSR as e}from\"../../core/unitUtils.js\";import{calculateTolerance as t}from\"../../renderers/support/clickToleranceUtils.js\";import n from\"../../geometry/Extent.js\";function r(t,r,i,a=new n){let o=0;if(\"2d\"===i.type)o=r*(i.resolution??0);else if(\"3d\"===i.type){const n=i.overlayPixelSizeInMapUnits(t),a=i.basemapSpatialReference;o=null==a||a.equals(i.spatialReference)?r*n:e(a)/e(i.spatialReference)}const s=t.x-o,l=t.y-o,m=t.x+o,p=t.y+o,{spatialReference:c}=i;return a.xmin=Math.min(s,m),a.ymin=Math.min(l,p),a.xmax=Math.max(s,m),a.ymax=Math.max(l,p),a.spatialReference=c,a}function i(e,n,i){const o=i.toMap(e);if(null==o)return!1;return r(o,t(),i,a).intersects(n)}const a=new n;export{r as createQueryGeometry,i as intersectsDrapedGeometry};\n"],"names":["r","t","u","type","n","value","unit","i","l","o","e","arguments","length","undefined","rotationType","f","s","b","units","g","concat","minimumFractionDigits","maximumFractionDigits","signDisplay","D","y","d","c","B","a","j","m","$","Map","I","O","Math","round","floor","log","KILOBYTES","bytes","fileSize","p","constructor","super","this","elevationInfo","graphics","screenSizePerspectiveEnabled","internal","destroy","removeAll","add","addMany","remove","removeMany","on","graphicChanged","emit","prototype","readOnly","constructOnly","h","xoffset","max","abs","yoffset","_t$stops","stops","size","filter","map","maxSize","minSize","_e$event","renderer","event","pointerType","visualVariables","symbol","_n$uniqueValueInfos","uniqueValueInfos","forEach","classBreakInfos","S","_graphicsLayer","_symbolPairingsByType","visualizeIntersectionPoint","_visualizeSnappingIndicator","x","intersectionPoint","spatialReference","_getOrCreateSymbol","view","effectiveTheme","accentColor","visualizePoint","point","visualizeLine","paths","lineStart","lineEnd","visualizeParallelSign","visualizeRightAngleQuad","centerVertex","previousVertex","nextVertex","geometry","_r$get","get","color","set","toRgb","outline","width","data","symbolLayers","enable","capStyle","Butt","joinStyle","Round","miterLimit","lineHintWidthTarget","anchorPoint","z","anchorPointUnits","markerPlacement","placePerPart","angleToLine","relativeTo","frame","xmin","ymin","xmax","ymax","markerGraphics","rings","scaleSymbolsProportionally","respectFrame","rightAngleHintSize","rotation","placeOnEndPoints","rightAngleHintOutlineSize","v","EventedAccessor","_e$editGeometryType","_hasZ","_cursorScreenPoint","_activePointerId","_stagedVertexUnsnapped","_lastVertexUnsnapped","_viewHandlesKey","_undoRedoHandlesKey","_drawToolHandlesKey","_nativeEventHistory","undoStack","redoStack","interactiveUndoDisabled","history","redoHistory","snapToScene","defaultZ","_coordinateHelper","hasZ","_snappingManager","snappingManager","_editGeometryOperations","editGeometryType","_snappingGraphicsLayer","id","SNAPPING_GRAPHICS_LAYER_ID","listMode","_snappingContext","editGeometryOperations","mode","offset","pointer","visualizer","_activeComponent","_","Local","components","push","normalizeCtorArgs","initialize","_snappingOperation","layers","doneSnapping","_committedVertices","vertices","pos","_stagedVertex","pointToArray","notifyChange","stagedPoint","canUndo","canRedo","undo","redo","getCoordsFromScreenPoint","screenToMap","getCoordsAndPointFromScreenPoint","vertex","mapPoint","_this$elevationInfo","sceneIntersectionHelper","intersectElevationFromScreen","_getGeometryZValue","_this$elevationInfo2","w","toMap","_pushCursorVertex","snap","then","_popCursorVertex","_abortSnapping","abort","_isDuplicateOfLastVertex","_this$_editGeometryOp","getLastVertex","vectorToDehydratedPoint","_shouldHandlePointerEvent","_isPrimaryPointerAction","pointerId","_vertexAddHandler","_addVertex","native","_drawCompleteHandler","_completeDrawing","button","Boolean","nonNullable","G","vertexIndex","defaultPrevented","preventDefault","coordinates","_popVertexOnPointerMove","_addVertexOnPointerUp","_addViewHandles","_addUndoRedoHandles","_removeViewHandles","_removeUndoRedoHandles","complete","addHandles","stopPropagation","TOOL","_updateCursor","key","repeat","vertexAdd","pan","operation","pop","index","removeHandles","arrayToVector","appendVertex","Event","_ref","grabbableForEvent","events","interactive","selectable","cursor","grabbable","consumesClicks","intersectionDistance","attach","detach","onElevationChange","onViewChange","enabled","toJSON","String","area","distance","elevation","helpMessage","orientation","radius","scale","totalLength","inputEnabled","visibleElements","k","EventedMixin","_createOperationCompleted","_hideDefaultCursor","_pointerDownStates","Set","_stagedScreenPoint","_stagedPointerType","_stagedPointerId","_updatingHandles","constraint","isDraped","labelOptions","M","tooltipOptions","P","loading","snapToSceneEnabled","lastVertex","geometryType","state","viewingMode","coordinateHelper","hasM","constrainResult","_this$_getEffectiveDr","_getEffectiveDrawSurface","constrainZ","stagedVertex","updated","componentIndex","sync","equals","viewpoint","_onViewpointChange","V","segmentLabels","context","visible","pointToVector","vectorToArray","added","removed","_manipulator","drawingMode","_snappingEnabled","manipulators","_createManipulatorDragPipeline","_onImmediateClick","_onImmediateDoubleClick","effectiveCursor","E","_this$view$inputManag","inputManager","latestPointerType","_getSnappingContext","addPromise","resnap","options","effectiveEnabled","_requiresScenePoint","drawSurface","committedVertices","_set","isCompleted","numCommittedVertices","numVertices","snappingOptions","T","closestTo","updating","cancel","aborted","commitStagedVertex","onInputEvent","delete","_onPointerMove","_onHold","_closeOnClickVertexIndex","_vertexWithinPointerDistance","_createManipulatorDragPipelineClick","_createManipulatorDragPipelineFreehand","_createManipulatorDragPipelineHybrid","snappingStep","cancelSnapping","predicate","snappingContext","C","feature","graphic","snappingVisualizer","updatingHandles","useZ","next","_screenToMapDragEventStep","action","mapStart","mapEnd","_drawAtFixedElevation","elevationDrawSurface","getZ","_mapToScreen","_this$_getEffectiveDr2","mapToScreen","dragging","screenPoint","_screenToMap","has","grabbing","_updateStagedVertexOnPointerMove","_this$_stagedPointerT","_this$drawSurface","_closeOnVertex","scenePoint","_this$_getEffectiveDr3","screenStart","screenEnd","_this$elevationDrawSu","selfSnappingZ","_elevationInfo","_view","_excludeGraphics","toScreen","exclude","drawOperation","onVertexAdd","onVertexRemove","onVertexUpdate","onCursorUpdate","onComplete","finishToolCreation","_this$drawOperation$u","_this$drawOperation","completeCreateOperation","onDeactivate","getVertexCoords","reset","_addDrawTool","_removeDrawTool","_drawTool","addAndActivateTool","tools","_panEnabled","_dragEnabled","_clickEnabled","R","mapToLocalMultiple","mapToLocal","doUnnormalization","W","_defaultZ","transform","transformInv","makeMapPoint","localToMap","pWS","tangentFrameUpWS","tangentFrameRightWS","tangentFrameForwardWS","localFrameRightWS","localFrameUpWS","worldToLocalTransform","localToWorldTransform","resolution","referenceMapPoint","camera","viewRight","renderCoordsHelper","toRenderCoords","worldBasisAtPosition","X","Y","Z","fromRenderCoords","_isDragging","viewAlignedCoordinateSystem","_getClickModeViewHandles","_getDragModeViewHandles","_resetGeometry","activeAction","create","_circleCollisionCache","_originalSymbol","attachSymbolChanged","layer","focusedSymbol","_get","_updateGraphicSymbol","hovering","selected","_focused","EventEmitter","_graphicSymbolChangedHandle","detachSymbolChanged","_resetGraphicSymbol","_intersectDistance2D","_intersectDistance3D","_this$graphic","_i$data$symbol","offsetX","offsetY","originalPoint","clone","radiusPx","_t$toScreen","call","include","renderSpatialReference","eye","_snapPoints","_frameTask","_abortController","_stagedPoint","_snap","async","schedule","signal","valid","apply","update","_this$view","resourceController","scheduler","registerTask","SNAPPING","AbortController","_i$resolution","overlayPixelSizeInMapUnits","basemapSpatialReference","min","intersects"],"sourceRoot":""}