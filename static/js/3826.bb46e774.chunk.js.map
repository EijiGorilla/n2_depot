{"version":3,"file":"static/js/3826.bb46e774.chunk.js","mappings":"qOAIggB,IAAIA,EAAE,EAAEC,EAAE,eAAcC,EAAAA,EAAAA,KAAEC,EAAAA,EAAAA,IAAEC,EAAAA,EAAAA,IAAEC,EAAAA,MAAMC,WAAAA,CAAYC,GAAGC,MAAMD,GAAGE,KAAKC,GAAE,GAAAC,OAAIC,KAAKC,MAAMC,SAAS,IAAG,cAAAH,OAAaX,KAAMS,KAAKM,MAAM,IAAI,CAAC,UAAIC,GAAS,OAAOP,KAAKQ,KAAK,SAAS,CAAC,UAAID,CAAOT,GAAG,MAAMF,EAAEI,KAAKO,OAAO,GAAG,MAAMX,EAAE,OAAOA,EAAEa,MAAM,IAAI,gBAAgB,IAAI,YAAYb,EAAEc,gBAAgBV,MAAM,MAAM,IAAI,KAAK,IAAI,KAAKJ,EAAEe,SAASC,SAASZ,OAAOJ,EAAEe,SAASE,OAAOb,MAAMA,KAAKc,KAAK,SAAShB,EAAE,CAAC,cAAIiB,GAAa,OAAOf,KAAKgB,6BAA6BC,MAAMC,EAAAA,GAAE,IAAGpB,EAAAA,EAAAA,GAAE,EAACqB,EAAAA,EAAAA,IAAE,CAACV,KAAKW,OAAOC,eAAc,EAAGC,UAAS,KAAM9B,EAAE+B,UAAU,UAAK,IAAQzB,EAAAA,EAAAA,GAAE,EAACqB,EAAAA,EAAAA,IAAE,CAACV,KAAKW,UAAU5B,EAAE+B,UAAU,aAAQ,IAAQzB,EAAAA,EAAAA,GAAE,EAACqB,EAAAA,EAAAA,IAAE,CAACE,eAAc,KAAM7B,EAAE+B,UAAU,YAAO,IAAQzB,EAAAA,EAAAA,GAAE,EAACqB,EAAAA,EAAAA,IAAE,CAACG,UAAS,EAAGE,MAAM,QAAQhC,EAAE+B,UAAU,SAAS,OAAMzB,EAAAA,EAAAA,GAAE,EAACqB,EAAAA,EAAAA,IAAE,CAACM,UAAS,KAAMjC,EAAE+B,UAAU,aAAa,OAAMzB,EAAAA,EAAAA,GAAE,EAACqB,EAAAA,EAAAA,IAAE,CAACM,UAAS,KAAMjC,EAAE+B,UAAU,oCAA+B,GAAQ/B,GAAEM,EAAAA,EAAAA,GAAE,EAAC4B,EAAAA,EAAAA,GAAE,2BAA2BlC,GAAG,MAAMmC,EAAEnC,C,4NCA5gB,SAASoC,EAAErC,EAAEE,GAAG,MAAMC,EAAED,EAAEoC,QAAOjC,EAAAA,EAAAA,GAAEF,EAAE,EAAE,EAAE,GAAG,IAAI,IAAIE,EAAE,EAAEA,EAAEL,EAAEuC,SAASlC,GAAEE,EAAAA,EAAAA,GAAEJ,EAAEA,EAAEH,EAAEK,KAAIsB,EAAAA,EAAAA,GAAExB,EAAEA,EAAE,EAAEH,EAAEuC,QAAQ,IAAIC,EAAE,EAAE,IAAI,IAAInC,EAAE,EAAEA,EAAEL,EAAEuC,SAASlC,EAAEmC,EAAEC,KAAKC,IAAIF,GAAEpC,EAAAA,EAAAA,GAAED,EAAEH,EAAEK,KAAKH,EAAEyC,OAAOF,KAAKG,KAAKJ,EAAE,CAAC,SAASK,EAAExC,EAAEE,GAAG,GAAGF,EAAEkC,OAAO,EAAE,MAAM,IAAIO,MAAM,0CAAyCC,EAAAA,EAAAA,IAAE1C,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGE,EAAE,CAAC,SAASyC,EAAE3C,EAAEE,GAAG,OAAOP,EAAAA,EAAAA,GAAEK,EAAEE,GAAGF,EAAE,EAAE,CAAC,SAAS4C,EAAE5C,EAAEE,EAAEoB,GAAG,OAAO1B,EAAAA,EAAAA,GAAEI,EAAE6C,EAAEvB,KAAI1B,EAAAA,EAAAA,GAAEM,EAAE4C,EAAExB,IAAGzB,EAAAA,EAAAA,GAAEgD,EAAEC,GAAG,CAAC,CAAC,SAASC,EAAE/C,EAAEE,GAAG,KAAI8C,EAAAA,EAAAA,GAAEhD,EAAE6C,MAAKG,EAAAA,EAAAA,GAAE9C,EAAE4C,GAAG,OAAO,EAAE,MAAMxB,EAAE,IAAI2B,EAAAA,GAAE,OAAOC,EAAAA,EAAAA,IAAE5B,EAAE,CAACuB,EAAE,GAAGA,EAAE,IAAI,CAACC,EAAE,GAAGA,EAAE,KAAKxB,EAAE6B,QAAQ,CAAC,SAASC,EAAEpD,EAAEE,EAAEoB,GAAG,MAAMvB,EAAE,IAAIkD,EAAAA,GAAE,OAAOC,EAAAA,EAAAA,IAAEnD,EAAE,CAACC,EAAE,GAAGA,EAAE,IAAI,CAACE,EAAE,GAAGA,EAAE,IAAIoB,GAAGvB,EAAEoD,QAAQ,CAAC,SAASE,EAAErD,EAAEE,EAAEoB,EAAEvB,GAAG,MAAMJ,EAAE2D,EAAE,OAAOC,EAAAA,EAAAA,GAAEvD,EAAED,EAAE8C,KAAIU,EAAAA,EAAAA,GAAErD,EAAEH,EAAE+C,KAAIS,EAAAA,EAAAA,GAAEjC,EAAEvB,EAAEyD,IAAI7D,EAAE8D,SAAS,EAAE,EAAEZ,GAAGlD,EAAE8D,SAAS,EAAE,EAAEX,GAAGnD,EAAE8D,SAAS,EAAE,EAAED,GAAGpB,KAAKsB,KAAIC,EAAAA,EAAAA,cAAEhE,EAAE,mBAAmB,CAAC,CAAC,SAASiE,EAAEtC,GAAc,IAAZvB,EAAC8D,UAAA3B,OAAA,QAAA4B,IAAAD,UAAA,GAAAA,UAAA,GAAC,KAAKhE,IAACgE,UAAA3B,OAAA,QAAA4B,IAAAD,UAAA,KAAAA,UAAA,GAAK,MAAaF,EAAEA,CAAC3D,EAAEE,KAAK,GAAG,IAAIA,EAAE,IAAI,IAAIA,EAAE,IAAI,IAAIA,EAAE,GAAG,OAAM,EAAG,IAAI,IAAIoB,EAAE,EAAEA,EAAEtB,EAAEkC,SAASZ,EAAE,IAAG3B,EAAAA,EAAAA,GAAEO,EAAEF,EAAEsB,KAA5F,KAAmG,OAAM,EAAG,OAAM,CAAE,EAAE,GAAG,IAAIA,EAAEY,OAAO,OAAM,EAAG,GAAG,IAAIZ,EAAEY,OAAO,OAAOnC,IAAGD,EAAAA,EAAAA,GAAEC,EAAEuB,EAAE,KAAI,GAAGtB,EAAAA,EAAAA,GAAE+D,EAAE,EAAE,EAAE,GAAG,IAAI,IAAI/D,EAAE,EAAEA,EAAEsB,EAAEY,SAASlC,GAAEE,EAAAA,EAAAA,GAAE6D,EAAEA,EAAEzC,EAAEtB,IAAI,IAAGmC,EAAAA,EAAAA,GAAE4B,EAAEA,GAAGJ,EAAErC,EAAEyC,GAAG,OAAOhE,IAAGD,EAAAA,EAAAA,GAAEC,EAAEgE,IAAG,EAAG,IAAIlE,EAAE,OAAM,EAAG,IAAI,IAAIG,EAAE,EAAEA,EAAEsB,EAAEY,SAASlC,EAAE,IAAI,IAAIE,EAAE,EAAEA,EAAEoB,EAAEY,SAAShC,EAAE,GAAGF,IAAIE,KAAI4B,EAAAA,EAAAA,GAAEiC,EAAEzC,EAAEtB,GAAGsB,EAAEpB,KAAIiC,EAAAA,EAAAA,GAAE4B,EAAEA,GAAGJ,EAAErC,EAAEyC,IAAI,OAAOhE,IAAGD,EAAAA,EAAAA,GAAEC,EAAEgE,IAAG,EAAG,OAAM,CAAE,CAAC,SAASC,EAAEhE,GAAG,MAAM,UAAUA,EAAEiE,aAAa,IAAIjE,EAAEkE,MAAM,CAAC,MAAMrB,GAAEd,EAAAA,EAAAA,KAAIe,GAAEf,EAAAA,EAAAA,KAAIyB,GAAEzB,EAAAA,EAAAA,KAAIuB,EAAE,IAAIa,EAAAA,EAAE,CAACC,MAAM,CAAC,CAACvB,EAAEC,EAAEU,IAAIa,iBAAiB9C,EAAAA,EAAE+C,QAAQP,GAAEhC,EAAAA,EAAAA,I,gJCAviD,IAAIR,EAAE,cAAczB,EAAAA,EAAEG,WAAAA,CAAYD,GAAGG,MAAMH,GAAGI,KAAKmE,gBAAgBvE,GAAGA,EAAEI,KAAKoE,YAAY,KAAKpE,KAAKqE,WAAW,KAAKrE,KAAKsE,iBAAiB,KAAKtE,KAAKuE,aAAa,KAAKvE,KAAKwE,OAAMjF,EAAAA,EAAAA,KAAGkF,MAAM7E,EAAEF,EAAEC,EAAEuB,KAAK,MAAM3B,EAAES,KAAKqE,WAAW,GAAG,MAAM9E,EAAE,OAAO,MAAMO,QAAQP,EAAEmF,UAAU,IAAIhF,EAAEiF,KAAK,IAAI/E,EAAEgF,QAAQjF,EAAEkF,OAAO3D,KAAKA,GAAGpB,EAAEgF,aAAavF,EAAEmF,UAAU,KAAK1E,KAAK+E,YAAYjF,EAAEkF,QAAQpF,IAAII,KAAKoE,aAAa,MAAMpE,KAAKoE,cAAcpE,KAAK+E,YAAYrF,EAAEuF,OAAO,IAAIjF,KAAKoE,YAAYQ,QAAQjF,IAAI,GAAGuB,EAAE,GAAG,CAAC,eAAI6D,GAAc,OAAO/E,KAAKuE,YAAY,CAAC,eAAIQ,CAAYnF,GAAGI,KAAKuE,aAAavE,KAAKmE,gBAAgBvE,EAAE,CAACsF,UAAAA,GAAY,IAAAC,EAAC,MAAMvF,EAAE,OAAOI,KAAKoF,KAAK3E,KAAc,QAAV0E,EAACnF,KAAKoF,YAAI,IAAAD,GAAoB,QAApBA,EAATA,EAAWE,0BAAkB,IAAAF,OAAA,EAA7BA,EAA+BG,UAAU,KAAKtF,KAAKqE,WAAW,MAAMzE,EAAEA,EAAE2F,aAAa7D,EAAAA,GAAE8D,UAAUhG,EAAAA,EAAC,CAACiG,OAAAA,GAAUzF,KAAKsE,kBAAiB3E,EAAAA,EAAAA,IAAEK,KAAKsE,kBAAkBtE,KAAKqE,YAAWnD,EAAAA,EAAAA,IAAElB,KAAKqE,WAAW,CAACY,MAAAA,CAAOrF,EAAEF,EAAEC,GAAGK,KAAKoE,YAAYxE,EAAE,MAAM8F,MAAMxE,EAAEyE,WAAWpG,GAAGK,EAAEE,EAAEJ,EAAEuF,OAAO,CAACS,MAAMxE,EAAEyE,WAAWpG,EAAEqF,QAAQjF,IAAI,OAAOK,KAAK+E,YAAYjF,EAAEA,CAAC,CAAC,UAAM6E,CAAK/E,EAAEF,EAAEC,GAAG,MAAM+F,MAAMxE,EAAEyE,WAAWpG,GAAGK,EAAE,OAAOI,KAAK+E,YAAYrF,EAAEuF,OAAO,CAACS,MAAMxE,EAAEyE,WAAWpG,EAAEqF,QAAQjF,IAAIK,KAAKoE,YAAYxE,EAAE,MAAMI,KAAKsE,mBAAmBtE,KAAKsE,iBAAiB,IAAIsB,iBAAiB5F,KAAKwE,MAAM5E,EAAEF,EAAEC,EAAEK,KAAKsE,iBAAiBO,OAAO,CAAC,YAAMgB,CAAOjG,EAAEF,GAAG,MAAMM,KAAKoE,mBAAmBpE,KAAK2E,KAAK3E,KAAKoE,YAAYxE,EAAEF,EAAE,CAACoG,KAAAA,GAAQ9F,KAAKsE,kBAAiB3E,EAAAA,EAAAA,IAAEK,KAAKsE,kBAAkBtE,KAAKoE,YAAY,IAAI,IAAGxE,EAAAA,EAAAA,GAAE,EAACE,EAAAA,EAAAA,IAAE,CAACuB,eAAc,KAAMF,EAAEI,UAAU,YAAO,IAAQ3B,EAAAA,EAAAA,GAAE,EAACE,EAAAA,EAAAA,OAAKqB,EAAEI,UAAU,cAAc,OAAM3B,EAAAA,EAAAA,GAAE,EAACE,EAAAA,EAAAA,OAAKqB,EAAEI,UAAU,uBAAkB,IAAQ3B,EAAAA,EAAAA,GAAE,EAACE,EAAAA,EAAAA,OAAKqB,EAAEI,UAAU,oBAAe,GAAQJ,GAAEvB,EAAAA,EAAAA,GAAE,EAACH,EAAAA,EAAAA,GAAE,sDAAsD0B,E,yLCAjrD,IAAIA,EAAE,cAAcD,EAAAA,EAAErB,WAAAA,CAAYC,GAAGC,MAAMD,GAAGE,KAAKS,KAAK,mBAAmBT,KAAK+F,KAAK,IAAI,CAAC,YAAIC,CAASlG,GAAG,MAAMA,GAAGA,EAAEkE,MAAMlC,OAAO,GAAGnC,EAAAA,EAAEsG,UAAUjG,MAAMkG,KAAK,4DAA4DlG,KAAKc,KAAK,WAAWhB,EAAEqG,UAAUnG,KAAKc,KAAK,WAAW,KAAK,CAAC,gCAAIE,GAA+B,GAAG,MAAMhB,KAAKgG,UAAU,IAAIhG,KAAKgG,SAAShC,MAAMlC,OAAO,CAAC,MAAMhC,EAAEE,KAAKgG,SAAShC,MAAM,GAAG,GAAGlE,EAAEgC,QAAQ,KAAIlC,EAAAA,EAAAA,IAAEE,EAAE,GAAGA,EAAEA,EAAEgC,OAAO,IAAI,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC9B,KAAKgG,SAAS,CAACI,KAAAA,GAAQpG,KAAKgG,SAAS,IAAI,IAAGlG,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,IAAE,CAACgB,KAAK,CAAC,uBAAuBU,EAAEI,UAAU,YAAO,IAAQzB,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,IAAE,CAAC+B,MAAM,KAAKf,KAAKjB,EAAAA,KAAK2B,EAAEI,UAAU,WAAW,OAAMzB,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,IAAE,CAACgB,KAAKf,EAAAA,GAAE8B,MAAM,QAAQL,EAAEI,UAAU,YAAO,IAAQzB,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,IAAE,CAACgC,UAAS,KAAMN,EAAEI,UAAU,+BAA+B,MAAMJ,GAAErB,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,GAAE,0CAA0C4B,GAAG,MAAMoC,EAAEpC,E,sMCAtvC,MAAMzB,EAAEG,WAAAA,CAAYH,GAAS,IAAPE,EAAC6D,UAAA3B,OAAA,QAAA4B,IAAAD,UAAA,GAAAA,UAAA,GAAC,KAAMzD,KAAKqG,YAAY3G,EAAEM,KAAKsG,OAAO1G,CAAC,EAAE,MAAMA,EAAEC,WAAAA,CAAYH,EAAEE,GAAGI,KAAK2F,WAAWjG,EAAEM,KAAKuG,SAAS3G,CAAC,E,2DCAw9B,MAAMmC,EAAElC,WAAAA,CAAYD,GAAGI,KAAKwG,mBAAmB,GAAGxG,KAAKyG,YAAW,EAAGzG,KAAK0G,sBAAqB,EAAG1G,KAAK2G,UAAS,EAAG3G,KAAK4G,iBAAiB,KAAK5G,KAAK6G,qBAAoB1D,EAAAA,EAAAA,KAAI,MAAM2D,iBAAiBhH,EAAEiH,aAAatH,EAAEuH,UAAUtH,EAAE0F,KAAK1D,EAAEuF,QAAQ1H,GAAGK,EAAEI,KAAKkH,kBAAkBpH,EAAEE,KAAKmH,WAAWzH,EAAE,MAAMD,GAAGO,KAAKoH,cAAc3H,EAAEO,KAAK0G,sBAAqB,GAAI1G,KAAKoH,cAAc,IAAIhE,EAAAA,EAAEpD,KAAKqH,MAAM3F,EAAE1B,KAAKsH,cAAa1E,EAAAA,EAAAA,IAAElB,EAAE6F,MAAMC,aAAaxH,KAAKsH,aAAaG,QAAQC,MAAMnF,EAAAA,GAAEoF,IAAI,MAAMzG,GAAE6C,EAAAA,EAAAA,IAAE/D,KAAK4H,cAAcjI,EAAE,CAAC,IAAIyC,EAAAA,GAAEmB,EAAAA,EAAAA,IAAErC,EAAE,EAAE,GAAG,MAAM1B,EAAE,IAAIqI,EAAAA,EAAE,CAACzC,KAAK1D,EAAEoG,cAAcnI,IAAIH,EAAEuI,WAAU,EAAGvI,EAAE0C,OAAOsB,EAAEhE,EAAEwI,aAAY,EAAGhI,KAAKoH,cAAca,IAAIzI,GAAGQ,KAAKkI,mBAAmB1I,EAAEQ,KAAKmI,2BAA2BjH,EAAElB,KAAKoI,WAAW,IAAIzG,EAAAA,EAAE,CAACyD,KAAK1D,EAAE2G,UAAS,EAAGC,MAAM,CAACC,UAAUC,EAAEC,YAAY7G,EAAE8G,WAAWC,GAAGC,cAAa,IAAK5I,KAAK6I,kBAAmB,OAADtJ,QAAC,IAADA,GAAAA,EAAM,CAACkG,OAAAA,GAAUzF,KAAK4G,kBAAiBrH,EAAAA,EAAAA,IAAES,KAAK4G,kBAAkB5G,KAAK0G,qBAAqB1G,KAAKoH,eAAc7H,EAAAA,EAAAA,IAAES,KAAKoH,eAAepH,KAAKoH,cAAc,KAAKpH,KAAKoI,YAAW7I,EAAAA,EAAAA,IAAES,KAAKoI,YAAYpI,KAAKyG,YAAW,CAAE,CAAC,aAAIqC,GAAY,OAAO9I,KAAKyG,UAAU,CAAC,WAAIQ,GAAU,OAAOjH,KAAK2G,QAAQ,CAAC,WAAIM,CAAQrH,GAAGA,EAAEI,KAAK+I,OAAO/I,KAAKgJ,MAAM,CAAC,YAAIC,GAAW,MAAMrJ,EAAEI,KAAKoI,WAAWa,SAAS,MAAM,CAACC,kBAAkB,MAAMtJ,EAAE,CAACuJ,sBAAsBvJ,EAAEuJ,sBAAsBC,qBAAqBxJ,EAAEwJ,qBAAqBC,qBAAqBzJ,EAAEyJ,qBAAqBC,oBAAoB1J,EAAE0J,oBAAoBC,oBAAoB3J,EAAE2J,oBAAoBC,yBAAyB5J,EAAE4J,0BAA0B,CAACL,uBAAsB,EAAGC,qBAAqB,KAAKC,sBAAqB,EAAGC,oBAAoB,KAAKC,oBAAoB,KAAKC,0BAAyB,GAAI,CAACT,IAAAA,GAAO/I,KAAKyJ,gBAAe,EAAG,CAACT,IAAAA,GAAOhJ,KAAKyJ,gBAAe,EAAG,CAACA,cAAAA,CAAe7J,GAAGI,KAAKyG,YAAYzG,KAAK2G,WAAW/G,GAAGI,KAAK6I,kBAAkBjJ,EAAE,CAACiJ,iBAAAA,CAAkBjJ,GAAGI,KAAK2G,SAAS/G,EAAEI,KAAKoI,WAAWnB,QAAQrH,EAAEA,GAAGI,KAAK0J,uBAAuB1J,KAAK2J,eAAe3J,KAAK4J,oBAAoB5J,KAAKwG,mBAAmBqD,SAASC,IAAA,IAAEC,YAAYnK,GAAEkK,EAAA,OAAG9J,KAAKgK,yBAAyBpK,EAAE,IAAGI,KAAKwG,mBAAmB,GAAGxG,KAAKqH,MAAM4C,OAAO,KAAK,CAACC,cAAAA,CAAetK,EAAEE,GAAG,MAAML,EAAEO,KAAKoH,cAAc+C,UAAUvK,EAAEE,GAAG,OAAQ,OAADL,QAAC,IAADA,OAAC,EAADA,EAAG2K,QAAQ,CAACC,IAAAA,CAAKzK,GAAG,MAAME,EAAEE,KAAKqH,MAAMpD,iBAAiBxE,GAAED,EAAAA,EAAAA,IAAEI,EAAEyG,aAAarG,KAAKqH,MAAMiD,wBAAwBC,+BAA+B9K,EAAEO,KAAKsH,cAAc,MAAM5H,EAAEM,KAAKsH,aAAakD,QAAQC,IAAI/I,GAAEyB,EAAAA,EAAAA,KAAI,IAAIzD,EAAEgL,qBAAqBhJ,GAAG,OAAO,KAAK,MAAMnC,EAAES,KAAKqH,MAAMsD,mBAAmBC,iBAAiBlJ,EAAE5B,GAAG,OAAO,MAAMP,EAAE,KAAK,IAAI4B,EAAEO,EAAEnC,EAAE,CAACoK,UAAAA,GAAa3J,KAAK2G,WAAW3G,KAAK6K,4BAA4B7K,KAAK8K,mBAAmB,CAACC,wBAAAA,GAA2B,MAAMnL,GAAEmE,EAAAA,EAAAA,IAAE/D,KAAK4H,cAAc9H,EAAE,CAAC,IAAIsC,EAAAA,GAAEmB,EAAAA,EAAAA,IAAE3D,EAAE,EAAE,GAAG,MAAMH,EAAE,IAAIoI,EAAAA,EAAE,CAACzC,KAAKpF,KAAKqH,MAAMS,cAAchI,IAAI,OAAOL,EAAEyC,OAAOsB,EAAExD,KAAKoH,cAAca,IAAIxI,GAAG,CAACsK,YAAYtK,EAAEuL,SAASpL,EAAE,CAACoK,wBAAAA,CAAyBpK,GAAGI,KAAKoH,cAAcvG,OAAOjB,EAAE,CAACiL,yBAAAA,GAA4B,MAAMI,SAASrL,GAAGI,KAAKkH,kBAAkBpH,EAAEE,KAAKkH,kBAAkBgE,KAAKlL,KAAKkH,kBAAkBgE,KAAKC,SAAS,GAAG1L,EAAEO,KAAKwG,oBAAwoE,SAAW5G,EAAEE,EAAEL,EAAEC,GAAG,KAAKE,EAAEkC,OAAOhC,GAAGF,EAAEwL,KAAK3L,KAAK,GAAGC,EAAE,KAAKE,EAAEkC,OAAOhC,GAAIJ,EAAEE,EAAEyL,YAAYzL,EAAEkC,OAAOhC,CAAC,EAAvtEgD,CAAErD,EAAEK,EAAEgC,QAAQ,IAAI9B,KAAK+K,6BAA6BO,IAAA,IAAEvB,YAAYnK,GAAE0L,EAAA,OAAGtL,KAAKgK,yBAAyBpK,EAAE,IAAGH,EAAEoK,SAAS,CAAA0B,EAAiB7L,KAAI,IAAnBqK,YAAYtK,GAAE8L,EAAM9L,EAAE2K,SAAStK,EAAEJ,GAAGD,EAAE+L,eAAe5L,EAAE6L,sBAAsB/L,GAAGD,EAAEwK,OAAO,IAAIvK,GAAG,YAAYM,KAAKmH,WAAWuE,aAAa,YAAY,IAAI,IAAI,YAAY1L,KAAKmH,WAAWuE,cAAc,MAAM1L,KAAKkH,kBAAkBnC,aAAa/E,KAAKkI,mBAAmBH,WAAU,EAAG/H,KAAKkI,mBAAmByD,SAAS3L,KAAKkH,kBAAkBnC,aAAa/E,KAAKkI,mBAAmBH,WAAU,CAAE,CAAC,gBAAIH,GAAe,OAAO9H,EAAAA,EAAAA,IAAEE,KAAKqH,MAAMuE,eAAeC,YAAY,GAAG,CAACC,cAAAA,GAAiB,MAAMC,kBAAkBnM,GAAGI,KAAKkH,kBAAkB,OAAOlH,KAAKmH,WAAWuE,cAAc,IAAI,UAAU,OAAO,MAAM1L,KAAKkH,kBAAkBnC,YAAY/E,KAAKkH,kBAAkBnC,YAAY,MAAMnF,EAAEI,KAAKkH,kBAAkBgE,KAAKc,yBAAyBpM,GAAGI,KAAKkH,kBAAkBgE,KAAKe,UAAU,IAAI,UAAU,OAAO,MAAMrM,EAAEI,KAAKkH,kBAAkBgE,KAAKc,yBAAyBpM,GAAG,KAAK,QAAQ,OAAOI,KAAKkH,kBAAkBnC,YAAY,CAAC+F,gBAAAA,GAAmB,MAAMlL,EAAE,aAAaI,KAAKmH,WAAWuE,cAAc1L,KAAKmH,WAAW+E,OAAOpM,EAAEE,KAAK8L,iBAAiB,GAAGlM,GAAG,MAAME,EAAE,CAAC,MAAMF,EAAEI,KAAK6G,oBAAoB7G,KAAKqH,MAAMsD,mBAAmBwB,eAAerM,EAAEF,GAAGI,KAAKoI,WAAWgB,qBAAqBxJ,CAAC,MAAMI,KAAKoI,WAAWgB,qBAAqB,IAAI,CAACM,oBAAAA,GAAuB1J,KAAK4G,iBAAiB,IAAIlF,EAAAA,EAAE1B,KAAK4G,iBAAiBqB,IAAI,EAAC/G,EAAAA,EAAAA,KAAG,IAAIlB,KAAKmH,WAAWuE,eAAe,IAAI1L,KAAK8K,sBAAqB5J,EAAAA,EAAAA,KAAG,IAAIlB,KAAKkH,kBAAkB+D,WAAW,IAAIjL,KAAK2J,cAAchK,EAAAA,KAAGuB,EAAAA,EAAAA,KAAG,MAAM6K,kBAAkB/L,KAAKkH,kBAAkB6E,kBAAkBK,YAAYpM,KAAKkH,kBAAkBnC,gBAAgB,IAAI/E,KAAK8K,sBAAqB5J,EAAAA,EAAAA,KAAG,IAAIlB,KAAKmH,WAAW+E,SAAS,IAAIlM,KAAK2J,gBAAezI,EAAAA,EAAAA,KAAG,IAAIlB,KAAKqH,MAAMuE,eAAeC,cAAcpM,IAAI,MAAMiC,GAAE5B,EAAAA,EAAAA,IAAEL,EAAE,IAAI,IAAI,MAAMuL,SAASpL,KAAKI,KAAKwG,mBAAmB5G,EAAEyM,cAAc,CAACC,MAAM5K,IAAI1B,KAAKmI,2BAA2BkE,cAAc,CAACC,MAAM5K,IAAI,MAAMnC,EAAEK,EAAAA,EAAE2M,UAAU9M,GAAGyB,EAAEtB,EAAAA,EAAE2M,WAAU7M,EAAAA,EAAAA,IAAED,IAAIE,EAAE,IAAIF,EAAEiC,EAAElC,EAAEQ,KAAKoI,WAAWjF,EAAE3D,EAAE8I,MAAM9I,EAAE8I,MAAM,IAAInF,EAAEqJ,UAAUjN,EAAEkN,WAAWvL,EAAEwL,YAAY/M,EAAE,GAAG,CAACgN,SAAQ,EAAGC,OAAOnN,EAAAA,MAAK,CAACmK,iBAAAA,GAAoB5J,KAAK4G,kBAAiBrH,EAAAA,EAAAA,IAAES,KAAK4G,iBAAiB,EAAqG,MAAM4B,EAAE,EAAE5G,EAAE,EAAE+G,EAAE,EAAEnF,EAAE,E,8HCAv+H,IAAI5B,GAAE,cAAcW,EAAAA,EAAE1C,WAAAA,CAAYD,GAAGG,MAAMH,GAAGI,KAAK6M,iBAAiB,IAAI1L,EAAAA,EAAEnB,KAAK0L,aAAa,UAAU1L,KAAK+G,aAAa,IAAI3D,EAAAA,EAAEpD,KAAK8M,qBAAoBrN,EAAAA,EAAAA,IAAGG,GAAG,IAAI+I,EAAAA,EAAE,CAACoE,cAAc,CAACC,KAAK,kBAAkBC,OAAO,GAAGC,QAAQtN,EAAEuN,uBAAuB,IAAI7K,EAAAA,EAAE,IAAIK,EAAAA,GAAE,SAAQkF,EAAAA,EAAAA,KAAE,GAAG,EAAG7H,KAAKoF,KAAKnB,oBAAoBmJ,WAAW,IAAI7J,EAAAA,KAAK,CAAC2B,UAAAA,GAAa,MAAME,KAAKxF,EAAEkH,iBAAiBhH,EAAEiH,aAAatH,EAAEwH,QAAQtH,GAAGK,KAAKA,KAAKqN,gBAAgB,IAAI1L,EAAE,CAACyD,KAAKxF,EAAEkH,iBAAiBhH,EAAEkH,UAAUhH,KAAK+G,aAAatH,EAAEwH,QAAQtH,IAAI,MAAMuB,GAAEsH,EAAAA,EAAAA,GAAE5I,GAAGI,KAAKsN,uBAAuBpM,EAAElB,KAAKuN,WAAWrM,GAAGlB,KAAKwN,mBAAmB,IAAIhK,EAAAA,EAAE,CAAC4B,KAAKxF,IAAII,KAAK6M,iBAAiB5E,KAAK,IAAIjI,KAAK+E,cAAcnF,IAAII,KAAK8G,iBAAiB/B,YAAY,MAAMnF,GAAEgD,EAAAA,EAAAA,IAAEhD,EAAE,IAAIJ,EAAAA,GAAG,IAAI,GAAGD,EAAAA,KAAG2D,EAAAA,GAAAA,IAAElD,MAAM,KAAI,IAAAyN,EAAC,MAAM7N,EAA0C,QAAzC6N,EAACzN,KAAKoF,KAAKsI,aAAaC,yBAAiB,IAAAF,EAAAA,EAAE,QAAQ3N,EAAEE,KAAK8M,oBAAoBlN,GAAGI,KAAK6M,iBAAiBe,YAAWlM,EAAAA,EAAAA,IAAE1B,KAAKwN,mBAAmB3H,OAAO7F,KAAK6N,iBAAiB/N,IAAI,IAAIE,KAAK8N,qBAAqB9N,KAAKuN,WAAW,EAAC7N,EAAAA,EAAAA,KAAG,IAAIM,KAAKuH,QAAQ3H,IAAI,aAAaA,GAAGI,KAAK+N,oBAAoB,GAAGxO,EAAAA,IAAGS,KAAK8G,iBAAiBoE,KAAK8C,GAAG,UAAU,KAAK,MAAMpO,EAAEI,KAAK8G,iBAAiBoE,KAAK,YAAYlL,KAAK0L,cAAc9L,EAAEqO,iBAAiBrO,EAAEsO,eAAelO,KAAK0L,aAAa,WAAW1L,KAAK0L,aAAa,UAAU,KAAK,CAACjG,OAAAA,GAAUzF,KAAKqN,gBAAgB5H,UAAUzF,KAAKc,KAAK,kBAAkB,MAAMd,KAAK6M,kBAAiB/M,EAAAA,EAAAA,IAAEE,KAAK6M,iBAAiB,CAAC,oBAAIgB,GAAmB,OAAO7N,KAAKsN,uBAAuBa,eAAe,CAAC,SAAI5G,GAAQ,OAAO,IAAIvH,KAAK8G,iBAAiBoE,KAAKkD,YAAY,QAAQpO,KAAK8G,iBAAiBoE,KAAKgD,gBAAgB,YAAYlO,KAAK0L,aAAa,WAAW,WAAW,CAAC,UAAIzB,GAAS,MAAM,UAAUjK,KAAKuH,OAAO,YAAYvH,KAAK0L,aAAa,YAAY,IAAI,CAAC,YAAI2C,GAAW,OAAOrO,KAAK6M,iBAAiBwB,UAAUrO,KAAK6N,iBAAiBQ,QAAQ,CAAC,eAAItJ,GAAc,OAAO/E,KAAKwN,mBAAmBzI,WAAW,CAAC,eAAIA,CAAYnF,GAAGI,KAAKwN,mBAAmBzI,YAAYnF,CAAC,CAAC,mBAAI0O,GAAkB,OAAOtO,KAAK6N,iBAAiBpG,OAAO,CAAC8G,iBAAAA,GAAoB,MAAMrD,KAAKtL,GAAGI,KAAK8G,iBAAiBlH,EAAEwO,YAAY,GAAGxO,EAAEwG,QAAQpG,KAAK0L,aAAa,YAAY9L,EAAE4O,QAAQxO,KAAK0L,aAAa,YAAY1L,KAAKyO,qBAAqB,CAACC,MAAAA,GAAS1O,KAAKqN,gBAAgBtE,MAAM,CAAC4F,MAAAA,GAAS3O,KAAKqN,gBAAgBrE,MAAM,CAAC4F,YAAAA,GAAe5O,KAAKyO,qBAAqB,CAACI,YAAAA,CAAajP,GAAG,OAAOA,EAAEa,MAAM,IAAI,yBAAyBT,KAAK8O,4BAA4BlP,GAAG,MAAM,IAAI,kBAAkBI,KAAK+O,sBAAsBnP,GAAG,MAAM,IAAI,eAAeI,KAAKgP,mBAAmBpP,GAAG,MAAM,IAAI,OAAOI,KAAKiP,YAAYrP,GAAG,MAAM,IAAI,WAAWI,KAAKkP,eAAetP,GAAG,CAACkO,kBAAAA,GAAqB,MAAMlO,EAAEA,GAAGA,EAAEuP,OAAOnB,GAAG,gBAAgB,KAAK,GAAGhO,KAAK8G,iBAAiBoE,KAAKgD,eAAe,CAAC,MAAMtO,EAAEI,KAAK+G,aAAaqI,MAAMxP,GAAGA,EAAEmK,YAAYsF,WAAWrP,KAAK0L,aAAa9L,EAAE,UAAU,UAAU,KAAKE,EAAEA,IAAIE,KAAKuN,WAAW,EAACxL,EAAAA,EAAAA,IAAEjC,GAAG,CAACF,EAAEE,EAAEL,EAAEiC,KAAK,MAAMnC,GAAEwE,EAAAA,EAAAA,IAAEnE,GAAGF,EAAEE,EAAEwK,SAASzK,EAAEK,KAAK6N,iBAAiB3M,EAAElB,KAAK8M,oBAAoBpL,GAAGP,EAAEnB,KAAK6M,kBAAkByC,aAAa9P,EAAE+P,eAAepM,IAAGN,EAAAA,EAAAA,GAAE,CAACsL,gBAAgBxO,EAAE6P,gBAAgBtO,EAAEuO,gBAAgBtO,IAAI1B,EAAEA,EAAEiQ,KAAKnQ,GAAGmQ,MAAM5P,IAAIE,KAAK8G,iBAAiBiF,kBAAkB,KAAK/L,KAAK8G,iBAAiBoE,KAAKyE,kBAAkBjQ,EAAE6D,GAAG3D,EAAE+L,SAASpI,EAAEzD,KAAK4P,KAAKvM,GAAGrD,EAAE4P,KAAKnQ,GAAGmQ,MAAKtN,EAAAA,EAAAA,IAAEpC,KAAKoF,OAAOsK,QAAQlQ,GAAGkQ,MAAM5P,IAAIF,EAAE+L,SAAS7L,EAAE8P,OAAO5P,KAAK8G,iBAAiBiF,kBAAkB,QAAQjM,EAAE+P,OAAO,KAAKnQ,EAAEM,KAAK8G,iBAAiBoE,KAAKyE,kBAAkBjQ,GAAEkD,EAAAA,EAAAA,IAAE9C,EAAE8P,QAAQ,IAAI,MAAMrM,GAAEX,EAAAA,EAAAA,IAAE5C,KAAK8G,iBAAiBoE,KAAKc,yBAAyBtM,GAAG,IAAIE,EAAEE,IAAIA,EAAE,EAAEE,KAAK+G,aAAa8C,SAASC,IAAmB,IAAjBC,YAAYnK,GAAEkK,EAAIhK,EAAEF,EAAE,IAAII,KAAKuN,WAAW,CAACvN,KAAK+G,aAAaiH,GAAG,aAAa1C,IAA0B,IAAxBwE,MAAM/F,YAAYnK,IAAG0L,EAAIxL,EAAEF,EAAE,IAAII,KAAK+G,aAAaiH,GAAG,gBAAgBzC,IAAA,IAAEuE,MAAM/F,YAAYnK,IAAG2L,EAAA,OAAGvL,KAAK+P,cAAcnQ,EAAE,KAAI,CAACkP,2BAAAA,CAA4BlP,IAAGuD,EAAAA,EAAAA,IAAEvD,KAAK,YAAYI,KAAK0L,cAAc1L,KAAKuO,oBAAoB3O,EAAEoQ,kBAAkB,CAACf,WAAAA,CAAYrP,GAAG,YAAYI,KAAK0L,cAAc9L,EAAEoQ,iBAAiB,CAACjB,qBAAAA,CAAsBnP,GAAG,KAAIuD,EAAAA,EAAAA,IAAEvD,GAAG,OAAO,MAAME,GAAE2C,EAAAA,GAAAA,IAAE7C,IAAIiE,YAAYpE,GAAGG,EAAE,GAAGI,KAAKkM,OAAO,OAAOlM,KAAK0L,cAAc,IAAI,UAAU,GAAG1L,KAAKiQ,aAAanQ,EAAEL,GAAG,OAAOO,KAAK+E,YAAY,KAAK/E,KAAK0L,aAAa,eAAe9L,EAAEoQ,kBAAkB,MAAM,IAAI,UAAU,CAAC,MAAMtO,EAAE1B,KAAKqN,gBAAgBnD,eAAepK,EAAEL,GAAG,GAAG,MAAMiC,GAAG,GAAG1B,KAAKiQ,aAAanQ,EAAEL,GAAG,OAAOO,KAAK+E,YAAY,UAAUnF,EAAEoQ,uBAAuB,IAAItO,EAAEwO,QAAQlQ,KAAKuO,oBAAoB3O,EAAEoQ,mBAAmB,KAAK,EAAE,UAAUpQ,EAAEiE,aAAa7D,KAAKmQ,SAASrQ,EAAE,CAACkP,kBAAAA,CAAmBpP,GAAG,GAAG,UAAUA,EAAEiE,YAAY,CAAC,MAAM/D,GAAE2C,EAAAA,GAAAA,IAAE7C,GAAGI,KAAKmQ,SAASrQ,EAAE,CAAC,CAACoP,cAAAA,CAAetP,GAAG,MAAMsL,KAAKpL,GAAGE,KAAK8G,iBAAiB,UAAUlH,EAAEwQ,KAAK,YAAYpQ,KAAK0L,cAAc5L,EAAEsO,aAAa,IAAIpO,KAAK+E,YAAY,KAAK/E,KAAKuO,oBAAoB3O,EAAEoQ,kBAAkB,CAACG,QAAAA,CAASvQ,GAAG,MAAM8L,aAAa5L,GAAGE,KAAK,IAAGA,KAAKkM,QAAS,YAAYpM,GAAG,YAAYA,EAA8ME,KAAK+E,YAAY,SAA5N,CAAC,MAAMjF,EAAEE,KAAKqQ,MAAMzQ,GAAG,GAAG,OAAO,OAADE,QAAC,IAADA,OAAC,EAADA,EAAGyG,UAAS,CAAC,MAAM3G,EAAEI,KAAK8M,oBAAoB,SAAS9M,KAAK6M,iBAAiBe,YAAWlM,EAAAA,EAAAA,IAAE1B,KAAKwN,mBAAmB7I,KAAK,CAACe,MAAM5F,EAAEyG,UAAUvG,KAAK6N,iBAAiBjO,IAAI,CAAC,CAA2B,CAACqQ,YAAAA,CAAarQ,EAAEE,GAAG,MAAML,EAAEO,KAAKqQ,MAAMzQ,GAAG,GAAG,OAAO,OAADH,QAAC,IAADA,OAAC,EAADA,EAAG8G,UAAS,CAAC,MAAMA,SAAS3G,GAAGH,EAAEiC,EAAE1B,KAAK8M,oBAAoBhN,GAAGP,EAAES,KAAKwN,mBAAmBvI,OAAO,CAACS,MAAM9F,GAAGI,KAAK6N,iBAAiBnM,GAAGhC,GAAEkD,EAAAA,EAAAA,IAAErD,EAAE,IAAIC,EAAAA,GAAG,OAAOQ,KAAK8G,iBAAiBoE,KAAKjD,IAAIvI,IAAG,CAAE,CAAC,OAAM,CAAE,CAAC2Q,KAAAA,CAAMzQ,GAAG,MAAME,EAAE,IAAIgD,EAAElD,GAAG,OAAOI,KAAKqN,gBAAgBhD,KAAKvK,EAAE,CAAC2O,mBAAAA,GAAsBzO,KAAK6N,iBAAiByC,eAAetQ,KAAKwN,mBAAmB1H,QAAQ9F,KAAKwN,mBAAmBzI,YAAY,IAAI,CAAC,QAAIwL,GAAO,MAAM,CAACpC,gBAAgBnO,KAAK6N,iBAAiB,IAAGjO,EAAAA,EAAAA,GAAE,EAACD,EAAAA,EAAAA,IAAE,CAAC8B,UAAS,KAAMG,GAAEL,UAAU,QAAQ,OAAM3B,EAAAA,EAAAA,GAAE,EAACD,EAAAA,EAAAA,OAAKiC,GAAEL,UAAU,oBAAe,IAAQ3B,EAAAA,EAAAA,GAAE,EAACD,EAAAA,EAAAA,IAAE,CAAC8B,UAAS,KAAMG,GAAEL,UAAU,SAAS,OAAM3B,EAAAA,EAAAA,GAAE,EAACD,EAAAA,EAAAA,OAAKiC,GAAEL,UAAU,uBAAkB,IAAQ3B,EAAAA,EAAAA,GAAE,EAACD,EAAAA,EAAAA,IAAE,CAAC0B,eAAc,KAAMO,GAAEL,UAAU,YAAO,IAAQ3B,EAAAA,EAAAA,GAAE,EAACD,EAAAA,EAAAA,IAAE,CAAC0B,eAAc,KAAMO,GAAEL,UAAU,gBAAW,IAAQ3B,EAAAA,EAAAA,GAAE,EAACD,EAAAA,EAAAA,IAAE,CAAC0B,eAAc,KAAMO,GAAEL,UAAU,wBAAmB,IAAQ3B,EAAAA,EAAAA,GAAE,EAACD,EAAAA,EAAAA,IAAE,CAAC8B,UAAS,KAAMG,GAAEL,UAAU,oBAAe,IAAQ3B,EAAAA,EAAAA,GAAE,EAACD,EAAAA,EAAAA,OAAKiC,GAAEL,UAAU,WAAW,OAAM3B,EAAAA,EAAAA,GAAE,EAACD,EAAAA,EAAAA,OAAKiC,GAAEL,UAAU,cAAc,OAAM3B,EAAAA,EAAAA,GAAE,EAACD,EAAAA,EAAAA,OAAKiC,GAAEL,UAAU,kBAAkB,MAAMK,IAAEhC,EAAAA,EAAAA,GAAE,EAACsB,EAAAA,EAAAA,GAAE,uFAAuFU,IAAG,MAAM4O,GAAE5O,G,gBCAh5O,IAAIT,GAAE,cAAc4C,GAAAA,EAAElE,WAAAA,CAAYD,GAAGG,MAAMH,GAAGI,KAAKyQ,SAAS,KAAKzQ,KAAK0Q,kBAAkB,KAAK1Q,KAAK2Q,wBAAwB,4DAA4D3Q,KAAK4Q,iBAAiB,KAAK5Q,KAAK6Q,UAAU,IAAI,CAAC3L,UAAAA,GAAalF,KAAKuN,YAAW7N,EAAAA,EAAAA,KAAG,MAAM+Q,SAASzQ,KAAKyQ,SAAS1K,KAAK/F,KAAK+F,SAAS+D,IAAuB,IAArB2G,SAAS7Q,EAAEmG,KAAKjG,GAAEgK,EAAI,MAAMlK,IAAIA,EAAEmG,KAAKjG,EAAE,GAAGL,EAAAA,IAAG,CAAC,SAAI8H,GAAQ,OAAOvH,KAAK8Q,WAAW9Q,KAAK+Q,MAAM,WAAW,MAAM/Q,KAAKgR,KAAK,QAAQhR,KAAKgR,KAAKzJ,KAAK,CAAC,eAAI0J,GAAc,GAAG,MAAMjR,KAAKgR,MAAMhR,KAAK8Q,UAAU9Q,KAAKgR,KAAKlI,UAAU,OAAO,KAAK,MAAMoI,aAAatR,GAAGI,KAAK,GAAG,MAAMJ,EAAE,OAAO,KAAK,MAAME,EAAEF,EAAEuR,sBAAsBzR,EAAEI,EAAEmL,SAASxL,EAAEC,EAAE0R,gBAAgB7R,EAAEE,EAAE4R,iBAAiBnQ,EAAE,cAAcxB,EAAEsN,KAAKxN,EAAE,KAAK0B,EAAEzB,EAAE6R,qBAAqB7R,EAAE8R,8BAA8BC,KAAK9P,EAAElC,EAAED,EAAE,YAAY,cAAc,UAAU,MAAM,CAACyN,KAAK9L,EAAE,YAAY,WAAWuQ,KAAK,CAACC,KAAKlS,GAAGD,EAAEO,EAAE6R,UAAU,KAAKpK,MAAM7F,GAAGkQ,gBAAgB,CAACF,KAAKlS,GAAGD,EAAEO,EAAE+R,qBAAqB,KAAKtK,MAAM7F,GAAG,CAAC,eAAIoQ,CAAYlS,GAAGI,KAAK4Q,iBAAiBhR,EAAEI,KAAKc,KAAK,cAAcd,KAAK+R,oBAAoB/R,KAAK4Q,kBAAkB,CAAC,eAAIkB,GAAc,OAAO9R,KAAK+R,oBAAoB/R,KAAK4Q,iBAAiB,CAAC,QAAI7K,CAAKnG,GAAGI,KAAK6Q,UAAUjR,EAAEI,KAAKgS,oBAAoBpS,EAAEI,KAAK6Q,WAAW,IAAI,CAAC,QAAI9K,GAAO,OAAO,MAAM/F,KAAK6Q,WAAW7Q,KAAK6Q,UAAU7Q,KAAKgS,oBAAoBhS,KAAK6Q,UAAU7Q,KAAKiS,aAAajS,KAAK6Q,WAAW7Q,KAAKgS,oBAAoBhS,KAAKiS,YAAY,CAACC,iBAAAA,GAAoB,OAAO,IAAIpS,CAAC,CAACqS,aAAAA,GAAgB,OAAO,IAAIxS,GAAE,CAACyF,KAAKpF,KAAKoF,KAAKqL,SAASzQ,KAAKyQ,SAAS3J,iBAAiB9G,KAAKkR,aAAajK,QAAQjH,KAAKiH,SAAS,CAAC+K,mBAAAA,CAAoBpS,EAAEE,GAAG,MAAMgS,YAAYpS,GAAGM,KAAK,OAAON,EAAEkB,SAAShB,GAAGA,EAAE,MAAME,EAAEE,KAAKgS,oBAAoBlS,GAAGJ,EAAE,EAAE,CAACqS,mBAAAA,CAAoBnS,GAAG,GAAG,MAAMA,EAAE,OAAOL,EAAAA,GAAE6S,QAAQ,MAAMtS,EAAEF,EAAEyS,QAAQzS,GAAGL,EAAAA,GAAEqB,SAAShB,KAAK,OAAO,IAAIE,EAAEgC,OAAOvC,EAAAA,GAAE6S,QAAQtS,CAAC,IAAGF,EAAAA,EAAAA,GAAE,EAACsB,EAAAA,EAAAA,IAAE,CAACT,KAAKX,KAAKqB,GAAEI,UAAU,gBAAW,IAAQ3B,EAAAA,EAAAA,GAAE,EAACsB,EAAAA,EAAAA,IAAE,CAACO,UAAS,KAAMN,GAAEI,UAAU,QAAQ,OAAM3B,EAAAA,EAAAA,GAAE,EAACsB,EAAAA,EAAAA,IAAE,CAACO,UAAS,KAAMN,GAAEI,UAAU,cAAc,OAAM3B,EAAAA,EAAAA,GAAE,EAACsB,EAAAA,EAAAA,OAAKC,GAAEI,UAAU,cAAc,OAAM3B,EAAAA,EAAAA,GAAE,EAACsB,EAAAA,EAAAA,OAAKC,GAAEI,UAAU,OAAO,OAAM3B,EAAAA,EAAAA,GAAE,EAACsB,EAAAA,EAAAA,IAAEQ,EAAAA,IAAIP,GAAEI,UAAU,mBAAc,IAAQ3B,EAAAA,EAAAA,GAAE,EAACsB,EAAAA,EAAAA,OAAKC,GAAEI,UAAU,iBAAY,GAAQJ,IAAEvB,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,GAAE,8DAA8D2B,IAAG,MAAMiB,GAAEjB,G,0ECAtnE,MAAMoC,GAAE,2BAA2B5B,GAAE,CAAC2Q,KAAK/O,GAAEgP,qBAAoB,GAAArS,OAAIqD,GAAC,kBAAiBiP,WAAW9Q,GAAAA,EAAE+Q,aAAa,IAAIrQ,GAAE,cAAczC,EAAAA,EAAEE,WAAAA,CAAYC,EAAEF,GAAGG,MAAMD,EAAEF,GAAGI,KAAK0S,UAAU/Q,GAAE6Q,WAAWxS,KAAK2S,KAAK,KAAK3S,KAAK4S,SAAS,KAAK5S,KAAK6S,eAAe,KAAK7S,KAAK8S,cAAc,KAAK9S,KAAK+S,UAAU,IAAI7R,EAAC,CAAC,QAAIkE,GAAO,OAAOpF,KAAK+S,UAAU3N,IAAI,CAAC,QAAIA,CAAKtF,GAAGE,KAAK+S,UAAU3N,KAAKtF,CAAC,CAAC,WAAImH,GAAU,OAAOjH,KAAK+S,UAAU9L,OAAO,CAAC,WAAIA,CAAQnH,GAAGE,KAAK+S,UAAU9L,QAAQnH,CAAC,CAAC,UAAIoM,GAAS,OAAOlM,KAAK+S,UAAU7G,MAAM,CAAC,YAAIuE,GAAW,OAAOzQ,KAAK+S,UAAUtC,QAAQ,CAAC,YAAIA,CAAS3Q,GAAGE,KAAK+S,UAAUtC,SAAS3Q,CAAC,CAAC,SAAIkT,GAAO,IAAAC,EAAAC,EAAC,OAAiC,QAAjCD,EAAoB,QAApBC,EAAOlT,KAAK4S,gBAAQ,IAAAM,OAAA,EAAbA,EAAeC,mBAAW,IAAAF,EAAAA,EAAE,EAAE,CAAC,SAAID,CAAMlT,GAAGE,KAAKoT,gBAAgB,QAAQtT,EAAE,CAAC,eAAIgS,GAAc,OAAO9R,KAAK+S,UAAUjB,WAAW,CAAC,eAAIA,CAAYhS,GAAGE,KAAK+S,UAAUjB,YAAYhS,CAAC,CAAC,QAAIiG,GAAO,OAAO/F,KAAK+S,UAAUhN,IAAI,CAAC,QAAIA,CAAKjG,GAAGE,KAAK+S,UAAUhN,KAAKjG,CAAC,CAACuT,MAAAA,GAAS,MAAMT,SAAS9S,EAAE+S,eAAenT,EAAEoT,cAAcrT,EAAEsG,KAAKpG,EAAEmS,YAAY5Q,EAAE6R,UAAUrR,GAAG1B,MAAMkM,OAAO/K,EAAE8P,YAAY1N,EAAEgE,MAAMnF,EAAEkR,UAAU1Q,GAAGlB,EAAE,OAAOqC,EAAAA,GAAAA,GAAE,MAAM,CAAC,aAAa/D,KAAK4S,SAASO,YAAYI,MAAMvT,KAAKwT,QAAQ7R,GAAE2Q,KAAK/S,GAAAA,EAAEkU,OAAOlU,GAAAA,EAAEmU,OAAOtD,IAAIpQ,KAAK2T,KAAK,gBAAgB3T,KAAKiH,SAAQlD,EAAAA,GAAAA,GAAEvE,GAAAA,EAAE,CAAC0M,OAAO/K,EAAEyS,iBAAiB,CAAC,CAACxD,IAAI,SAAS9P,MAAMb,EAAEoU,SAASpC,KAAKjQ,MAAM4B,GAAG,OAADG,QAAC,IAADA,OAAC,EAADA,EAAGkO,OAAO,CAACrB,IAAI,YAAY9P,MAAMR,EAAE8R,gBAAgBpQ,MAAM4B,GAAG,OAADG,QAAC,IAADA,OAAC,EAADA,EAAGqO,mBAAmBgB,SAAS,IAAI9S,EAAEgU,cAAcpU,EAAEoU,eAAeC,0BAA0BpS,GAAE4Q,qBAAqBhL,MAAMnF,EAAEkR,UAAU1Q,EAAEmD,KAAKpG,EAAEmS,YAAY5Q,EAAE8S,sBAAsBA,MAAKpU,EAAAA,EAAAA,IAAEI,KAAK+S,UAAUkB,QAAQ,EAAEC,aAAapU,IAAIE,KAAK+F,KAAKjG,CAAC,IAAI,KAAK,GAAG,SAASsD,GAAEtD,GAAG,MAAM,eAAe,OAADA,QAAC,IAADA,OAAC,EAADA,EAAGyH,OAAMzH,EAAE4R,KAAK,IAAI,EAAC5R,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,OAAK0C,GAAEb,UAAU,OAAO,OAAMzB,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,OAAK0C,GAAEb,UAAU,UAAU,OAAMzB,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,OAAK0C,GAAEb,UAAU,SAAS,OAAMzB,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,IAAE,CAAC2B,eAAc,EAAG8S,aAAY,KAAM/R,GAAEb,UAAU,WAAW,OAAMzB,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,OAAK0C,GAAEb,UAAU,iBAAY,IAAQzB,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,OAAK0C,GAAEb,UAAU,YAAO,IAAQzB,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,OAAK0C,GAAEb,UAAU,QAAQ,OAAMzB,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,OAAIyB,EAAAA,GAAAA,GAAE,yDAAyDiB,GAAEb,UAAU,gBAAW,IAAQzB,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,OAAIyB,EAAAA,GAAAA,GAAE,oBAAoBiB,GAAEb,UAAU,sBAAiB,IAAQzB,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,OAAIyB,EAAAA,GAAAA,GAAE,wBAAwBiB,GAAEb,UAAU,qBAAgB,IAAQzB,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,OAAK0C,GAAEb,UAAU,iBAAY,IAAQzB,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,IAAE,CAACe,KAAKS,MAAKkB,GAAEb,UAAU,iBAAY,IAAQzB,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,OAAK0C,GAAEb,UAAU,cAAc,OAAMzB,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,OAAK0C,GAAEb,UAAU,OAAO,MAAMa,IAAEtC,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,GAAE,mCAAmC2C,IAAG,MAAMQ,GAAER,E,uCCAr2EjB,EAAYzB,E,sHAAAA,EAAuGyB,IAAIA,EAAE,CAAC,IAAzGzB,EAAE0U,QAAQ,GAAG,UAAU1U,EAAEA,EAAE2U,oBAAoB,GAAG,sBAAsB3U,EAAEA,EAAE4U,QAAQ,GAAG,UAAsB,IAAIvQ,EAAE,cAAcxB,EAAAA,EAAE1C,WAAAA,GAAiB,IAALH,EAAC+D,UAAA3B,OAAA,QAAA4B,IAAAD,UAAA,GAAAA,UAAA,GAAC,CAAC,EAAG1D,MAAML,GAAGM,KAAKkR,aAAa,KAAKlR,KAAKuU,mBAAmB,KAAKvU,KAAKwU,4BAA2B,EAAGxU,KAAKyU,oBAAoB,KAAK,MAAM7U,EAAG,OAADF,QAAC,IAADA,OAAC,EAADA,EAAG+Q,SAAS,MAAM7Q,EAAEI,KAAKyQ,SAAS7Q,GAAGI,KAAKc,KAAK,WAAWd,KAAKkS,qBAAqBlS,KAAKc,KAAK,mBAAkB,GAAI,CAAC4T,iBAAAA,CAAkBhV,GAAG,MAAM+Q,SAAS7Q,KAAKE,GAAGJ,EAAE,OAAOI,CAAC,CAACoF,UAAAA,GAAalF,KAAKuN,WAAW,EAACrM,EAAAA,EAAAA,KAAG,SAAAyT,EAAA,OAAiB,QAAjBA,EAAI3U,KAAKyQ,gBAAQ,IAAAkE,OAAA,EAAbA,EAAepU,MAAM,IAAGb,IAAIM,KAAKwU,4BAA4B9U,IAAIM,KAAKoF,MAAMpF,KAAKc,KAAK,mBAAkB,GAAI,MAAMlB,GAAGI,KAAKwU,2BAA2BxU,KAAKwU,4BAA2B,EAAG5U,GAAGI,KAAK4U,wBAAwB,GAAGjV,EAAAA,KAAGuB,EAAAA,EAAAA,KAAG,MAAMkE,KAAKpF,KAAKoF,KAAK2L,MAAM,MAAM/Q,KAAKoF,MAAMpF,KAAKoF,KAAK2L,MAAMuC,UAAUtT,KAAKsT,cAAc,CAAAxJ,EAAUlK,KAAI,IAAZwF,KAAK1F,GAAEoK,EAAM,MAAMrK,EAAG,OAADG,QAAC,IAADA,OAAC,EAADA,EAAGwF,KAAK1F,IAAID,IAAIO,KAAKyU,qBAAoB3U,EAAAA,EAAAA,IAAEE,KAAKyU,qBAAqBzU,KAAK6U,oBAAoBpV,IAAIO,KAAK4U,wBAAwB,GAAGpV,EAAAA,KAAG0B,EAAAA,EAAAA,KAAG,IAAIlB,KAAKyQ,SAAS1P,aAAa,CAACrB,EAAEE,KAAK,MAAMI,KAAKkR,eAAexR,IAAIE,GAAG,MAAMI,KAAKgR,KAAKhR,KAAK8U,aAAapV,IAAIE,GAAG,MAAMI,KAAKgR,MAAMhR,KAAKgR,KAAK9E,QAAQlM,KAAK+U,aAAa,KAAK,CAACtP,OAAAA,GAAUzF,KAAKuU,oBAAmBzU,EAAAA,EAAAA,IAAEE,KAAKuU,oBAAoBvU,KAAKyU,qBAAoB3U,EAAAA,EAAAA,IAAEE,KAAKyU,qBAAqB,MAAMzU,KAAKkR,eAAelR,KAAKkR,aAAajK,aAAQ,GAAQjH,KAAK6U,oBAAoB7U,KAAKoF,MAAM,MAAMpF,KAAKyQ,UAAUzQ,KAAKgV,kBAAkBhV,KAAKyQ,SAAShL,UAAUzF,KAAKc,KAAK,WAAW,MAAM,CAAC,YAAI2P,CAAS/Q,GAAGA,IAAIM,KAAKQ,KAAK,cAAcR,KAAKyU,qBAAoB3U,EAAAA,EAAAA,IAAEE,KAAKyU,qBAAqBzU,KAAK6U,oBAAoB7U,KAAKoF,MAAMpF,KAAKiV,qBAAqBvV,GAAGM,KAAK4U,yBAAyB,CAAC,SAAI7D,GAAQ,OAAO,MAAM/Q,KAAKkR,eAAelR,KAAKkV,gBAAgB,CAAC,oBAAIA,GAAmB,OAAO,MAAMlV,KAAKuU,kBAAkB,CAAC,mBAAIS,GAAkB,OAAOhV,KAAKQ,KAAK,kBAAkB,CAAC,WAAIyG,CAAQvH,GAAGM,KAAKc,KAAK,UAAUpB,GAAG,MAAMM,KAAKkR,eAAelR,KAAKkR,aAAajK,QAAQvH,EAAE,CAAC,WAAMuU,GAAQjU,KAAKoG,QAAQ,MAAM1G,EAAE,CAACyV,KAAK,KAAKrP,MAAM,KAAKyB,MAAMpG,EAAEiT,SAAStU,GAAEF,EAAAA,EAAAA,KAAG6E,UAAU/E,EAAE6H,MAAMpG,EAAEkT,0BAA0B1S,EAAAA,EAAAA,KAAG,IAAI3B,KAAK+Q,OAAOnR,GAAGF,EAAE6H,MAAMpG,EAAEmT,QAAQtU,KAAK8U,WAAW,CAAC9M,aAAY,GAAI,IAAI,OAAOtI,EAAEyV,KAAKrV,EAAEJ,EAAEoG,MAAM,IAAIhG,EAAEgG,QAAQ9F,KAAKyU,oBAAoB/U,EAAEI,EAAEsV,OAAO,CAAChP,KAAAA,GAAQpG,KAAKyU,qBAAoB3U,EAAAA,EAAAA,IAAEE,KAAKyU,qBAAqBzU,KAAK+U,aAAa/U,KAAKyQ,SAASrK,OAAO,CAACiP,uBAAAA,CAAwB3V,GAAG,CAAC4V,4BAAAA,GAA+B,CAACV,sBAAAA,GAAyB5U,KAAKuU,oBAAmBzU,EAAAA,EAAAA,IAAEE,KAAKuU,oBAAoB,MAAM7U,GAAEE,EAAAA,EAAAA,KAAG6E,UAAU,UAAUzE,KAAKuV,eAAe3V,EAAE,CAAC,MAAME,GAAG,IAAGL,EAAAA,EAAAA,IAAEG,KAAIL,EAAAA,EAAAA,IAAEO,GAAG,YAAYE,KAAKwV,OAAOtP,KAAK,uCAAuCpG,GAAG,MAAMA,CAAC,CAAC,QAAQJ,IAAIM,KAAKuU,qBAAqBvU,KAAKuU,mBAAmB,KAAK,KAAKvU,KAAKuU,mBAAmB7U,CAAC,CAAC,oBAAM6V,CAAe7V,GAAG,MAAM0F,KAAKxF,GAAGI,KAAKF,EAAE,MAAMF,GAAGA,EAAEmR,OAAO/Q,KAAKsT,UAAU7T,EAAEO,KAAKyQ,SAAS,GAAGzQ,KAAKyU,oBAAoB5M,EAAE7H,KAAKyU,qBAAqBzU,KAAK6U,oBAAoBjV,GAAGE,GAAG,MAAMF,GAAG,MAAMH,EAAE,CAAC,GAAGO,KAAKgV,gBAAgB,CAAC,GAAG,MAAMvV,EAAEc,OAAO,YAAYP,KAAKyV,SAAS,uEAAuEzV,KAAKwU,4BAA2B,EAAG5U,EAAEe,SAASsH,IAAIxI,EAAE,CAACO,KAAKkR,mBAAmBtR,EAAE8V,iBAAiBjW,IAAGiC,EAAAA,EAAAA,IAAEhC,GAAGM,KAAKyU,oBAAoB5M,EAAE7H,KAAKyU,sBAAsBzU,KAAKkR,aAAajK,QAAQjH,KAAKiH,QAAQjH,KAAKqV,wBAAwBrV,KAAKkR,cAAclR,KAAK8U,aAAa,CAAC,CAACD,mBAAAA,CAAoBnV,GAAGM,KAAK+U,aAAa,MAAMrV,GAAGM,KAAKgV,kBAAkBhV,KAAKwU,4BAA2B,EAAG9U,EAAEiB,SAASE,OAAOb,KAAKyQ,UAAUzQ,KAAKyQ,SAASrK,SAASpG,KAAKkR,aAAa,KAAKlR,KAAKsV,8BAA8B,CAACL,oBAAAA,CAAqBvV,GAAG,MAAMM,KAAKkR,cAAclR,KAAKgV,kBAAkBhV,KAAKkR,aAAajK,SAAQ,GAAIjH,KAAKkR,aAAa,KAAKlR,KAAKc,KAAK,mBAAkB,GAAId,KAAKc,KAAK,WAAWpB,GAAGM,KAAKwU,4BAA2B,CAAE,CAAC,YAAImB,GAAW,MAAM,CAACzE,aAAalR,KAAKkR,aAAa,GAAG,SAASrJ,EAAEnI,GAAG,OAAO,MAAMA,GAAGA,EAAE6H,OAAOpG,EAAEmT,SAAS5U,EAAEoG,QAAQ,MAAMpG,CAAC,EAACA,EAAAA,EAAAA,GAAE,EAACyD,EAAAA,EAAAA,IAAE,CAACgR,aAAY,KAAMpQ,EAAExC,UAAU,WAAW,OAAM7B,EAAAA,EAAAA,GAAE,EAACyD,EAAAA,EAAAA,OAAKY,EAAExC,UAAU,oBAAe,IAAQ7B,EAAAA,EAAAA,GAAE,EAACyD,EAAAA,EAAAA,OAAKY,EAAExC,UAAU,QAAQ,OAAM7B,EAAAA,EAAAA,GAAE,EAACyD,EAAAA,EAAAA,OAAKY,EAAExC,UAAU,mBAAmB,OAAM7B,EAAAA,EAAAA,GAAE,EAACyD,EAAAA,EAAAA,IAAE,CAAC1B,UAAS,KAAMsC,EAAExC,UAAU,kBAAkB,OAAM7B,EAAAA,EAAAA,GAAE,EAACyD,EAAAA,EAAAA,IAAE,CAAC1C,KAAKmV,QAAQpU,OAAM,KAAMuC,EAAExC,UAAU,UAAU,OAAM7B,EAAAA,EAAAA,GAAE,EAACyD,EAAAA,EAAAA,OAAKY,EAAExC,UAAU,0BAAqB,GAAQwC,GAAErE,EAAAA,EAAAA,GAAE,EAACoD,EAAAA,EAAAA,GAAE,sDAAsDiB,E","sources":["../node_modules/@arcgis/core/analysis/Analysis.js","../node_modules/@arcgis/core/views/3d/analysis/support/measurementUtils.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingOperation.js","../node_modules/@arcgis/core/analysis/AreaMeasurementAnalysis.js","../node_modules/@arcgis/core/views/3d/interactive/measurementTools/support/PickRequest.js","../node_modules/@arcgis/core/views/3d/interactive/measurementTools/areaMeasurement3D/AreaMeasurement3DView.js","../node_modules/@arcgis/core/views/3d/interactive/measurementTools/areaMeasurement3D/AreaMeasurement3DTool.js","../node_modules/@arcgis/core/widgets/AreaMeasurement3D/AreaMeasurement3DViewModel.js","../node_modules/@arcgis/core/widgets/AreaMeasurement3D.js","../node_modules/@arcgis/core/widgets/support/InteractiveAnalysisViewModel.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../core/Accessor.js\";import{isSome as r}from\"../core/arrayUtils.js\";import{ClonableMixin as s}from\"../core/Clonable.js\";import{IdentifiableMixin as o}from\"../core/Identifiable.js\";import{JSONSupportMixin as i}from\"../core/JSONSupport.js\";import{property as p}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/has.js\";import{subclass as a}from\"../core/accessorSupport/decorators/subclass.js\";let n=0,l=class extends(i(s(o(t)))){constructor(e){super(e),this.id=`${Date.now().toString(16)}-analysis-${n++}`,this.title=null}get parent(){return this._get(\"parent\")}set parent(e){const t=this.parent;if(null!=t)switch(t.type){case\"line-of-sight\":case\"dimension\":t.releaseAnalysis(this);break;case\"2d\":case\"3d\":t.analyses.includes(this)&&t.analyses.remove(this)}this._set(\"parent\",e)}get isEditable(){return this.requiredPropertiesForEditing.every(r)}};e([p({type:String,constructOnly:!0,clonable:!1})],l.prototype,\"id\",void 0),e([p({type:String})],l.prototype,\"title\",void 0),e([p({constructOnly:!0})],l.prototype,\"type\",void 0),e([p({clonable:!1,value:null})],l.prototype,\"parent\",null),e([p({readOnly:!0})],l.prototype,\"isEditable\",null),e([p({readOnly:!0})],l.prototype,\"requiredPropertiesForEditing\",void 0),l=e([a(\"esri.analysis.Analysis\")],l);const c=l;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{s as t,g as e,i as r,a as o,j as n,o as i,c as s,n as f,b as a}from\"../../../../chunks/vec3.js\";import{c}from\"../../../../chunks/vec3f64.js\";import{geodesicArea as m}from\"../../../../geometry/geometryEngine.js\";import u from\"../../../../geometry/Polygon.js\";import p from\"../../../../geometry/SpatialReference.js\";import{projectPointToVector as l}from\"../../../../geometry/projection/projectPointToVector.js\";import{projectPointToWGS84ComparableLonLat as g}from\"../../../../geometry/projection/projectPointToWGS84ComparableLonLat.js\";import{projectVectorToWGS84ComparableLonLat as h}from\"../../../../geometry/projection/projectVectorToWGS84ComparableLonLat.js\";import{InverseGeodeticSolverResult as j,inverseGeodeticSolver as y}from\"../../../../geometry/support/geodesicUtils.js\";import{planeFromPoints as P}from\"../../support/mathUtils.js\";function b(n,i){const s=i.center;t(s,0,0,0);for(let t=0;t<n.length;++t)e(s,s,n[t]);r(s,s,1/n.length);let f=0;for(let t=0;t<n.length;++t)f=Math.max(f,o(s,n[t]));i.radius=Math.sqrt(f)}function d(t,e){if(t.length<3)throw new Error(\"need at least 3 points to fit a plane\");P(t[0],t[1],t[2],e)}function w(t,e){return n(t,e)+t[3]}function L(t,e,r){return l(t,k,r)&&l(e,q,r)?i(k,q):0}function S(t,e){if(!g(t,k)||!g(e,q))return 0;const r=new j;return y(r,[k[0],k[1]],[q[0],q[1]]),r.distance}function T(t,e,r){const o=new j;return y(o,[t[0],t[1]],[e[0],e[1]],r),o.distance}function G(t,e,r,o){const n=x;return h(t,o,k)&&h(e,o,q)&&h(r,o,v)?(n.setPoint(0,0,k),n.setPoint(0,1,q),n.setPoint(0,2,v),Math.abs(m(n,\"square-meters\"))):0}function M(r,o=null,i=!0){const c=1e-6,m=(t,e)=>{if(0===e[0]&&0===e[1]&&0===e[2])return!1;for(let r=0;r<t.length;++r)if(n(e,t[r])<-c)return!1;return!0};if(0===r.length)return!1;if(1===r.length)return o&&s(o,r[0]),!0;t(C,0,0,0);for(let t=0;t<r.length;++t)e(C,C,r[t]);if(f(C,C),m(r,C))return o&&s(o,C),!0;if(!i)return!1;for(let t=0;t<r.length;++t)for(let e=0;e<r.length;++e)if(t!==e&&(a(C,r[t],r[e]),f(C,C),m(r,C)))return o&&s(o,C),!0;return!1}function W(t){return\"mouse\"!==t.pointerType||0===t.button}const k=c(),q=c(),v=c(),x=new u({rings:[[k,q,v]],spatialReference:p.WGS84}),C=c();export{d as bestFitPlane,b as boundingSphere,M as fitHemisphere,W as isPrimaryPointerAction,w as planePointDistance,L as segmentLengthEuclidean,S as segmentLengthGeodesic,T as segmentLengthGeodesicVector,G as triangleAreaGeodesic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import s from\"../../../core/Accessor.js\";import{abortMaybe as o,removeMaybe as r}from\"../../../core/maybe.js\";import{debounce as n}from\"../../../core/promiseUtils.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{TaskPriority as a,ImmediateTask as l}from\"../../support/Scheduler.js\";let p=class extends s{constructor(t){super(t),this.constrainResult=t=>t,this._snapPoints=null,this._frameTask=null,this._abortController=null,this._stagedPoint=null,this._snap=n((async(t,s,o,r)=>{const n=this._frameTask;if(null==n)return;const e=await n.schedule((()=>s.snap({...t,context:o,signal:r})),r);e.valid&&await n.schedule((()=>{this.stagedPoint=e.apply(),t!==this._snapPoints&&null!=this._snapPoints&&(this.stagedPoint=s.update({...this._snapPoints,context:o}))}),r)}))}get stagedPoint(){return this._stagedPoint}set stagedPoint(t){this._stagedPoint=this.constrainResult(t)}initialize(){const t=\"3d\"===this.view.type?this.view?.resourceController?.scheduler:null;this._frameTask=null!=t?t.registerTask(a.SNAPPING):l}destroy(){this._abortController=o(this._abortController),this._frameTask=r(this._frameTask)}update(t,s,o){this._snapPoints=t;const{point:r,scenePoint:n}=t,e=s.update({point:r,scenePoint:n,context:o});return this.stagedPoint=e,e}async snap(t,s,o){const{point:r,scenePoint:n}=t;return this.stagedPoint=s.update({point:r,scenePoint:n,context:o}),this._snapPoints=t,null==this._abortController&&(this._abortController=new AbortController),this._snap(t,s,o,this._abortController.signal)}async resnap(t,s){null!=this._snapPoints&&await this.snap(this._snapPoints,t,s)}abort(){this._abortController=o(this._abortController),this._snapPoints=null}};t([e({constructOnly:!0})],p.prototype,\"view\",void 0),t([e()],p.prototype,\"stagedPoint\",null),t([e()],p.prototype,\"constrainResult\",void 0),t([e()],p.prototype,\"_stagedPoint\",void 0),p=t([i(\"esri.views.interactive.snapping.SnappingOperation\")],p);export{p as SnappingOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import r from\"./Analysis.js\";import{equals as t}from\"../core/arrayUtils.js\";import o from\"../core/Logger.js\";import{measurementAreaUnits as s}from\"../core/unitUtils.js\";import{property as i}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/has.js\";import{subclass as n}from\"../core/accessorSupport/decorators/subclass.js\";import l from\"../geometry/Polygon.js\";let p=class extends r{constructor(e){super(e),this.type=\"area-measurement\",this.unit=null}set geometry(e){null!=e?(e.rings.length>1&&o.getLogger(this).warn(\"Measuring polygons with multiple rings is not supported.\"),this._set(\"geometry\",e.clone())):this._set(\"geometry\",null)}get requiredPropertiesForEditing(){if(null!=this.geometry&&1===this.geometry.rings.length){const e=this.geometry.rings[0];if(e.length<=2||!t(e[0],e[e.length-1]))return[null]}return[this.geometry]}clear(){this.geometry=null}};e([i({type:[\"area-measurement\"]})],p.prototype,\"type\",void 0),e([i({value:null,type:l})],p.prototype,\"geometry\",null),e([i({type:s,value:null})],p.prototype,\"unit\",void 0),e([i({readOnly:!0})],p.prototype,\"requiredPropertiesForEditing\",null),p=e([n(\"esri.analysis.AreaMeasurementAnalysis\")],p);const m=p;export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nclass s{constructor(s,t=null){this.screenPoint=s,this.result=t}}class t{constructor(s,t){this.scenePoint=s,this.mapPoint=t}}export{s as PickRequest,t as PickResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../Color.js\";import{multiplyOpacityToUnitRGBA as e,colorEquals as i,getContrast as s}from\"../../../../../core/colorUtils.js\";import a from\"../../../../../core/Handles.js\";import{destroyMaybe as n}from\"../../../../../core/maybe.js\";import{watch as r,sync as o}from\"../../../../../core/reactiveUtils.js\";import{screenPointObjectToArray as l}from\"../../../../../core/screenUtils.js\";import{c as h}from\"../../../../../chunks/vec3f64.js\";import{Manipulator3D as _}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as u}from\"../../manipulatorUtils.js\";import{RenderObject as d}from\"../../RenderObject.js\";import{PickResult as p}from\"../support/PickRequest.js\";import{LaserlineVisualElement as c}from\"../../visualElements/LaserlineVisualElement.js\";import{createSphereGeometry as m}from\"../../../webgl-engine/lib/GeometryUtil.js\";import{newIntersector as g}from\"../../../webgl-engine/lib/Intersector.js\";import{StoreResults as w}from\"../../../webgl-engine/lib/IntersectorInterfaces.js\";import{ManipulatorCollection as v}from\"../../../../interactive/ManipulatorCollection.js\";class f{constructor(t){this.vertexManipulators=[],this._destroyed=!1,this._isManipulatorsOwner=!0,this._visible=!0,this._listenerHandles=null,this._tempHandlePosition=h();const{analysisViewData:e,manipulators:i,toolState:s,view:a,visible:n}=t;this._analysisViewData=e,this._toolState=s,null!=i?(this._manipulators=i,this._isManipulatorsOwner=!1):this._manipulators=new v,this._view=a,this._intersector=g(a.state.viewingMode),this._intersector.options.store=w.MIN;const r=u(this._handleColor),o=[new d(m(r,1,32,32))],l=new _({view:a,renderObjects:o});l.available=!1,l.radius=M,l.interactive=!1,this._manipulators.add(l),this._cursorManipulator=l,this._cursorManipulatorMaterial=r,this._laserLine=new c({view:a,attached:!0,style:{glowWidth:V,glowFalloff:b,innerWidth:D},isDecoration:!0}),this._updateVisibility(n??!0)}destroy(){this._listenerHandles=n(this._listenerHandles),this._isManipulatorsOwner?this._manipulators=n(this._manipulators):this._manipulators=null,this._laserLine=n(this._laserLine),this._destroyed=!0}get destroyed(){return this._destroyed}get visible(){return this._visible}set visible(t){t?this.show():this.hide()}get testData(){const t=this._laserLine.testData;return{laserLineRenderer:null!=t?{heightManifoldEnabled:t.heightManifoldEnabled,heightManifoldTarget:t.heightManifoldTarget,pointDistanceEnabled:t.pointDistanceEnabled,pointDistanceOrigin:t.pointDistanceOrigin,pointDistanceTarget:t.pointDistanceTarget,lineVerticalPlaneEnabled:t.lineVerticalPlaneEnabled}:{heightManifoldEnabled:!1,heightManifoldTarget:null,pointDistanceEnabled:!1,pointDistanceOrigin:null,pointDistanceTarget:null,lineVerticalPlaneEnabled:!1}}}show(){this._setVisibility(!0)}hide(){this._setVisibility(!1)}_setVisibility(t){this._destroyed||this._visible===t||this._updateVisibility(t)}_updateVisibility(t){this._visible=t,this._laserLine.visible=t,t?(this._initializeListeners(),this._updateAll()):(this._destroyListeners(),this.vertexManipulators.forEach((({manipulator:t})=>this._removeVertexManipulator(t))),this.vertexManipulators=[],this._view.cursor=null)}vertexHandleAt(t,e){const i=this._manipulators.intersect(t,e);return i?.metadata}pick(t){const e=this._view.spatialReference,i=l(t.screenPoint);this._view.sceneIntersectionHelper.intersectToolIntersectorScreen(i,this._intersector);const s=this._intersector.results.min,a=h();if(!s.getIntersectionPoint(a))return null;const n=this._view.renderCoordsHelper.fromRenderCoords(a,e);return null==n?null:new p(a,n)}_updateAll(){this._visible&&(this._updateVertexManipulators(),this._updateLaserLine())}_createVertexManipulator(){const t=u(this._handleColor),e=[new d(m(t,1,32,32))],i=new _({view:this._view,renderObjects:e});return i.radius=M,this._manipulators.add(i),{manipulator:i,material:t}}_removeVertexManipulator(t){this._manipulators.remove(t)}_updateVertexManipulators(){const{viewData:t}=this._analysisViewData,e=this._analysisViewData.path?this._analysisViewData.path.vertices:[],i=this.vertexManipulators;y(i,e.length,(()=>this._createVertexManipulator()),(({manipulator:t})=>this._removeVertexManipulator(t))),i.forEach((({manipulator:i},s)=>{i.metadata=e[s],i.renderLocation=t.positionsRenderCoords[s],i.cursor=0===s&&\"drawing\"===this._toolState.polygonState?\"crosshair\":null})),\"drawing\"===this._toolState.polygonState&&null!=this._analysisViewData.stagedPoint?(this._cursorManipulator.available=!0,this._cursorManipulator.location=this._analysisViewData.stagedPoint):this._cursorManipulator.available=!1}get _handleColor(){return e(this._view.effectiveTheme.accentColor,.5)}_getFocusPoint(){const{lastDraggedVertex:t}=this._analysisViewData;switch(this._toolState.polygonState){case\"drawing\":return null!=this._analysisViewData.stagedPoint?this._analysisViewData.stagedPoint:null!=t?this._analysisViewData.path.getVertexPositionAsPoint(t):this._analysisViewData.path.lastPoint;case\"editing\":return null!=t?this._analysisViewData.path.getVertexPositionAsPoint(t):null;default:return this._analysisViewData.stagedPoint}}_updateLaserLine(){const t=\"measured\"!==this._toolState.polygonState&&this._toolState.active,e=this._getFocusPoint();if(t&&null!=e){const t=this._tempHandlePosition;this._view.renderCoordsHelper.toRenderCoords(e,t),this._laserLine.heightManifoldTarget=t}else this._laserLine.heightManifoldTarget=null}_initializeListeners(){this._listenerHandles=new a,this._listenerHandles.add([r((()=>this._toolState.polygonState),(()=>this._updateLaserLine())),r((()=>this._analysisViewData.viewData),(()=>this._updateAll()),o),r((()=>({lastDraggedVertex:this._analysisViewData.lastDraggedVertex,cursorPoint:this._analysisViewData.stagedPoint})),(()=>this._updateLaserLine())),r((()=>this._toolState.active),(()=>this._updateAll())),r((()=>this._view.effectiveTheme.accentColor),(i=>{const a=e(i,.5);for(const{material:t}of this.vertexManipulators)t.setParameters({color:a});this._cursorManipulatorMaterial.setParameters({color:a});const n=t.toUnitRGB(i),r=t.toUnitRGB(s(i)),o=.75*i.a,l=this._laserLine,h=l.style;l.style={...h,glowColor:n,innerColor:r,globalAlpha:o}}),{initial:!0,equals:i})])}_destroyListeners(){this._listenerHandles=n(this._listenerHandles)}}function y(t,e,i,s){for(;t.length<e;)t.push(i());if(s)for(;t.length>e;){s(t.pop())}else t.length=e}const V=8,b=8,D=1,M=5;export{f as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{destroyMaybe as e}from\"../../../../../core/maybe.js\";import{memoize as i}from\"../../../../../core/memoize.js\";import{ignoreAbortErrors as a}from\"../../../../../core/promiseUtils.js\";import{syncAndInitial as n,watch as s}from\"../../../../../core/reactiveUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../../../../core/support/UpdatingHandles.js\";import l from\"../../../../../geometry/Point.js\";import{clonePoint as g}from\"../../../../../layers/graphics/hydratedFeatures.js\";import{isPrimaryPointerAction as h}from\"../../../analysis/support/measurementUtils.js\";import{SnappingVisualizer3D as m}from\"../../SnappingVisualizer3D.js\";import{screenToMap3D as d,hideManipulatorWhileDragging as u}from\"../../editingTools/dragEventPipeline3D.js\";import c from\"./AreaMeasurement3DView.js\";import{PickRequest as y}from\"../support/PickRequest.js\";import{AnalysisToolBase as w}from\"../../../../interactive/AnalysisToolBase.js\";import{createCoordinateHelper as _}from\"../../../../interactive/coordinateHelper.js\";import{createManipulatorDragEventPipeline as f}from\"../../../../interactive/dragEventPipeline.js\";import{ManipulatorCollection as v}from\"../../../../interactive/ManipulatorCollection.js\";import{EditGeometry as S}from\"../../../../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as P}from\"../../../../interactive/editGeometry/EditGeometryOperations.js\";import{acquire as V}from\"../../../../interactive/snapping/SceneSnappingManagerPool.js\";import{SnappingContext as D}from\"../../../../interactive/snapping/SnappingContext.js\";import{createSnapDragEventPipelineStep as j}from\"../../../../interactive/snapping/SnappingDragPipelineStep.js\";import{SnappingOperation as M}from\"../../../../interactive/snapping/SnappingOperation.js\";import{setupSnappingToggleHandles as x}from\"../../../../interactive/snapping/snappingUtils.js\";import{createScreenPointFromEvent as k}from\"../../../../support/screenUtils.js\";let b=class extends w{constructor(t){super(t),this._updatingHandles=new p,this.polygonState=\"initial\",this.manipulators=new v,this._getSnappingContext=i((t=>new D({elevationInfo:{mode:\"absolute-height\",offset:0},pointer:t,editGeometryOperations:new P(new S(\"point\",_(!0,!1,this.view.spatialReference))),visualizer:new m})))}initialize(){const{view:t,analysisViewData:e,manipulators:i,visible:o}=this;this.measurementView=new c({view:t,analysisViewData:e,toolState:this,manipulators:i,visible:o});const r=V(t);this._snappingManagerResult=r,this.addHandles(r),this._snappingOperation=new M({view:t}),this._updatingHandles.add((()=>this.stagedPoint),(t=>{this.analysisViewData.stagedPoint=null!=t?g(t,new l):null}),n),x(this,(()=>{const t=this.view.inputManager.latestPointerType??\"mouse\",e=this._getSnappingContext(t);this._updatingHandles.addPromise(a(this._snappingOperation.resnap(this._snappingManager,e)))})),this._setupManipulators(),this.addHandles([s((()=>this.state),(t=>{\"measured\"===t&&this.finishToolCreation()}),n),this.analysisViewData.path.on(\"change\",(()=>{const t=this.analysisViewData.path;\"initial\"!==this.polygonState||t.isEmptyPolygon||(t.isValidPolygon?this.polygonState=\"measured\":this.polygonState=\"drawing\")}))])}destroy(){this.measurementView.destroy(),this._set(\"measurementView\",null),this._updatingHandles=e(this._updatingHandles)}get _snappingManager(){return this._snappingManagerResult.snappingManager}get state(){return 0===this.analysisViewData.path.numVertices?\"ready\":this.analysisViewData.path.isValidPolygon&&\"editing\"!==this.polygonState?\"measured\":\"measuring\"}get cursor(){return\"ready\"===this.state||\"drawing\"===this.polygonState?\"crosshair\":null}get updating(){return this._updatingHandles.updating||this._snappingManager.updating}get stagedPoint(){return this._snappingOperation.stagedPoint}set stagedPoint(t){this._snappingOperation.stagedPoint=t}get snappingOptions(){return this._snappingManager.options}finishMeasurement(){const{path:t}=this.analysisViewData;t.numVertices<3?(t.clear(),this.polygonState=\"initial\"):(t.close(),this.polygonState=\"measured\"),this._resetSnappingState()}onShow(){this.measurementView.show()}onHide(){this.measurementView.hide()}onDeactivate(){this._resetSnappingState()}onInputEvent(t){switch(t.type){case\"immediate-double-click\":this._handleImmediateDoubleClick(t);break;case\"immediate-click\":this._handleImmediateClick(t);break;case\"pointer-move\":this._handlePointerMove(t);break;case\"drag\":this._handleDrag(t);break;case\"key-down\":this._handleKeyDown(t)}}_setupManipulators(){const t=t=>t.events.on(\"grab-changed\",(()=>{if(this.analysisViewData.path.isValidPolygon){const t=this.manipulators.some((t=>t.manipulator.grabbing));this.polygonState=t?\"editing\":\"measured\"}})),e=e=>{this.addHandles([f(e,((t,e,i,a)=>{const n=u(t),s=t.metadata,o=this._snappingManager,r=this._getSnappingContext(a),p=this._updatingHandles,{snappingStep:l,cancelSnapping:h}=j({snappingManager:o,snappingContext:r,updatingHandles:p});i=i.next(n).next((e=>(this.analysisViewData.lastDraggedVertex=null,this.analysisViewData.path.setVertexPosition(s,m),t.location=m,e))).next(h),e.next(n).next(d(this.view)).next(...l).next((e=>{t.location=e.mapEnd,this.analysisViewData.lastDraggedVertex=\"end\"===e.action?null:s,this.analysisViewData.path.setVertexPosition(s,g(e.mapEnd))}));const m=g(this.analysisViewData.path.getVertexPositionAsPoint(s))})),t(e)],e)};this.manipulators.forEach((({manipulator:t})=>{e(t)})),this.addHandles([this.manipulators.on(\"after-add\",(({item:{manipulator:t}})=>{e(t)})),this.manipulators.on(\"after-remove\",(({item:{manipulator:t}})=>this.removeHandles(t)))])}_handleImmediateDoubleClick(t){h(t)&&(\"drawing\"===this.polygonState&&this.finishMeasurement(),t.stopPropagation())}_handleDrag(t){\"editing\"===this.polygonState&&t.stopPropagation()}_handleImmediateClick(t){if(!h(t))return;const e=k(t),{pointerType:i}=t;if(this.active)switch(this.polygonState){case\"initial\":if(this._addVertexAt(e,i))return this.stagedPoint=null,this.polygonState=\"drawing\",void t.stopPropagation();break;case\"drawing\":{const a=this.measurementView.vertexHandleAt(e,i);if(null==a){if(this._addVertexAt(e,i))return this.stagedPoint=null,void t.stopPropagation()}else 0===a.index&&(this.finishMeasurement(),t.stopPropagation());break}}\"mouse\"===t.pointerType&&this._hoverAt(e)}_handlePointerMove(t){if(\"mouse\"===t.pointerType){const e=k(t);this._hoverAt(e)}}_handleKeyDown(t){const{path:e}=this.analysisViewData;\"Enter\"===t.key&&\"drawing\"===this.polygonState&&e.numVertices>=3&&(this.stagedPoint=null,this.finishMeasurement(),t.stopPropagation())}_hoverAt(t){const{polygonState:e}=this;if(this.active&&(\"initial\"===e||\"drawing\"===e)){const e=this._pick(t);if(null!=e?.mapPoint){const t=this._getSnappingContext(\"mouse\");this._updatingHandles.addPromise(a(this._snappingOperation.snap({point:e.mapPoint},this._snappingManager,t)))}}else this.stagedPoint=null}_addVertexAt(t,e){const i=this._pick(t);if(null!=i?.mapPoint){const{mapPoint:t}=i,a=this._getSnappingContext(e),n=this._snappingOperation.update({point:t},this._snappingManager,a),s=g(n,new l);return this.analysisViewData.path.add(s),!0}return!1}_pick(t){const e=new y(t);return this.measurementView.pick(e)}_resetSnappingState(){this._snappingManager.doneSnapping(),this._snappingOperation.abort(),this._snappingOperation.stagedPoint=null}get test(){return{snappingManager:this._snappingManager}}};t([o({readOnly:!0})],b.prototype,\"state\",null),t([o()],b.prototype,\"polygonState\",void 0),t([o({readOnly:!0})],b.prototype,\"cursor\",null),t([o()],b.prototype,\"measurementView\",void 0),t([o({constructOnly:!0})],b.prototype,\"view\",void 0),t([o({constructOnly:!0})],b.prototype,\"analysis\",void 0),t([o({constructOnly:!0})],b.prototype,\"analysisViewData\",void 0),t([o({readOnly:!0})],b.prototype,\"manipulators\",void 0),t([o()],b.prototype,\"updating\",null),t([o()],b.prototype,\"stagedPoint\",null),t([o()],b.prototype,\"snappingOptions\",null),b=t([r(\"esri.views.3d.interactive.measurementTools.areaMeasurement3D.AreaMeasurement3DTool\")],b);const O=b;export{O as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../analysis/AreaMeasurementAnalysis.js\";import{watch as s,syncAndInitial as i}from\"../../core/reactiveUtils.js\";import{measurementAreaUnits as n}from\"../../core/unitUtils.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import{defaultUnitPropertyMetadata as a}from\"../../properties/defaultUnit.js\";import o from\"../../views/3d/interactive/measurementTools/areaMeasurement3D/AreaMeasurement3DTool.js\";import{InteractiveAnalysisViewModel as u}from\"../support/InteractiveAnalysisViewModel.js\";let p=class extends u{constructor(t){super(t),this.analysis=null,this.supportedViewType=\"3d\",this.unsupportedErrorMessage=\"AreaMeasurement3DViewModel is only supported in 3D views.\",this._userUnitOptions=null,this._userUnit=null}initialize(){this.addHandles(s((()=>({analysis:this.analysis,unit:this.unit})),(({analysis:t,unit:e})=>{null!=t&&(t.unit=e)}),i))}get state(){return this.disabled||!this.ready?\"disabled\":null==this.tool?\"ready\":this.tool.state}get measurement(){if(null==this.tool||this.disabled||this.tool.destroyed)return null;const{analysisView:t}=this;if(null==t)return null;const e=t.analysisVisualization,s=e.viewData,i=s.measurementData,n=i.validMeasurement,r=\"euclidean\"===s.mode,l=0===(r?i.intersectingSegments:i.geodesicIntersectingSegments).size,a=l?n?\"available\":\"unavailable\":\"invalid\";return{mode:r?\"euclidean\":\"geodesic\",area:{text:l&&n?e.areaLabel:null,state:a},perimeterLength:{text:l&&n?e.perimeterLengthLabel:null,state:a}}}set unitOptions(t){this._userUnitOptions=t,this._set(\"unitOptions\",this._filteredOrAllUnits(this._userUnitOptions))}get unitOptions(){return this._filteredOrAllUnits(this._userUnitOptions)}set unit(t){this._userUnit=t?this._findSelectableUnit(t,this._userUnit):null}get unit(){return null!=this._userUnit?(this._userUnit=this._findSelectableUnit(this._userUnit,this.defaultUnit),this._userUnit):this._findSelectableUnit(this.defaultUnit)}constructAnalysis(){return new e}constructTool(){return new o({view:this.view,analysis:this.analysis,analysisViewData:this.analysisView,visible:this.visible})}_findSelectableUnit(t,e){const{unitOptions:s}=this;return s.includes(t)?t:null!=e?this._findSelectableUnit(e):s[0]}_filteredOrAllUnits(t){if(null==t)return n.slice();const e=t.filter((t=>n.includes(t)));return 0===e.length?n.slice():e}};t([r({type:e})],p.prototype,\"analysis\",void 0),t([r({readOnly:!0})],p.prototype,\"state\",null),t([r({readOnly:!0})],p.prototype,\"measurement\",null),t([r()],p.prototype,\"unitOptions\",null),t([r()],p.prototype,\"unit\",null),t([r(a)],p.prototype,\"defaultUnit\",void 0),t([r()],p.prototype,\"_userUnit\",void 0),p=t([l(\"esri.widgets.AreaMeasurement3D.AreaMeasurement3DViewModel\")],p);const d=p;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{ignoreAbortErrors as t}from\"../core/promiseUtils.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import o from\"./Widget.js\";import r from\"./AreaMeasurement3D/AreaMeasurement3DViewModel.js\";import{globalCss as n}from\"./support/globalCss.js\";import{legacyIcon as a}from\"./support/legacyIcon.js\";import{MeasurementWidgetContent as l}from\"./support/MeasurementWidgetContent.js\";import\"./support/widgetUtils.js\";import{messageBundle as p}from\"./support/decorators/messageBundle.js\";import{tsx as u}from\"./support/jsxFactory.js\";const m=\"esri-area-measurement-3d\",c={base:m,newMeasurementButton:`${m}__clear-button`,widgetIcon:a.measureArea};let d=class extends o{constructor(e,t){super(e,t),this.iconClass=c.widgetIcon,this.icon=null,this.messages=null,this.messagesCommon=null,this.messagesUnits=null,this.viewModel=new r}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}get visible(){return this.viewModel.visible}set visible(e){this.viewModel.visible=e}get active(){return this.viewModel.active}get analysis(){return this.viewModel.analysis}set analysis(e){this.viewModel.analysis=e}get label(){return this.messages?.widgetLabel??\"\"}set label(e){this._overrideIfSome(\"label\",e)}get unitOptions(){return this.viewModel.unitOptions}set unitOptions(e){this.viewModel.unitOptions=e}get unit(){return this.viewModel.unit}set unit(e){this.viewModel.unit=e}render(){const{messages:e,messagesCommon:s,messagesUnits:i,unit:o,unitOptions:r,viewModel:a}=this,{active:p,measurement:m,state:d,supported:g}=a;return u(\"div\",{\"aria-label\":this.messages.widgetLabel,class:this.classes(c.base,n.widget,n.panel),key:this,role:\"presentation\"},this.visible?u(l,{active:p,measurementItems:[{key:\"direct\",title:i.measures.area,value:v(m?.area)},{key:\"perimeter\",title:e.perimeterLength,value:v(m?.perimeterLength)}],messages:{...e,notApplicable:s.notApplicable},newMeasurementButtonClass:c.newMeasurementButton,state:d,supported:g,unit:o,unitOptions:r,onNewMeasurementClick:()=>{t(this.viewModel.start())},onUnitChange:e=>{this.unit=e}}):null)}};function v(e){return\"available\"===e?.state?e.text:null}e([s()],d.prototype,\"view\",null),e([s()],d.prototype,\"visible\",null),e([s()],d.prototype,\"active\",null),e([s({constructOnly:!0,nonNullable:!0})],d.prototype,\"analysis\",null),e([s()],d.prototype,\"iconClass\",void 0),e([s()],d.prototype,\"icon\",void 0),e([s()],d.prototype,\"label\",null),e([s(),p(\"esri/widgets/AreaMeasurement3D/t9n/AreaMeasurement3D\")],d.prototype,\"messages\",void 0),e([s(),p(\"esri/t9n/common\")],d.prototype,\"messagesCommon\",void 0),e([s(),p(\"esri/core/t9n/Units\")],d.prototype,\"messagesUnits\",void 0),e([s()],d.prototype,\"uiStrings\",void 0),e([s({type:r})],d.prototype,\"viewModel\",void 0),e([s()],d.prototype,\"unitOptions\",null),e([s()],d.prototype,\"unit\",null),d=e([i(\"esri.widgets.AreaMeasurement3D\")],d);const g=d;export{g as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../chunks/tslib.es6.js\";import{createTask as t}from\"../../core/asyncUtils.js\";import{abortMaybe as e}from\"../../core/maybe.js\";import{throwIfAborted as i,isAbortError as n,isAborted as a}from\"../../core/promiseUtils.js\";import{watch as r,sync as o,syncAndInitial as l,whenOnce as c}from\"../../core/reactiveUtils.js\";import{property as h}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as y}from\"../../core/accessorSupport/decorators/subclass.js\";import{InteractiveToolViewModel as w}from\"./InteractiveToolViewModel.js\";var p;!function(s){s[s.PENDING=0]=\"PENDING\",s[s.WAIT_FOR_VIEW_READY=1]=\"WAIT_FOR_VIEW_READY\",s[s.RUNNING=2]=\"RUNNING\"}(p||(p={}));let u=class extends w{constructor(s={}){super(s),this.analysisView=null,this._reconnectViewTask=null,this._parentChangeFromReconnect=!1,this._startUserOperation=null;const t=s?.analysis;null!=t?this.analysis=t:(this._set(\"analysis\",this.constructAnalysis()),this._set(\"isAnalysisOwner\",!0))}normalizeCtorArgs(s){const{analysis:t,...e}=s;return e}initialize(){this.addHandles([r((()=>this.analysis?.parent),(s=>{this._parentChangeFromReconnect||s===this.view||this._set(\"isAnalysisOwner\",!1);const t=!this._parentChangeFromReconnect;this._parentChangeFromReconnect=!1,t&&this._scheduleViewReconnect()}),o),r((()=>({view:this.view,ready:null!=this.view&&this.view.ready,supported:this.supported})),(({view:s},t)=>{const i=t?.view;s!==i&&(this._startUserOperation=e(this._startUserOperation),this._disconnectFromView(i)),this._scheduleViewReconnect()}),l),r((()=>this.analysis.isEditable),((s,t)=>{null!=this.analysisView&&(s&&!t&&null==this.tool?this.createTool():s||!t||null==this.tool||this.tool.active||this.removeTool())}))])}destroy(){this._reconnectViewTask=e(this._reconnectViewTask),this._startUserOperation=e(this._startUserOperation),null!=this.analysisView&&(this.analysisView.visible=void 0),this._disconnectFromView(this.view),null!=this.analysis&&this.isAnalysisOwner&&(this.analysis.destroy(),this._set(\"analysis\",null))}set analysis(s){s!==this._get(\"analysis\")&&(this._startUserOperation=e(this._startUserOperation),this._disconnectFromView(this.view),this._setExternalAnalysis(s),this._scheduleViewReconnect())}get ready(){return null!=this.analysisView&&!this.connectingToView}get connectingToView(){return null!=this._reconnectViewTask}get isAnalysisOwner(){return this._get(\"isAnalysisOwner\")}set visible(s){this._set(\"visible\",s),null!=this.analysisView&&(this.analysisView.visible=s)}async start(){this.clear();const s={task:null,abort:null,state:p.PENDING},e=t((async t=>{s.state=p.WAIT_FOR_VIEW_READY,await c((()=>this.ready),t),s.state=p.RUNNING,this.createTool({interactive:!0})}));return s.task=e,s.abort=()=>e.abort(),this._startUserOperation=s,e.promise}clear(){this._startUserOperation=e(this._startUserOperation),this.removeTool(),this.analysis.clear()}onConnectToAnalysisView(s){}onDisconnectFromAnalysisView(){}_scheduleViewReconnect(){this._reconnectViewTask=e(this._reconnectViewTask);const s=t((async t=>{try{await this._reconnectView(t)}catch(e){if(i(t),!n(e))return void this.logger.warn(\"Failed to use analysis in view model\",e);throw e}finally{s===this._reconnectViewTask&&(this._reconnectViewTask=null)}}));this._reconnectViewTask=s}async _reconnectView(s){const{view:t}=this,e=null!=t&&t.ready&&this.supported,i=this.analysis;if(this._startUserOperation=_(this._startUserOperation),this._disconnectFromView(t),e&&null!=t&&null!=i){if(this.isAnalysisOwner){if(null!=i.parent)return void this.logError(\"expected owned analysis to have null parent when connecting to view\");this._parentChangeFromReconnect=!0,t.analyses.add(i)}this.analysisView=await t.whenAnalysisView(i),a(s)?this._startUserOperation=_(this._startUserOperation):(this.analysisView.visible=this.visible,this.onConnectToAnalysisView(this.analysisView),this.createTool())}}_disconnectFromView(s){this.removeTool(),null!=s&&this.isAnalysisOwner&&(this._parentChangeFromReconnect=!0,s.analyses.remove(this.analysis),this.analysis.clear()),this.analysisView=null,this.onDisconnectFromAnalysisView()}_setExternalAnalysis(s){null==this.analysisView||this.isAnalysisOwner||(this.analysisView.visible=!0),this.analysisView=null,this._set(\"isAnalysisOwner\",!1),this._set(\"analysis\",s),this._parentChangeFromReconnect=!1}get testInfo(){return{analysisView:this.analysisView}}};function _(s){return null!=s&&s.state>=p.RUNNING?(s.abort(),null):s}s([h({nonNullable:!0})],u.prototype,\"analysis\",null),s([h()],u.prototype,\"analysisView\",void 0),s([h()],u.prototype,\"ready\",null),s([h()],u.prototype,\"connectingToView\",null),s([h({readOnly:!0})],u.prototype,\"isAnalysisOwner\",null),s([h({type:Boolean,value:!0})],u.prototype,\"visible\",null),s([h()],u.prototype,\"_reconnectViewTask\",void 0),u=s([y(\"esri.widgets.support.InteractiveAnalysisViewModel\")],u);export{u as InteractiveAnalysisViewModel};\n"],"names":["n","l","i","s","o","t","constructor","e","super","this","id","concat","Date","now","toString","title","parent","_get","type","releaseAnalysis","analyses","includes","remove","_set","isEditable","requiredPropertiesForEditing","every","r","p","String","constructOnly","clonable","prototype","value","readOnly","a","c","b","center","length","f","Math","max","radius","sqrt","d","Error","P","w","L","k","q","S","g","j","y","distance","T","G","x","h","v","setPoint","abs","m","M","arguments","undefined","C","W","pointerType","button","u","rings","spatialReference","WGS84","constrainResult","_snapPoints","_frameTask","_abortController","_stagedPoint","_snap","async","schedule","snap","context","signal","valid","stagedPoint","apply","update","initialize","_this$view","view","resourceController","scheduler","registerTask","SNAPPING","destroy","point","scenePoint","AbortController","resnap","abort","unit","geometry","getLogger","warn","clone","clear","screenPoint","result","mapPoint","vertexManipulators","_destroyed","_isManipulatorsOwner","_visible","_listenerHandles","_tempHandlePosition","analysisViewData","manipulators","toolState","visible","_analysisViewData","_toolState","_manipulators","_view","_intersector","state","viewingMode","options","store","MIN","_handleColor","_","renderObjects","available","interactive","add","_cursorManipulator","_cursorManipulatorMaterial","_laserLine","attached","style","glowWidth","V","glowFalloff","innerWidth","D","isDecoration","_updateVisibility","destroyed","show","hide","testData","laserLineRenderer","heightManifoldEnabled","heightManifoldTarget","pointDistanceEnabled","pointDistanceOrigin","pointDistanceTarget","lineVerticalPlaneEnabled","_setVisibility","_initializeListeners","_updateAll","_destroyListeners","forEach","_ref","manipulator","_removeVertexManipulator","cursor","vertexHandleAt","intersect","metadata","pick","sceneIntersectionHelper","intersectToolIntersectorScreen","results","min","getIntersectionPoint","renderCoordsHelper","fromRenderCoords","_updateVertexManipulators","_updateLaserLine","_createVertexManipulator","material","viewData","path","vertices","push","pop","_ref2","_ref3","renderLocation","positionsRenderCoords","polygonState","location","effectiveTheme","accentColor","_getFocusPoint","lastDraggedVertex","getVertexPositionAsPoint","lastPoint","active","toRenderCoords","cursorPoint","setParameters","color","toUnitRGB","glowColor","innerColor","globalAlpha","initial","equals","_updatingHandles","_getSnappingContext","elevationInfo","mode","offset","pointer","editGeometryOperations","visualizer","measurementView","_snappingManagerResult","addHandles","_snappingOperation","_this$view$inputManag","inputManager","latestPointerType","addPromise","_snappingManager","_setupManipulators","finishToolCreation","on","isEmptyPolygon","isValidPolygon","snappingManager","numVertices","updating","snappingOptions","finishMeasurement","close","_resetSnappingState","onShow","onHide","onDeactivate","onInputEvent","_handleImmediateDoubleClick","_handleImmediateClick","_handlePointerMove","_handleDrag","_handleKeyDown","events","some","grabbing","snappingStep","cancelSnapping","snappingContext","updatingHandles","next","setVertexPosition","mapEnd","action","item","removeHandles","stopPropagation","_addVertexAt","index","_hoverAt","key","_pick","doneSnapping","test","O","analysis","supportedViewType","unsupportedErrorMessage","_userUnitOptions","_userUnit","disabled","ready","tool","measurement","analysisView","analysisVisualization","measurementData","validMeasurement","intersectingSegments","geodesicIntersectingSegments","size","area","text","areaLabel","perimeterLength","perimeterLengthLabel","unitOptions","_filteredOrAllUnits","_findSelectableUnit","defaultUnit","constructAnalysis","constructTool","slice","filter","base","newMeasurementButton","widgetIcon","measureArea","iconClass","icon","messages","messagesCommon","messagesUnits","viewModel","label","_this$messages$widget","_this$messages","widgetLabel","_overrideIfSome","render","supported","class","classes","widget","panel","role","measurementItems","measures","notApplicable","newMeasurementButtonClass","onNewMeasurementClick","start","onUnitChange","nonNullable","PENDING","WAIT_FOR_VIEW_READY","RUNNING","_reconnectViewTask","_parentChangeFromReconnect","_startUserOperation","normalizeCtorArgs","_this$analysis","_scheduleViewReconnect","_disconnectFromView","createTool","removeTool","isAnalysisOwner","_setExternalAnalysis","connectingToView","task","promise","onConnectToAnalysisView","onDisconnectFromAnalysisView","_reconnectView","logger","logError","whenAnalysisView","testInfo","Boolean"],"sourceRoot":""}