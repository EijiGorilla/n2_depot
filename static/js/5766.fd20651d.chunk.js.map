{"version":3,"file":"static/js/5766.fd20651d.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/analysis/LengthDimension.js","../node_modules/@arcgis/core/analysis/dimensionUtils.js","../node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js","../node_modules/@arcgis/core/views/support/euclideanLengthMeasurementUtils.js","../node_modules/@arcgis/core/views/3d/analysis/Dimension/lengthDimensionUtils.js","../node_modules/@arcgis/core/views/3d/analysis/Dimension/DimensionController.js","../node_modules/@arcgis/core/views/3d/analysis/Dimension/settings.js","../node_modules/@arcgis/core/views/3d/analysis/Dimension/lengthDimensionManipulatorUtils.js","../node_modules/@arcgis/core/views/3d/analysis/Dimension/lengthDimensionConstraintUtils.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/VerticesVisualElement.js","../node_modules/@arcgis/core/views/3d/support/renderInfoUtils/point.js","../node_modules/@arcgis/core/views/3d/analysis/Dimension/LengthDimensionSubTool.js","../node_modules/@arcgis/core/views/3d/analysis/Dimension/DimensionTool.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/MarkerVisualElement.js","../node_modules/@arcgis/core/views/3d/analysis/Dimension/LengthDimensionVisualization.js","../node_modules/@arcgis/core/views/3d/analysis/Dimension/DimensionVisualization.js","../node_modules/@arcgis/core/views/analysis/LengthDimensionResult.js","../node_modules/@arcgis/core/views/3d/analysis/Dimension/LengthDimensionComputation.js","../node_modules/@arcgis/core/views/analysis/DimensionAnalysisView.js","../node_modules/@arcgis/core/views/3d/analysis/DimensionAnalysisView3D.js","../node_modules/@arcgis/core/views/3d/analysis/images/generateTextures.js","../node_modules/@arcgis/core/views/3d/analysis/images/heading-rotate-svg.js","../node_modules/@arcgis/core/views/3d/analysis/images/tilt-rotate-svg.js","../node_modules/@arcgis/core/views/3d/analysis/images/Factory.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js","../node_modules/@arcgis/core/views/analysis/analysisViewUtils.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingOperation.js","../node_modules/@arcgis/core/views/support/measurementUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import\"../geometry.js\";import{LengthDimensionMeasureType as t,lengthDimensionMeasureType as e}from\"./dimensionUtils.js\";import{Clonable as r}from\"../core/Clonable.js\";import{cyclicalDegrees as s}from\"../core/Cyclical.js\";import{JSONSupportMixin as i}from\"../core/JSONSupport.js\";import{property as p}from\"../core/accessorSupport/decorators/property.js\";import{cast as n}from\"../core/accessorSupport/decorators/cast.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{subclass as m}from\"../core/accessorSupport/decorators/subclass.js\";import{ensureNumber as a}from\"../core/accessorSupport/ensureType.js\";import c from\"../geometry/Point.js\";let l=class extends(i(r)){constructor(o){super(o),this.type=\"length\",this.startPoint=null,this.endPoint=null,this.measureType=t.Direct,this.offset=0,this.orientation=0}};o([p({type:[\"length\"],json:{write:{isRequired:!0}}})],l.prototype,\"type\",void 0),o([p({type:c,json:{write:!0}})],l.prototype,\"startPoint\",void 0),o([p({type:c,json:{write:!0}})],l.prototype,\"endPoint\",void 0),o([p({type:e,nonNullable:!0,json:{write:{isRequired:!0}}})],l.prototype,\"measureType\",void 0),o([p({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}})],l.prototype,\"offset\",void 0),o([p({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),n((o=>s.normalize(a(o),0,!0)))],l.prototype,\"orientation\",void 0),l=o([m(\"esri.analysis.LengthDimension\")],l);const u=l;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nvar t;!function(t){t.Horizontal=\"horizontal\",t.Vertical=\"vertical\",t.Direct=\"direct\"}(t||(t={}));const r=[t.Horizontal,t.Vertical,t.Direct];export{t as LengthDimensionMeasureType,r as lengthDimensionMeasureType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{multipassTerrainTest as o}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{defaultMaskAlphaCutoff as s}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{ColorConversion as a}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{FloatPassUniform as d}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as l}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as n}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as p}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{TransparencyPassType as g}from\"../views/3d/webgl-engine/lib/TransparencyPassType.js\";import{VertexAttribute as c}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function v(v){const m=new n,{vertex:f,fragment:u}=m;return t(f,v),m.include(i,v),m.attributes.add(c.POSITION,\"vec3\"),m.attributes.add(c.UV0,\"vec2\"),v.perspectiveInterpolation&&m.attributes.add(c.PERSPECTIVEDIVIDE,\"float\"),m.varyings.add(\"vpos\",\"vec3\"),v.multipassEnabled&&m.varyings.add(\"depth\",\"float\"),f.code.add(l`\n    void main(void) {\n      vpos = position;\n      ${v.multipassEnabled?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n      vTexCoord = uv0;\n      gl_Position = transformPosition(proj, view, vpos);\n\n      ${v.perspectiveInterpolation?\"gl_Position *= perspectiveDivide;\":\"\"}\n    }\n  `),m.include(r,v),m.include(o,v),u.uniforms.add(new p(\"tex\",(e=>e.texture)),new d(\"opacity\",(e=>e.opacity))),m.varyings.add(\"vTexCoord\",\"vec2\"),v.output===e.Alpha?u.code.add(l`\n    void main() {\n      discardBySlice(vpos);\n      ${v.multipassEnabled?\"terrainDepthTest(depth);\":\"\"}\n\n      float alpha = texture(tex, vTexCoord).a * opacity;\n      if (alpha  < ${l.float(s)}) {\n        discard;\n      }\n\n      fragColor = vec4(alpha);\n    }\n    `):(u.include(a),u.code.add(l`\n    void main() {\n      discardBySlice(vpos);\n      ${v.multipassEnabled?\"terrainDepthTest(depth);\":\"\"}\n      fragColor = texture(tex, vTexCoord) * opacity;\n\n      if (fragColor.a < ${l.float(s)}) {\n        discard;\n      }\n\n      fragColor = highlightSlice(fragColor, vpos);\n      ${v.transparencyPassType===g.Color?\"fragColor = premultiplyAlpha(fragColor);\":\"\"}\n    }\n    `)),m}const m=Object.freeze(Object.defineProperty({__proto__:null,build:v},Symbol.toStringTag,{value:\"Module\"}));export{m as I,v as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{createLength as n}from\"../../core/quantityUtils.js\";import{lengthUnitFromSpatialReference as t,verticalLengthUnitFromSpatialReference as r}from\"../../core/unitUtils.js\";import{o as e,s as i}from\"../../chunks/vec3.js\";import{c as l}from\"../../chunks/vec3f64.js\";import{projectVectorToVector as o}from\"../../geometry/projection/projectVectorToVector.js\";import{equals as c}from\"../../geometry/support/spatialReferenceUtils.js\";import{computeEuclideanMeasurementSR as u}from\"./measurementUtils.js\";var a;function s(n){return p(n,a.Direct)}function f(n){return p(n,a.Horizontal)}function p(r,e){const{hasZ:i,spatialReference:l}=r,o=u(l);let c=0;const s=t(o);if(null==s)return null;const f=e===a.Direct?x:Z;for(const n of r.paths){if(n.length<2)continue;const t=n.length-1;for(let r=0;r<t;++r){const t=n[r];D[0]=t[0],D[1]=t[1],D[2]=i?t[2]:0;const e=n[r+1];H[0]=e[0],H[1]=e[1],H[2]=i?e[2]:0;const o=f(D,H,l);if(null==o)return null;c+=o.value}}return n(c,s)}function h(n,t){const{spatialReference:r}=n;return c(r,t.spatialReference)?(D[0]=n.x,D[1]=n.y,D[2]=n.hasZ?n.z:0,H[0]=t.x,H[1]=t.y,H[2]=t.hasZ?t.z:0,v(D,H,r)):null}function z(n,t){const{spatialReference:r}=n;return c(r,t.spatialReference)?(D[0]=n.x,D[1]=n.y,D[2]=n.hasZ?n.z:0,H[0]=t.x,H[1]=t.y,H[2]=t.hasZ?t.z:0,x(D,H,r)):null}function m(n,t){const{spatialReference:r}=n;return c(r,t.spatialReference)?(D[0]=n.x,D[1]=n.y,D[2]=n.hasZ?n.z:0,H[0]=t.x,H[1]=t.y,H[2]=t.hasZ?t.z:0,Z(D,H,r)):null}function y(n,t){const{spatialReference:r}=n;return c(r,t.spatialReference)?(D[0]=n.x,D[1]=n.y,D[2]=n.hasZ?n.z:0,H[0]=t.x,H[1]=t.y,H[2]=t.hasZ?t.z:0,d(D,H,r)):null}function R(n){return D[0]=n.x,D[1]=n.y,D[2]=n.hasZ?n.z:0,g(D,n.spatialReference)}function v(t,r,e){const i=V(t,r,e);return null!=i?{direct:n(i.direct,i.unit),horizontal:n(i.horizontal,i.unit),vertical:n(i.vertical,i.unit)}:null}function x(t,r,e){const i=V(t,r,e,a.Direct);return null!=i?n(i.direct,i.unit):null}function Z(t,r,e){const i=V(t,r,e,a.Horizontal);return null!=i?n(i.horizontal,i.unit):null}function j(t,r,e){const i=V(t,r,e,a.Vertical);return null!=i?n(Math.abs(i.verticalSigned),i.unit):null}function d(t,r,e){const i=V(t,r,e,a.Vertical);return null!=i?n(i.verticalSigned,i.unit):null}function g(t,e){const i=r(e);return null!=i?n(t[2],i):null}function V(n,r,l,c){const s=u(l),f=t(s);if(null==f)return null;const p=r[2]-n[2];if(c===a.Vertical)return{verticalSigned:p,unit:f};if(!o(n,l,U,s)||!o(r,l,S,s))return null;if(c===a.Direct){return{direct:e(S,U),unit:f}}if(i(b,n[0],n[1],r[2]),!o(b,l,b,s))return null;const h=e(b,S);if(c===a.Horizontal)return{horizontal:h,unit:f};return{direct:e(S,U),horizontal:h,vertical:Math.abs(p),unit:f}}!function(n){n[n.Direct=0]=\"Direct\",n[n.Horizontal=1]=\"Horizontal\",n[n.Vertical=2]=\"Vertical\"}(a||(a={}));const D=l(),H=l(),U=l(),S=l(),b=l();export{g as elevation,R as elevationOfPoint,x as euclideanDirectDistance,z as euclideanDirectDistanceBetweenPoints,v as euclideanDistance,h as euclideanDistanceBetweenPoints,Z as euclideanHorizontalDistance,m as euclideanHorizontalDistanceBetweenPoints,f as euclideanHorizontalLength,s as euclideanLength,j as verticalDistance,d as verticalSignedDistance,y as verticalSignedDistanceBetweenPoints};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{LengthDimensionMeasureType as e}from\"../../../../analysis/dimensionUtils.js\";import{deg2rad as n}from\"../../../../core/mathUtils.js\";import{toUnit as t}from\"../../../../core/quantityUtils.js\";import{adaptiveVerticalLengthUnit as r,adaptiveLengthUnit as i}from\"../../../../core/unitUtils.js\";import{c as o}from\"../../../../chunks/mat4.js\";import{a}from\"../../../../chunks/mat4f64.js\";import{c as s,q as d,u as c,G as l,j as u,y as p,e as m,b as S,n as f,m as g}from\"../../../../chunks/vec3.js\";import{c as v,Z as R}from\"../../../../chunks/vec3f64.js\";import{Axis as A}from\"../../../../geometry/support/Axis.js\";import{sv3d as P}from\"../../../../geometry/support/vectorStacks.js\";import{makeDehydratedPoint as y}from\"../../../../layers/graphics/dehydratedPoint.js\";import{clonePoint as j}from\"../../../../layers/graphics/hydratedFeatures.js\";import{EuclideanSegment as E}from\"../../interactive/visualElements/support/Segment.js\";import{euclideanDirectDistance as h,euclideanDirectDistanceBetweenPoints as x}from\"../../../support/euclideanLengthMeasurementUtils.js\";function T(n,o,a){if(null==n)return null;const s=n.dimensionSegment.startRenderSpace,d=n.dimensionSegment.endRenderSpace,c=h(s,d,n.spatialReference);if(null==c)return null;const l=o===e.Vertical?r(c.value,c.unit,a):i(c.value,c.unit,a);return t(c,l)}function C(e){const{elevationAlignedStartPoint:n,elevationAlignedEndPoint:t,dimension:{offset:r,measureType:i,orientation:o}}=e;return{elevationAlignedStartPoint:n,elevationAlignedEndPoint:t,offset:r,measureType:i,orientation:o}}function H({elevationAlignedStartPoint:n,elevationAlignedEndPoint:t,offset:r,measureType:i,orientation:o},a,d=null){if(null==n||null==t)return null;const c=b(null!=d?d.directSegment:new E,{elevationAlignedStartPoint:n,elevationAlignedEndPoint:t},a),l=null!=d?d.primaryOffsetAxis:v();I(l,{measureType:i,elevationAlignedStartPoint:n,elevationAlignedEndPoint:t,directSegment:c,orientation:o,renderCoordsHelper:a});const u=null!=d?d.dimensionSegment:new E;return F({elevationAlignedStartPoint:n,elevationAlignedEndPoint:t})&&i===e.Vertical?(s(u.startRenderSpace,c.startRenderSpace),s(u.endRenderSpace,c.endRenderSpace)):G(u,{offsetAxis:l,offset:r,relativeToSegment:c,renderCoordsHelper:a}),{directSegment:c,dimensionSegment:u,primaryOffsetAxis:l,spatialReference:a.spatialReference}}function w(e,n,t,r){return n===k.Start?(s(e.startRenderSpace,t.startRenderSpace),s(e.endRenderSpace,r.startRenderSpace)):(s(e.startRenderSpace,t.endRenderSpace),s(e.endRenderSpace,r.endRenderSpace)),e}var k;function z(e,n,t,r){d(e.startRenderSpace,n.startRenderSpace,t,r),d(e.endRenderSpace,n.endRenderSpace,t,r)}function U(n,t,r,i){switch(t){case e.Direct:return b(n,r,i);case e.Horizontal:case e.Vertical:{const{elevationAlignedStartPoint:o,elevationAlignedEndPoint:a,dimension:s,geometry:d}=r;let c;if(s.measureType===e.Direct){c=M(d,i)===o.z>a.z,t===e.Horizontal&&(c=!c)}else c=!V(d);const[l,u]=c?[o,a]:[a,o],p=j(u,D);return t===e.Horizontal?p.z=l.z:(p.x=l.x,p.y=l.y),i.toRenderCoords(l,n.startRenderSpace),i.toRenderCoords(p,n.endRenderSpace),n}}}function b(e,n,t){return t.toRenderCoords(n.elevationAlignedStartPoint,e.startRenderSpace),t.toRenderCoords(n.elevationAlignedEndPoint,e.endRenderSpace),e}function M(e,n){const t=e.directSegment.eval(.5,P.get()),r=n.worldUpAtPosition(t,P.get()),i=e.dimensionSegment.eval(.5,P.get()),o=c(P.get(),i,t);return!l(o,R)&&u(o,r)>0}function V(e){const{startRenderSpace:n,endRenderSpace:t}=e.dimensionSegment,{startRenderSpace:r,endRenderSpace:i}=e.directSegment;return p(r,n)<p(i,t)}!function(e){e[e.Start=0]=\"Start\",e[e.End=1]=\"End\"}(k||(k={}));const D=y(0,0,0,null);function O(e,n,t,r){const{directSegment:i}=t,o=I(P.get(),{measureType:n,directSegment:i,renderCoordsHelper:r}),a=G(q,{offsetAxis:o,offset:0,relativeToSegment:i,renderCoordsHelper:r}).eval(.5,P.get()),s=c(P.get(),e,a);return u(s,o)*r.unitInMeters}const q=new E;function I(t,r){const{measureType:i,elevationAlignedStartPoint:a,elevationAlignedEndPoint:d,directSegment:{startRenderSpace:p,endRenderSpace:g},directSegment:v,renderCoordsHelper:y}=r,j=v.eval(.5,P.get()),E=y.worldUpAtPosition(j,P.get()),h=y.worldBasisAtPosition(j,A.Y,P.get());switch(i){case e.Horizontal:s(t,E);break;case e.Vertical:u(p,E)<u(g,E)?c(t,g,p):c(t,p,g),S(t,t,E),S(t,t,E);break;case e.Direct:{const e=r.orientation??0;if(F({elevationAlignedStartPoint:a,elevationAlignedEndPoint:d}))o(B,-n(e),E),m(t,h,B);else{const r=c(P.get(),g,p),i=S(P.get(),r,E);S(i,i,r),o(B,n(e),r),m(t,i,B)}break}}return l(t,R)?s(t,h):f(t,t)}const B=a();function F({elevationAlignedStartPoint:e,elevationAlignedEndPoint:n}){return null!=e&&null!=n&&e.x===n.x&&e.y===n.y}function G(e,n){const{offsetAxis:t,offset:r,relativeToSegment:{startRenderSpace:i,endRenderSpace:o},relativeToSegment:a,renderCoordsHelper:s}=n,c=r/s.unitInMeters,[l,u]=L(i,o,t,c);return d(e.startRenderSpace,a.startRenderSpace,t,l),d(e.endRenderSpace,a.endRenderSpace,t,u),e}function L(e,n,t,r=0){const i=u(n,t),o=u(e,t),a=Math.abs(i-o)+r;return i>o?[a,r]:[r,a]}function Y(e,n,t){const r=n.directSegment.eval(.5,P.get());return t.worldUpAtPosition(r,e)}function Z(e,n){const{startRenderSpace:t,endRenderSpace:r}=n.directSegment;return c(e,r,t)}function J(e,n,t={invert:!1}){const{startRenderSpace:r,endRenderSpace:i}=n.dimensionSegment;return t.invert?c(e,r,i):c(e,i,r)}function K(e,n){const t=e.directSegment.eval(.5,P.get());return n.headingAtPosition(t,e.primaryOffsetAxis)}function N(e,n){return g(J(Q,e))/n**2}const Q=v();function W(e){const{elevationAlignedStartPoint:n,elevationAlignedEndPoint:r}=e;if(null==n||null==r)return!1;const i=x(n,r);return null!=i&&t(i,\"meters\").value>X}const X=1e5;function $(e){return null!=e.geometry}export{k as OffsetSegmentLocation,F as arePointsVerticallyAligned,C as computationToGeometryDependencies,H as computeGeometryFromDimension,T as computeLength,I as computeOffsetAxis,O as computeOffsetForPoint,U as computeSegmentForMeasureType,w as computeSpanningSegment,J as dimensionStartToEnd,Z as directStartToEnd,Y as directUp,X as geodesicDistanceThreshold,K as headingFromGeometry,W as isGeodesicDimension,$ as isValidComputation,N as maxScreenLengthSquaredFromGeometry,z as offsetSegment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{LengthDimensionMeasureType as e}from\"../../../../analysis/dimensionUtils.js\";import s from\"../../../../core/Accessor.js\";import{destroyHandle as o}from\"../../../../core/handleUtils.js\";import r from\"../../../../core/Logger.js\";import{mapCollection as i,watch as n,syncAndInitial as a}from\"../../../../core/reactiveUtils.js\";import{convertUnit as l}from\"../../../../core/unitUtils.js\";import{property as p}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{getDefaultUnitForView as m}from\"../../../../support/getDefaultUnitForView.js\";import{isGeodesicDimension as u,geodesicDistanceThreshold as d,computeGeometryFromDimension as y,computeLength as h,computationToGeometryDependencies as f}from\"./lengthDimensionUtils.js\";let g=class extends s{constructor(t){super(t)}initialize(){const t=i((()=>this.analysisViewData.computations),(({computation:t})=>this._watchComputation(t)));this.addHandles(o(t))}get analysis(){return this.analysisViewData.analysis}get _defaultUnit(){return m(this.view)}_watchComputation(t){return n((()=>f(t)),(s=>{const{measureType:o}=s;if(u(s)&&o!==e.Direct){const e=Math.round(l(d,\"meters\",\"kilometers\"));return r.getLogger(this).warnOnce(`A ${o} dimension in the analysis (id: '${this.analysis.id}') will not display, because only direct dimensions can measure lengths greater than ${e} km. Update the measureType of the affected dimension to \"direct\" to display it.`),void(t.geometry=null)}const i=y(s,this.view.renderCoordsHelper,t.geometry);t.geometry=i,t.result.length=h(i,o,this._defaultUnit)}),a)}};t([p({constructOnly:!0})],g.prototype,\"analysisViewData\",void 0),t([p({constructOnly:!0})],g.prototype,\"view\",void 0),t([p()],g.prototype,\"analysis\",null),t([p()],g.prototype,\"_defaultUnit\",null),g=t([c(\"esri.views.3d.analysis.Dimension.support.DimensionController\")],g);export{g as DimensionController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport o from\"../../../../Color.js\";import{multiplyOpacity as r,getContrast as t}from\"../../../../core/colorUtils.js\";function n(o){return r(o.accentColor,.5)}function c(o){return t(o.accentColor)}const e=5,i=new o([127,127,127,.5]),l=.8,f=4,m=6,s=.1,u=.5,p=18,C=2,a=.3,j=2,w=.25,x=20,U=5,b=5,d=10,g=2500,h=50,k=2;export{d as constraintThresholdPx,i as disabledPointColor,m as focusedLinePaddingPx,c as getContrastColor,n as getTransparentAccentColor,h as initialOffsetPx,x as labelMarginPx,u as lengthFraction,f as linePaddingPx,l as markerLineSizeFraction,s as minLengthMeters,U as minScreenLengthFontSizeFactor,w as offsetLineSizeFraction,p as orientationCalloutOffsetPx,C as orientationCalloutWidth,a as orientationDiscScale,j as orientationFocusMultiplier,b as orientationSnapThresholdDegrees,e as pointRadius,g as pointerMoveTimeoutMs,k as smallScreenLengthLineSizeFactor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import\"../../../../geometry.js\";import{lengthDimensionMeasureType as t,LengthDimensionMeasureType as n}from\"../../../../analysis/dimensionUtils.js\";import{cyclicalDegrees as r}from\"../../../../core/Cyclical.js\";import{rad2deg as i}from\"../../../../core/mathUtils.js\";import{watch as o,initial as a}from\"../../../../core/reactiveUtils.js\";import{pt2px as s}from\"../../../../core/screenUtils.js\";import{g as c,b as m}from\"../../../../chunks/mat4.js\";import{a as l}from\"../../../../chunks/mat4f64.js\";import{i as d,c as u,f as p,b as f,j as g,h,l as v,s as y,u as w}from\"../../../../chunks/vec3.js\";import{c as S,Z as j,f as b}from\"../../../../chunks/vec3f64.js\";import{c as x}from\"../../../../chunks/vec4f64.js\";import{fromPositionAndNormal as H,create as M,signedDistance as P,normal as C}from\"../../../../geometry/support/plane.js\";import{sv3d as T}from\"../../../../geometry/support/vectorStacks.js\";import{clonePoint as O}from\"../../../../layers/graphics/hydratedFeatures.js\";import{isValidComputation as U,computeGeometryFromDimension as R,computationToGeometryDependencies as z,headingFromGeometry as k,computeOffsetForPoint as A,computeSegmentForMeasureType as D,computeOffsetAxis as _,directUp as F,directStartToEnd as L,dimensionStartToEnd as E}from\"./lengthDimensionUtils.js\";import{getTransparentAccentColor as I,pointRadius as G,lengthFraction as B,markerLineSizeFraction as N,orientationCalloutOffsetPx as V,orientationCalloutWidth as W,orientationDiscScale as q,orientationFocusMultiplier as Z,orientationSnapThresholdDegrees as J,minLengthMeters as K,linePaddingPx as Q,focusedLinePaddingPx as X}from\"./settings.js\";import{Manipulator3D as Y}from\"../../interactive/Manipulator3D.js\";import{createManipulatorMaterial as $,worldScaledManipulatorSettings as ee,calculateInputRotationTransform as te,calculateTranslateRotateFromBases as ne,rotateManipulatorDefaults as re}from\"../../interactive/manipulatorUtils.js\";import{RenderObject as ie}from\"../../interactive/RenderObject.js\";import{screenToMap3D as oe,screenToRenderPlane as ae,hideManipulatorWhileDragging as se}from\"../../interactive/editingTools/dragEventPipeline3D.js\";import{EuclideanSegment as ce}from\"../../interactive/visualElements/support/Segment.js\";import{markerSizePerLineWidth as me}from\"../../support/engineContent/marker.js\";import{Attribute as le}from\"../../webgl-engine/lib/Attribute.js\";import{Geometry as de}from\"../../webgl-engine/lib/Geometry.js\";import{createSphereGeometry as ue,createPolylineGeometry as pe}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as fe}from\"../../webgl-engine/lib/Material.js\";import{VertexAttribute as ge}from\"../../webgl-engine/lib/VertexAttribute.js\";import{ImageMaterial as he}from\"../../webgl-engine/materials/ImageMaterial.js\";import{RibbonLineMaterial as ve}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import{createManipulatorDragEventPipeline as ye,resetProperties as we,EventPipeline as Se}from\"../../../interactive/dragEventPipeline.js\";import{ManipulatorStateCustomFlags as je,ManipulatorStateFlags as be}from\"../../../interactive/interfaces.js\";import xe from\"../../../../geometry/Point.js\";class He{constructor(e){this.start=e.start,this.end=e.end,this.offset=e.offset,this.heading=e.heading,this.rotation=e.rotation,this.direct=e.direct,this.horizontal=e.horizontal,this.vertical=e.vertical}manipulatorName(e){return Object.keys(this).find((t=>this.hasOwnProperty(t)&&e===this[t]))}values(){return[this.start,this.end,this.offset,this.heading,this.rotation,this.direct,this.horizontal,this.vertical]}forEachMeasureTypeManipulator(e){for(const n of t)e(this.manipulatorForMeasureType(n),n)}manipulatorForMeasureType(e){switch(e){case n.Direct:return this.direct;case n.Horizontal:return this.horizontal;case n.Vertical:return this.vertical}}}class Me extends Y{constructor(t,n){const r=$(e.toUnitRGBA(I(t.effectiveTheme))),i=[new ie(ue(r,1,32,32),tt)];super({view:t,renderObjects:i,metadata:n.metadata,available:!1,grabCursor:\"crosshair\",radius:G,collisionPriority:1}),this._themeHandle=o((()=>({color:e.toUnitRGBA(I(t.effectiveTheme))})),(e=>r.setParameters(e)))}destroy(){this._themeHandle.remove(),super.destroy()}}function Pe(e,t){const n=[b(-.5,0,0),b(.5,0,0)],r=pe(t.unfocusedMaterial,n.map((e=>d(S(),e,B)))),i=r.instantiate({material:t.focusedMaterial});return new Y({view:e,renderObjects:[new ie(r,be.Unfocused|be.Selected|tt),new ie(i,be.Focused|tt)],collisionType:{type:\"line\",paths:[n]},radius:$e(t.lineSizePt)/2,metadata:t.metadata,available:!1,...ee})}class Ce extends Y{constructor(t,{lineSizePt:n,material:r,metadata:i}){super({view:t,autoScaleRenderObjects:!1,collisionPriority:1,metadata:i}),this._options={calloutColor:x(),lineSizePt:n,material:r},this._themeHandle=o((()=>e.toUnitRGBA(I(t.effectiveTheme))),(e=>{this._options.calloutColor=e,et(this,Te({...this._options,metadata:this.metadata}))}),a)}update({lineSizePt:e,material:t}){this._options.lineSizePt=e,this._options.material=t,et(this,Te({...this._options,metadata:this.metadata}))}destroy(){this._themeHandle.remove(),super.destroy()}}function Te({calloutColor:e,lineSizePt:t,material:n,metadata:r}){return{calloutLength:.25*me*N*s(t)+V,calloutColor:e,calloutWidth:W,customStateMask:tt,discScale:q,focusMultiplier:Z,material:n,metadata:r}}function Oe(e,t){const n=[b(-.5,0,0),b(.5,0,0)],r=pe(t.thinOffsetManipulatorMaterial,n),i=pe(t.unfocusedMaterial,n.map((e=>d(S(),e,B)))),o=i.instantiate({material:t.focusedMaterial});return new Y({view:e,renderObjects:[new ie(i,be.Unfocused|tt),new ie(o,be.Focused|tt),new ie(r,tt)],collisionType:{type:\"line\",paths:[n]},radius:$e(t.lineSizePt)/2,available:!1,metadata:t.metadata,...ee})}function Ue(e,{isStart:t,createSnappingPipelineStep:n,dimension:r,onUpdate:i,view:o}){const a=t?\"startPoint\":\"endPoint\",s=ye(e,((e,t,s,c)=>{const m=se(e),{snappingStep:l,cancelSnapping:d}=n(c);s=s.next(m).next(we(r,[a,\"measureType\",\"orientation\"])).next(d),t.next(m).next(oe(o)).next(...l).next((e=>{const t=O(e.mapEnd,new xe);i(\"startPoint\"===a?{startPoint:t}:{endPoint:t})}))}));return[s]}function Re(e,{computation:t,view:n}){return[ye(e,((e,r,i)=>{if(!U(t)||!e.selected)return;const{geometry:o,dimension:a}=t,s=se(e);r.next(s).next(Le(n,a,o.dimensionSegment,o.primaryOffsetAxis)),i.next(s).next(we(a,[\"offset\"]))}))]}function ze(e,{computation:t,view:n}){return[ye(e,((e,r,i)=>{De({cancel:i,computation:t,settingHeading:!0,steps:r,view:n})}))]}function ke(e,{computation:t,view:n}){return[ye(e,((e,r,i)=>{De({cancel:i,computation:t,settingHeading:!1,steps:r,view:n})})),e.events.on(\"immediate-click\",(e=>{Ae(e,t,n)}))]}function Ae(e,t,n){const{dimension:i,geometry:o}=t;if(90===i.orientation||270===i.orientation)return i.orientation=0,void e.stopPropagation();if(null==o)return;const{renderCoordsHelper:a}=n,s=R({...z(t),orientation:90},a),c=R({...z(t),orientation:270},a);if(null==s||null==c)return;const m=k(s,a),l=k(c,a),d=Ee(o,n),u=r.shortestSignedDiff(d,m),p=r.shortestSignedDiff(d,l);i.orientation=Math.abs(u)<Math.abs(p)?90:270,e.stopPropagation()}function De(e){const{cancel:t,computation:n,settingHeading:r,steps:o,view:a}=e;if(!U(n))return;const{renderCoordsHelper:s}=a,{dimension:c,geometry:m}=n,l=S(),d=Ze(S(),m,m.directSegment,s),p=Je(T.get(),{forHeading:r,geometry:m,renderCoordsHelper:s}),f=H(d,p,M()),g=r?c.orientation??k(m,a.renderCoordsHelper):c.orientation??0;o.next(ae(a,f)).next((e=>{\"start\"===e.action&&u(l,e.renderStart);const t=C(f),n=te(l,e.renderEnd,d,t);let o=g-i(n);r||(o=_e(o)),c.orientation=o})),t.next(we(c,[\"orientation\"]))}function _e(e){const t=r.normalize(e)%90;return t<J?e-t:90-t<J?e+(90-t):e}function Fe(e,{computation:t,manipulatorMeasureType:r,view:i}){let o=n.Direct,a=0,s=0;return[e.events.on(\"grab-changed\",(n=>{if(\"start\"!==n.action||!U(t))return;const{dimension:c,geometry:m}=t;o=c.measureType,a=c.offset,s=c.orientation;const l=u(T.get(),e.renderLocation);c.measureType=r,c.offset=A(l,r,m,i.renderCoordsHelper),c.orientation=0})),ye(e,((e,n,c)=>{if(!U(t))return;const{geometry:m,dimension:l}=t,{renderCoordsHelper:d}=i,u=D(ot,r,t,d),p=_(T.get(),{measureType:r,directSegment:m.directSegment,renderCoordsHelper:d}),f=se(e);n.next(f).next(Le(i,l,u,p)),c.next(f).next((e=>(l.measureType=o,l.offset=a,l.orientation=s,e)))}))]}function Le(e,t,n,r){const i=p(T.get(),n.endRenderSpace,n.startRenderSpace);f(i,i,r);const o=H(n.startRenderSpace,i,M()),a=H(n.startRenderSpace,r,M()),s=t.offset;let c,m=0;const l=new Se;return l.next(ae(e,o)).next((n=>{\"start\"===n.action&&(m=P(a,n.renderStart));const r=(P(a,n.renderEnd)-m)*e.renderCoordsHelper.unitInMeters;t.offset=s+r,c=n})),e=>(l.execute(e),c)}function Ee(e,t){const{directSegment:n}=e,{renderCoordsHelper:r}=t,i=F(T.get(),e,r),o=L(T.get(),e),a=f(T.get(),o,i),{viewForward:s}=t.state.camera;g(a,s)>0&&d(a,a,-1);const c=n.eval(.5,T.get());return r.headingAtPosition(c,a)}function Ie(e,t,n){const{dimensionSegment:r,primaryOffsetAxis:i}=t,o=E(nt,t),a=h(o,j)?c(it):ne(o,i,j,it),s=Math.max(v(o),K/n.unitInMeters);m(a,a,y(nt,s,s,s)),e.modelTransform=a,e.renderLocation=r.eval(.5,nt)}function Ge(e,t,n){Ne(e,t,n,{forHeading:!0})}function Be(e,t,n){Ne(e,t,n,{forHeading:!1})}function Ne(e,t,n,{forHeading:r}){const{dimension:i,geometry:o}=t,{primaryOffsetAxis:a}=o,s=d(Ve,a,i.offset>=0?1:-1),c=Je(We,{forHeading:r,geometry:o,renderCoordsHelper:n});f(c,c,s);const m=ne(s,c,j,it);e.modelTransform=m,e.renderLocation=Ze(nt,o,o.dimensionSegment,n)}const Ve=S(),We=S();function qe(e,t,n,r){const{geometry:i}=t,o=D(ot,n,t,r),a=_(nt,{measureType:n,directSegment:i.directSegment,renderCoordsHelper:r}),s=w(rt,o.endRenderSpace,o.startRenderSpace),c=ne(s,a,j,it),l=v(s);m(c,c,y(rt,l,l,l)),e.modelTransform=c,e.renderLocation=o.eval(.5,rt)}function Ze(e,t,n,r){const{startRenderSpace:i,endRenderSpace:o}=n,a=Ke(t,r)?i:o;return u(e,a)}function Je(e,{forHeading:t,geometry:n,renderCoordsHelper:r}){return t?F(e,n,r):E(e,n,{invert:!0})}function Ke(e,t){const n=L(Qe,e),r=F(Xe,e,t);return g(n,r)>0}const Qe=S(),Xe=S();function Ye(e){return s(e)+Q}function $e(e){return s(e)+X}function et(e,t){const n=t.material??new he({transparent:!0,writeDepth:!1,textureId:t.texture?.id,renderOccluded:fe.Opaque,isDecoration:!0}),r=t.focusMultiplier??re.focusMultiplier,i=t.calloutLength??re.calloutLength,o=re.discRadius*(t.discScale??1),a=o*r,s=(e,t)=>{const n=[0,1,2,2,3,0];return new de(t,[[ge.POSITION,new le([i-e,-e,0,i+e,-e,0,i+e,e,0,i-e,e,0],n,3,!0)],[ge.UV0,new le([0,0,1,0,1,1,0,1],n,2,!0)]])},c=t.calloutWidth??re.calloutWidth,m=new ve({width:c,color:t.calloutColor,renderOccluded:fe.OccludeAndTransparent,isDecoration:!0}),l=pe(m,[[0,0,0],[i-o,0,0]]),d=pe(m,[[0,0,0],[i-a,0,0]]),u=t.customStateMask??je.None;e.collisionType={type:\"disc\",direction:[0,0,1],offset:[i,0,0]},e.focusMultiplier=r,e.metadata=t.metadata,e.radius=o,e.renderObjects=[new ie(s(o,n),be.Unfocused|u),new ie(l,be.Unfocused|u),new ie(s(a,n),be.Focused|u),new ie(d,be.Focused|u)]}const tt=je.Custom1,nt=S(),rt=S(),it=l(),ot=new ce;export{tt as DidPointerMoveRecentlyFlag,He as LengthDimensionManipulators,Me as LengthDimensionPointManipulator,Ce as LineOfSightOrientationManipulator,Ee as automaticHeadingFromCamera,Oe as createMeasureTypeManipulator,Pe as createOffsetManipulator,$e as focusedOffsetWidth,ze as headingManipulatorHandles,Fe as measureTypeManipulatorHandles,Re as offsetManipulatorHandles,Ue as pointManipulatorHandles,ke as rotationManipulatorHandles,_e as snapOrientationToNearestRightAngle,Ye as unfocusedOffsetWidth,Ge as updateHeadingManipulatorTransform,qe as updateMeasureTypeManipulatorTransform,Ie as updateOffsetManipulatorTransform,Be as updateRotationManipulatorTransform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport\"../../../../geometry.js\";import{LengthDimensionMeasureType as e}from\"../../../../analysis/dimensionUtils.js\";import\"../../../../core/has.js\";import{h as t,i as n,j as i,f as o,m as r}from\"../../../../chunks/vec3.js\";import{sv3d as a}from\"../../../../geometry/support/vectorStacks.js\";import{automaticHeadingFromCamera as s}from\"./lengthDimensionManipulatorUtils.js\";import{isGeodesicDimension as l,directUp as c,directStartToEnd as d}from\"./lengthDimensionUtils.js\";import{constraintThresholdPx as m}from\"./settings.js\";import u from\"../../../../geometry/Point.js\";var P;function p(e,t){return{enabled:t.effectiveFeatureEnabled,elevationAlignedStartPoint:e.elevationAlignedStartPoint,elevationAlignedEndPoint:e.elevationAlignedEndPoint,geometry:e.geometry}}function f(e,s){if(l(e))return P.Direct;if(!e.enabled)return null;const{geometry:u}=e;if(null==u||t(u.directSegment.startRenderSpace,u.directSegment.endRenderSpace))return null;const{camera:p}=s.state,f=c(a.get(),u,s.renderCoordsHelper),g=d(a.get(),u),S=n(a.get(),f,i(g,f)),v=o(a.get(),g,S),y=r(v),A=r(S),{startRenderSpace:j,endRenderSpace:z}=u.directSegment,R=Math.max(p.computeScreenPixelSizeAt(j)*m,p.computeScreenPixelSizeAt(z)*m)**2;return y<R?P.Vertical:A<R?P.Horizontal:null}function g(e,t,{constraint:n,view:i}){const{unconstrainedGeometry:o}=e;if(null==o)return;const{renderCoordsHelper:r,spatialReference:a}=i,{startRenderSpace:s,endRenderSpace:l}=o.directSegment,c=r.fromRenderCoords(s,new u,a),d=r.fromRenderCoords(l,new u,a);let m;m=\"start\"===t?{startPoint:c}:{endPoint:d},S(e,m,{constraint:n,elevationAlignedStartPoint:e.elevationAlignedStartPoint,elevationAlignedEndPoint:e.elevationAlignedEndPoint,unconstrainedGeometry:o,view:i})}function S(t,n,i){const{constraint:o,elevationAlignedStartPoint:r,elevationAlignedEndPoint:a,unconstrainedGeometry:l,view:c}=i,{dimension:d,previousConstraint:m,preConstraintProperties:u}=t;if(null==r||null==a)return;const p=()=>{\"startPoint\"in n?d.startPoint=n.startPoint:\"endPoint\"in n&&(d.endPoint=n.endPoint)};if(null==o)p(),null!=m&&null!=u&&(d.measureType=u.measureType,d.orientation=u.orientation);else switch(d.measureType=e.Direct,o){case P.Horizontal:if(o!==m&&(d.orientation=0),\"startPoint\"in n){const e=n.startPoint;null!=e&&(e.z=a.z),d.startPoint=e}else if(\"endPoint\"in n){const e=n.endPoint;null!=e&&(e.z=r.z),d.endPoint=e}break;case P.Vertical:if(o!==m&&(d.orientation=s(l,c)),\"startPoint\"in n){const e=n.startPoint;null!=e&&(e.x=a.x,e.y=a.y),d.startPoint=e}else if(\"endPoint\"in n){const e=n.endPoint;null!=e&&(e.x=r.x,e.y=r.y),d.endPoint=e}break;case P.Direct:o!==m&&null!=u&&(d.orientation=u.orientation),p()}t.previousConstraint=o,t.unconstrainedGeometry=l}!function(e){e[e.Horizontal=0]=\"Horizontal\",e[e.Vertical=1]=\"Vertical\",e[e.Direct=2]=\"Direct\"}(P||(P={}));export{P as LengthDimensionConstraint,S as applyConstraint,f as computeConstraint,p as constraintDependencies,g as reapplyConstraint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{s as e}from\"../../../../chunks/vec3.js\";import{c as t}from\"../../../../chunks/vec3f64.js\";import{h as r,c as i}from\"../../../../chunks/vec4.js\";import{b as s}from\"../../../../chunks/vec4f64.js\";import{Object3DVisualElement as a}from\"./Object3DVisualElement.js\";import{ElevationContext as l}from\"../../layers/graphics/ElevationContext.js\";import{geometryToRenderInfo as o}from\"../../support/renderInfoUtils/point.js\";import{CullFaceOptions as n}from\"../../webgl-engine/lib/basicInterfaces.js\";import{createSphereGeometry as c}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as h}from\"../../webgl-engine/lib/Material.js\";import{ShadedColorMaterial as u}from\"../../webgl-engine/materials/ShadedColorMaterial.js\";class d extends a{constructor(e){super(e),this.view=null,this._renderOccluded=h.OccludeAndTransparent,this._vertices=null,this._spatialReference=null,this._color=s([1,127/255,0,1]),this._size=11,this._outlineColor=s([0,0,0,.5]),this._outlineSize=1,this._elevationInfo=null,this.applyProperties(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial(),this._updateOutlineMaterial())}get vertices(){return this._vertices}set vertices(e){this._vertices=e,this.recreateGeometry()}get spatialReference(){return this._spatialReference}set spatialReference(e){this._spatialReference=e,this.recreateGeometry()}get color(){return this._color}set color(e){r(e,this._color)||(i(this._color,e),this._updateMaterial())}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this._updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){r(e,this._outlineColor)||(i(this._outlineColor,e),this._updateOutlineMaterial())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this._updateOutlineMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.recreateGeometry()}get _vertexMaterialParameters(){return{color:this._color,screenSizeScale:this.size,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}get _vertexOutlineMaterialParameters(){return{color:this._outlineColor,screenSizeScale:this.size+2*this.outlineSize,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}_updateMaterial(){this.attached&&this._vertexMaterial.setParameters(this._vertexMaterialParameters)}_updateOutlineMaterial(){this.attached&&this._vertexOutlineMaterial.setParameters(this._vertexOutlineMaterialParameters)}_createRenderGeometries(){const t=this.vertices;if(null==t||0===t.length)return[];const r=.5,i=.5,s=o(t,this.spatialReference,this.view.elevationProvider,this.view.renderCoordsHelper,l.fromElevationInfo(this.elevationInfo)),a=[],n=s.numVertices,c=s.position;for(let l=0;l<n;++l){const t=e(_,c[3*l],c[3*l+1],c[3*l+2]),s=m(this._vertexMaterial,r,t),o=m(this._vertexOutlineMaterial,i,t);a.push({vertexGeometry:s,vertexOutlineGeometry:o})}return a}createGeometries(e){const t=this._createRenderGeometries();for(const{vertexGeometry:r,vertexOutlineGeometry:i}of t)e.addGeometry(r),e.addGeometry(i)}createExternalResources(){this._vertexMaterial=new u({...this._vertexMaterialParameters,writeDepth:!0,cullFace:n.Back,screenSizeEnabled:!0}),this._vertexOutlineMaterial=new u({...this._vertexOutlineMaterialParameters,forceTransparentMode:!0,writeDepth:!0,cullFace:n.Front,screenSizeEnabled:!0,shadingEnabled:!1})}destroyExternalResources(){this._vertexMaterial=null,this._vertexOutlineMaterial=null}forEachExternalMaterial(e){e(this._vertexMaterial),e(this._vertexOutlineMaterial)}}const _=t();function m(e,t,r){return c(e,t,16,16,{offset:r})}export{d as VerticesVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{newDoubleArray as t}from\"../../../../geometry/support/DoubleArray.js\";import{applyPerVertexElevationAlignment as e}from\"../../layers/graphics/elevationAlignmentUtils.js\";function o(o,n,r,s,i){const l=t(3*o.length),p=t(l.length);o.forEach(((t,e)=>{l[3*e]=t[0],l[3*e+1]=t[1],l[3*e+2]=t.length>2?t[2]:0}));const c=e(l,n,0,p,0,l,0,l.length/3,r,s,i),m=null!=c;return{numVertices:o.length,position:l,mapPositions:p,projectionSuccess:m,sampledElevation:c}}export{o as geometryToRenderInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Color.js\";import\"../../../../geometry.js\";import{LengthDimensionMeasureType as i}from\"../../../../analysis/dimensionUtils.js\";import a from\"../../../../analysis/LengthDimension.js\";import n from\"../../../../core/Accessor.js\";import s from\"../../../../core/Handles.js\";import{destroyHandle as o}from\"../../../../core/handleUtils.js\";import{equals as r}from\"../../../../core/lang.js\";import{destroyMaybe as p}from\"../../../../core/maybe.js\";import{memoize as l}from\"../../../../core/memoize.js\";import{ignoreAbortErrors as u}from\"../../../../core/promiseUtils.js\";import{watch as d,initial as c,mapCollection as m,sync as h,syncAndInitial as g,when as f}from\"../../../../core/reactiveUtils.js\";import{property as _}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as M}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as y}from\"../../../../chunks/vec3f64.js\";import{UpdatingHandles as v}from\"../../../../core/support/UpdatingHandles.js\";import{clonePoint as S}from\"../../../../layers/graphics/hydratedFeatures.js\";import{reapplyConstraint as C,LengthDimensionConstraint as b,applyConstraint as w,computeConstraint as O,constraintDependencies as P}from\"./lengthDimensionConstraintUtils.js\";import{LengthDimensionManipulators as D,LengthDimensionPointManipulator as j,pointManipulatorHandles as H,createOffsetManipulator as T,offsetManipulatorHandles as G,LineOfSightOrientationManipulator as z,headingManipulatorHandles as I,rotationManipulatorHandles as x,createMeasureTypeManipulator as U,measureTypeManipulatorHandles as V,updateOffsetManipulatorTransform as R,updateHeadingManipulatorTransform as A,updateRotationManipulatorTransform as k,updateMeasureTypeManipulatorTransform as E,unfocusedOffsetWidth as F,focusedOffsetWidth as L}from\"./lengthDimensionManipulatorUtils.js\";import{isValidComputation as q,arePointsVerticallyAligned as B,computeGeometryFromDimension as N,computationToGeometryDependencies as J}from\"./lengthDimensionUtils.js\";import{disabledPointColor as K,pointRadius as Q,getTransparentAccentColor as W,getContrastColor as X,initialOffsetPx as Y}from\"./settings.js\";import{getRotateHeadingTexture as Z}from\"../images/Factory.js\";import{SnappingVisualizer3D as $}from\"../../interactive/SnappingVisualizer3D.js\";import{LineVisualElement as tt}from\"../../interactive/visualElements/LineVisualElement.js\";import{VerticesVisualElement as et}from\"../../interactive/visualElements/VerticesVisualElement.js\";import{RenderOccludedFlag as it}from\"../../webgl-engine/lib/Material.js\";import{ImageMaterial as at}from\"../../webgl-engine/materials/ImageMaterial.js\";import{createStipplePatternSimple as nt}from\"../../webgl-engine/materials/lineStippleUtils.js\";import{RibbonLineMaterial as st}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import{createCoordinateHelper as ot}from\"../../../interactive/coordinateHelper.js\";import{EditGeometry as rt}from\"../../../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as pt}from\"../../../interactive/editGeometry/EditGeometryOperations.js\";import{acquire as lt}from\"../../../interactive/snapping/SceneSnappingManagerPool.js\";import{SnappingContext as ut}from\"../../../interactive/snapping/SnappingContext.js\";import{createSnapDragEventPipelineStep as dt}from\"../../../interactive/snapping/SnappingDragPipelineStep.js\";import{SnappingOperation as ct}from\"../../../interactive/snapping/SnappingOperation.js\";import{setupSnappingToggleHandles as mt}from\"../../../interactive/snapping/snappingUtils.js\";import ht from\"../../../../geometry/Point.js\";let gt=class extends n{constructor(t){super(t),this._stagedDimension=null,this._computationManipulators=new Map,this._computationHandles=new s,this._orientationManipulatorTexture=null,this._updatingHandles=new v,this._getSnappingContext=l((t=>new ut({elevationInfo:{mode:\"absolute-height\",offset:0},pointer:t,editGeometryOperations:new pt(new rt(\"point\",ot(!0,!1,this.view.spatialReference))),visualizer:new $})));const{view:i}=t;this._snappingManagerResult=lt(i),this.addHandles(this._snappingManagerResult),this._unfocusedOffsetManipulatorMaterial=this._createOffsetManipulatorMaterial(),this._focusedOffsetManipulatorMaterial=this._createOffsetManipulatorMaterial(),this._thinOffsetManipulatorMaterial=this._createOffsetManipulatorMaterial(),this._thinOffsetManipulatorMaterial.setParameters({stipplePattern:nt(2)}),this._constraintSnappingIndicator=new tt({view:i,attached:!0,width:1,renderOccluded:it.OccludeAndTransparent,stipplePattern:nt(5),isDecoration:!0});const a=e.toUnitRGBA(K);this._stagedStartIndicator=new et({view:i,attached:!1,elevationInfo:{mode:\"absolute-height\",offset:0},spatialReference:t.view.renderCoordsHelper.spatialReference,color:a,size:2*Q,outlineSize:0,renderOccluded:it.OccludeAndTransparent,isDecoration:!0})}initialize(){const{view:t}=this;this._snappingOperation=new ct({view:t});const i=!t._stage?.renderView.renderingContext.driverTest.svgPremultipliesAlpha.result;this._orientationManipulatorMaterial=new at({transparent:!0,writeDepth:!1,renderOccluded:it.Opaque,isDecoration:!0}),this.addHandles(d((()=>({accentColor:W(t.effectiveTheme),contrastColor:X(t.effectiveTheme)})),(({accentColor:a,contrastColor:n})=>{const s=this._orientationManipulatorTexture,o=Z(t.textures,{accentColor:a,contrastColor:n,preMultiplyAlpha:i});this._orientationManipulatorMaterial.setParameters({textureId:o.texture.id}),this._orientationManipulatorTexture=o,s?.release();const r=e.toUnitRGBA(a);this._unfocusedOffsetManipulatorMaterial.setParameters({color:r}),this._focusedOffsetManipulatorMaterial.setParameters({color:r}),this._thinOffsetManipulatorMaterial.setParameters({color:r}),this._constraintSnappingIndicator.color=r}),c));const a=m((()=>this.analysisViewData.computations),(({computation:t})=>this._createManipulators(t)));this.addHandles(o(a)),this.addHandles([d((()=>({stagedPoint:this._snappingOperation.stagedPoint,stagedComputation:this._stagedComputation})),(({stagedPoint:t,stagedComputation:e})=>{if(null==e||null==t)return;const i=S(t,new ht);this._applyPointUpdate(e,{endPoint:i})}),h),d((()=>({stagedDimension:this._stagedDimension,selectedComputation:this.analysisViewData.selectedComputation,firstGrabbedManipulator:this.firstGrabbedManipulator})),((t,e)=>{const{stagedDimension:i,selectedComputation:a,firstGrabbedManipulator:n}=t;if(i===e?.stagedDimension&&n===e?.firstGrabbedManipulator){for(const s of[a,e?.selectedComputation])if(null!=s){const e=this._computationManipulators.get(s);null!=e&&this._updateManipulators(s,e,t)}}else for(const[s,o]of this._computationManipulators)this._updateManipulators(s,o,t)}),g),d((()=>this.analysis.style.lineSize),(t=>{this._updateManipulatorStyle(t)}),c),d((()=>this.view.state.camera),(()=>{null!=this._stagedComputation&&this._updateStagedDimensionOffset(this._stagedComputation)})),d((()=>{const t=this._stagedComputation;if(!t)return null;const e=t.elevationAlignedStartPoint,i=y();return null!=e&&this.view.renderCoordsHelper.toRenderCoords(e,i)?i:null}),(t=>{null!=t?(this._stagedStartIndicator.vertices=[t],this._stagedStartIndicator.attached=!0):this._stagedStartIndicator.attached=!1}))]),this.addHandles(this._constraintHandles),this.addHandles(this._snappingIndicatorHandles),mt(this,(()=>{const t=this._activeComputation,e=this._stagedComputation;if(null==t||null!=e){const t=this.view.inputManager.latestPointerType??\"mouse\",e=this._getSnappingContext(t);this._updatingHandles.addPromise(u(this._snappingOperation.resnap(this._snappingManager,e)))}if(null!=t){const{start:e,end:i}=this._computationManipulators.get(t);if(e.grabbing||i.grabbing){const i=e.grabbing?\"start\":\"end\",a=this._computeConstraint(t);C(t,i,{constraint:a,view:this.view})}}}))}destroy(){this._snappingOperation=p(this._snappingOperation),this._computationHandles.destroy(),this._constraintSnappingIndicator.destroy(),this._stagedStartIndicator.destroy(),this._orientationManipulatorTexture?.release()}get updating(){return this._updatingHandles.updating||this._snappingManager.updating}get firstGrabbedManipulator(){return this.parentTool.firstGrabbedManipulator}get hasGrabbedManipulators(){return this.parentTool.hasGrabbedManipulators}get snappingOptions(){return this._snappingManager.options}get _snappingManager(){return this._snappingManagerResult.snappingManager}get _activeComputation(){if(null!=this._stagedComputation)return this._stagedComputation;const{selectedComputation:t}=this.analysisViewData;return this.hasGrabbedManipulators&&null!=t?t:null}get _stagedComputation(){const t=this._stagedDimension,e=this.analysisViewData.computations.at(-1)?.computation;return null==t||null==e||e.dimension!==t?null:e}get _constraintHandles(){return[f((()=>this.analysisViewData.selectedComputation),(t=>{t.previousConstraint=this._computeConstraint(t)}),{...g,equals:r}),d((()=>{const t=this._activeComputation;if(null==t)return null;const{measureType:e,orientation:i}=t.dimension;return{measureType:e,orientation:i,computation:t}}),((t,e)=>{if(null!=t&&null==e){const{measureType:e,orientation:a,computation:n}=t;switch(n.previousConstraint){case b.Horizontal:n.preConstraintProperties={measureType:i.Horizontal,orientation:0};break;case b.Vertical:n.preConstraintProperties={measureType:i.Vertical,orientation:0};break;case b.Direct:n.preConstraintProperties={measureType:i.Direct,orientation:a};break;default:n.preConstraintProperties={measureType:e,orientation:a}}}null==t&&null!=e&&(e.computation.preConstraintProperties=null)}),h)]}get _snappingIndicatorHandles(){const t=\"snapping-indicator-event-handles\";return[d((()=>({stagedComputation:this._stagedComputation,activeComputation:this._activeComputation})),(({stagedComputation:e,activeComputation:i})=>{const a=this._constraintSnappingIndicator;if(this.removeHandles(t),null!=i)if(i===e)a.attached=!0;else{const{start:e,end:n}=this._computationManipulators.get(i),s=()=>{a.attached=e.grabbing||n.grabbing};s(),this.addHandles([e.events.on(\"grab-changed\",s),n.events.on(\"grab-changed\",s)],t)}else a.attached=!1})),d((()=>{const t=this._activeComputation;return null!=t?{geometry:t.geometry,constraint:t.previousConstraint}:{}}),(({geometry:t,constraint:e})=>{const i=this._constraintSnappingIndicator;null!=t&&null!=e&&e!==b.Direct?(i.visible=!0,i.setGeometryFromSegment(t.directSegment)):i.visible=!1}))]}removeStaged(){return null!=this._stagedDimension&&(this.analysis.dimensions.remove(this._stagedDimension),this._stagedDimension=null,!0)}onDeactivate(){this.removeStaged(),this._resetSnappingState()}onClick(t){const{_stagedDimension:e}=this;if(null==e){const e=this._onUnstagedClick(t);return this.analysis.dimensions.add(e),null}return this._onStagedClick(t),e}onPointerMove({mapPoint:t,pointerType:e}){if(\"touch\"===e)return;const i=this._getSnappingContext(e);this._updatingHandles.addPromise(u(this._snappingOperation.snap({point:t},this._snappingManager,i)))}onManipulatorSelectionChanged(){if(null!=this.analysisViewData.selectedComputation){this._computationManipulators.get(this.analysisViewData.selectedComputation).offset.selected||(this.analysisViewData.selectedDimension=null)}}_onUnstagedClick({mapPoint:t,pointerType:e}){let n=t;if(\"mouse\"===e){const i=this._getSnappingContext(e);n=this._snappingManager.update({point:t,context:i})}const s=new a({startPoint:S(n,new ht),endPoint:null,measureType:i.Horizontal});return this._stagedDimension=s,this._resetSnappingState(),s}_onStagedClick({mapPoint:t,pointerType:e}){const i=this._stagedComputation;if(null==i)return;let a=t;if(\"mouse\"===e){const i=this._getSnappingContext(e);a=this._snappingManager.update({point:t,context:i})}const n=S(a,new ht);this._applyPointUpdate(i,{endPoint:n}),this._stagedDimension=null,this._resetSnappingState()}_resetSnappingState(){this._snappingManager.doneSnapping(),this._snappingOperation.abort(),this._snappingOperation.stagedPoint=null}_createManipulators(t){const e=this._setupPointManipulator(t,{isStart:!0}),a=this._setupPointManipulator(t,{isStart:!1}),n=this._setupOffsetManipulator(t),s=this._setupHeadingManipulator(t),o=this._setupRotationManipulator(t),r=this._setupMeasureTypeManipulator(t,i.Direct),p=this._setupMeasureTypeManipulator(t,i.Horizontal),l=this._setupMeasureTypeManipulator(t,i.Vertical),u=new D({start:e,end:a,offset:n,heading:s,rotation:o,direct:r,horizontal:p,vertical:l});return this._setupComputationToManipulatorsSync(t,u),this._computationManipulators.set(t,u),this.manipulators.addMany(u.values()),{manipulators:u,remove:()=>{this._computationHandles.remove(t),this._computationManipulators.delete(t);for(const t of u.values())this.manipulators.remove(t)}}}_setupComputationToManipulatorsSync(t,e){this._computationHandles.add([d((()=>t.geometry),(()=>this._updateManipulators(t,e)),{...g,equals:r})],t)}_setupPointManipulator(t,e){const{view:i}=this,{dimension:a}=t,n=new j(i,{metadata:a}),s=H(n,{isStart:e.isStart,createSnappingPipelineStep:t=>dt({snappingContext:this._getSnappingContext(t),snappingManager:this._snappingManager,updatingHandles:this._updatingHandles}),dimension:a,onUpdate:e=>this._applyPointUpdate(t,e),view:i});return this._computationHandles.add(s,t),n}_setupOffsetManipulator(t){const{view:e}=this,i=T(e,{lineSizePt:this.analysis.style.lineSize,unfocusedMaterial:this._unfocusedOffsetManipulatorMaterial,focusedMaterial:this._focusedOffsetManipulatorMaterial,metadata:t.dimension}),a=G(i,{computation:t,view:e});return this._computationHandles.add(a,t),i}_setupHeadingManipulator(t){const{view:e}=this,i=new z(e,{lineSizePt:this.analysis.style.lineSize,material:this._orientationManipulatorMaterial,metadata:t.dimension}),a=I(i,{computation:t,view:e});return this._computationHandles.add(a,t),i}_setupRotationManipulator(t){const{view:e}=this,i=new z(e,{lineSizePt:this.analysis.style.lineSize,material:this._orientationManipulatorMaterial,metadata:t.dimension}),a=x(i,{computation:t,view:e});return this._computationHandles.add(a,t),i}_setupMeasureTypeManipulator(t,e){const{view:i}=this,a=U(i,{lineSizePt:this.analysis.style.lineSize,unfocusedMaterial:this._unfocusedOffsetManipulatorMaterial,focusedMaterial:this._focusedOffsetManipulatorMaterial,thinOffsetManipulatorMaterial:this._thinOffsetManipulatorMaterial,metadata:t.dimension}),n=V(a,{computation:t,manipulatorMeasureType:e,view:i});return this._computationHandles.add(n,t),a}_updateManipulators(t,e,a={stagedDimension:this._stagedDimension,selectedComputation:this.analysisViewData.selectedComputation,firstGrabbedManipulator:this.firstGrabbedManipulator}){const{stagedDimension:n,selectedComputation:s,firstGrabbedManipulator:o}=a,{start:r,end:p,offset:l,heading:u,rotation:d}=e,c=s===t,m=q(t),{dimension:h}=t;for(const i of e.values()){const t=m&&null==n&&(null==o||i===o);i===l?(i.available=t,i.selected=c):i.available=t&&c}if(!m)return;null!=this._computeConstraint(t)?e.forEachMeasureTypeManipulator((t=>t.available=!1)):e.manipulatorForMeasureType(h.measureType).available=!1;for(const _ of[u,d])h.measureType===i.Direct&&0!==h.offset||(_.available=!1);B(t)?d.available=!1:u.available=!1;const{geometry:g}=t;r.renderLocation=g.directSegment.startRenderSpace,p.renderLocation=g.directSegment.endRenderSpace;const{renderCoordsHelper:f}=this.view;R(l,g,f),u.available&&A(u,t,f),d.available&&k(d,t,f),e.forEachMeasureTypeManipulator(((e,i)=>{e.available&&E(e,t,i,f)}))}_updateManipulatorStyle(t){const e=F(t),i=L(t),a={lineSizePt:t,material:this._orientationManipulatorMaterial};for(const{offset:n,heading:s,rotation:o}of this._computationManipulators.values())n.radius=i/2,s.update(a),o.update(a);this._unfocusedOffsetManipulatorMaterial.setParameters({width:e}),this._focusedOffsetManipulatorMaterial.setParameters({width:i})}_applyPointUpdate(t,e){const{view:i}=this,a=J(t);\"startPoint\"in e&&(a.elevationAlignedStartPoint=e.startPoint),\"endPoint\"in e&&(a.elevationAlignedEndPoint=e.endPoint);const n=N(a,i.renderCoordsHelper);if(null==n)return;const s=this._computeConstraint({...a,geometry:n});w(t,e,{...a,constraint:s,unconstrainedGeometry:n,view:i}),t===this._stagedComputation&&this._updateStagedDimensionOffset(t)}_updateStagedDimensionOffset(t){if(null==t.geometry)return;t.geometry.directSegment.eval(.5,ft);const e=this.view.state.camera.computeScreenPixelSizeAt(ft);t.dimension.offset=Y*e}_computeConstraint(t){return O(P(t,this._snappingManager.options),this.view)}_createOffsetManipulatorMaterial(){return new st({width:1,renderOccluded:it.OccludeAndTransparent,writeDepth:!1,hasPolygonOffset:!0,isDecoration:!0})}get testInfo(){const t=t=>this.analysisViewData.computations.find((({computation:e})=>e.dimension===t))?.computation;return{disableManipulatorPartialOcclusion:()=>{this._stagedStartIndicator.renderOccluded=it.Occlude,this.manipulators.forEach((({manipulator:t})=>{for(const{geometry:e}of t.renderObjects)e.material.setParameters({renderOccluded:it.Occlude})}))},getManipulatorsForDimension:e=>this._computationManipulators.get(t(e)),getComputationForDimension:e=>t(e),getConstraintForDimension:e=>{const i=t(e);return null!=i?this._computeConstraint(i):null},stagedDimension:this._stagedDimension,stagedStartIndicator:this._stagedStartIndicator,constraintSnappingIndicator:this._constraintSnappingIndicator,snappingManager:this._snappingManager}}};t([_({constructOnly:!0})],gt.prototype,\"analysis\",void 0),t([_({constructOnly:!0})],gt.prototype,\"analysisViewData\",void 0),t([_({constructOnly:!0})],gt.prototype,\"manipulators\",void 0),t([_({constructOnly:!0})],gt.prototype,\"parentTool\",void 0),t([_({constructOnly:!0,nonNullable:!0})],gt.prototype,\"view\",void 0),t([_({readOnly:!0})],gt.prototype,\"updating\",null),t([_()],gt.prototype,\"firstGrabbedManipulator\",null),t([_()],gt.prototype,\"hasGrabbedManipulators\",null),t([_()],gt.prototype,\"snappingOptions\",null),t([_()],gt.prototype,\"_stagedDimension\",void 0),t([_()],gt.prototype,\"_activeComputation\",null),t([_()],gt.prototype,\"_stagedComputation\",null),gt=t([M(\"esri.views.3d.analysis.Dimension.LengthDimensionSubTool\")],gt);const ft=y();export{gt as LengthDimensionSubTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{clock as t}from\"../../../../core/clock.js\";import{destroyHandle as i,makeHandle as o}from\"../../../../core/handleUtils.js\";import{removeMaybe as s}from\"../../../../core/maybe.js\";import{watch as n,syncAndInitial as r,when as a}from\"../../../../core/reactiveUtils.js\";import{property as l}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{sv3d as u}from\"../../../../geometry/support/vectorStacks.js\";import{DidPointerMoveRecentlyFlag as p}from\"./lengthDimensionManipulatorUtils.js\";import{LengthDimensionSubTool as m}from\"./LengthDimensionSubTool.js\";import{pointerMoveTimeoutMs as h}from\"./settings.js\";import{newIntersector as d}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as v}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{AnalysisToolBase as _}from\"../../../interactive/AnalysisToolBase.js\";import{sketchKeys as y}from\"../../../interactive/keybindings.js\";import{createScreenPointArrayFromEvent as T}from\"../../../support/screenUtils.js\";var g;!function(e){e.Ready=\"ready\",e.Creating=\"creating\",e.Created=\"created\"}(g||(g={}));let S=class extends _{constructor(e){super(e),this.automaticManipulatorSelection=!1,this.removeIncompleteOnCancel=!1,this._pointerMoveTimerMs=h,this._prevPointerMoveTimeout=null}initialize(){this._intersector=d(this.view.state.viewingMode),this._intersector.options.store=v.MIN,this._lengthDimensionSubTool=new m({analysis:this.analysis,analysisViewData:this.analysisViewData,manipulators:this.manipulators,parentTool:this,view:this.view}),this.addHandles([i(this._lengthDimensionSubTool),o((()=>this._clearPointerMoveTimeout())),n((()=>this.state),(e=>{e===g.Created&&this.finishToolCreation()}),r),a((()=>this.firstGrabbedManipulator),(e=>{this.selectedDimension=e.metadata}),r),n((()=>this.selectedDimension),(()=>this._resetPointerMoveTimeout()),r)])}get state(){return this.analysis.dimensions.some((e=>\"length\"===e.type))?null!=this._activeSubTool?g.Creating:g.Created:g.Ready}get updating(){return this._lengthDimensionSubTool.updating}get cursor(){return this.active?\"crosshair\":null}get selectedDimension(){return this.analysisViewData.selectedDimension}set selectedDimension(e){this.analysisViewData.selectedDimension=e}onInputEvent(e){switch(e.type){case\"immediate-click\":this._clickHandler(e);break;case\"immediate-double-click\":this._doubleClickHandler(e);break;case\"pointer-move\":this._pointerMoveHandler(e);break;case\"key-down\":if(y.cancel===e.key){if(null!=this._activeSubTool&&this._activeSubTool.removeStaged())return void e.stopPropagation();this.active||(this.selectedDimension=null)}else y.delete.includes(e.key)&&this._deleteKeyHandler()}}onActivate(){this._activeSubTool=this._lengthDimensionSubTool}onDeactivate(){null!=this._activeSubTool&&(this._activeSubTool.onDeactivate(),this._activeSubTool=null)}onShow(){this._resetPointerMoveTimeout()}onManipulatorSelectionChanged(){this._lengthDimensionSubTool.onManipulatorSelectionChanged()}onHide(){this.selectedDimension=null}_clickHandler(e){if(this.hasFocusedManipulators)return void e.stopPropagation();if(null==this._activeSubTool)return;const t=this._intersectScreen(e);null!=t&&(this.selectedDimension=this._activeSubTool.onClick({mapPoint:t,pointerType:e.pointerType}),e.stopPropagation())}_doubleClickHandler(e){this.active&&(this.view.activeTool=null,e.stopPropagation())}_pointerMoveHandler(e){if(this._resetPointerMoveTimeout(),null==this._activeSubTool)return;if(this.hasFocusedManipulators)return;const t=this._intersectScreen(e);null!=t&&this._activeSubTool.onPointerMove({mapPoint:t,pointerType:e.pointerType})}_deleteKeyHandler(){null!=this._activeSubTool&&this._activeSubTool.removeStaged(),this._removeSelected()}_intersectScreen(e){const t=T(e);this.view.sceneIntersectionHelper.intersectToolIntersectorScreen(t,this._intersector);const i=this._intersector.results.min,o=u.get();return i.getIntersectionPoint(o)?this.view.renderCoordsHelper.fromRenderCoords(o,this.view.spatialReference):null}_removeSelected(){null!=this.selectedDimension&&(this.analysis.dimensions.remove(this.selectedDimension),this.selectedDimension=null)}_clearPointerMoveTimeout(){this._prevPointerMoveTimeout=s(this._prevPointerMoveTimeout)}_resetPointerMoveTimeout(){this._clearPointerMoveTimeout(),this.manipulators.forEach((e=>e.manipulator.state|=p)),this._prevPointerMoveTimeout=t.setTimeout((()=>{this.manipulators.forEach((e=>e.manipulator.state&=~p))}),this._pointerMoveTimerMs)}get testInfo(){return{...this._lengthDimensionSubTool.testInfo,setManipulatorAutoHideDelay:e=>{this._pointerMoveTimerMs=e,this._resetPointerMoveTimeout()}}}};e([l({constructOnly:!0})],S.prototype,\"view\",void 0),e([l({constructOnly:!0})],S.prototype,\"analysis\",void 0),e([l({readOnly:!0})],S.prototype,\"state\",null),e([l({readOnly:!0})],S.prototype,\"updating\",null),e([l({readOnly:!0})],S.prototype,\"cursor\",null),e([l({constructOnly:!0})],S.prototype,\"analysisViewData\",void 0),e([l()],S.prototype,\"selectedDimension\",null),e([l()],S.prototype,\"automaticManipulatorSelection\",void 0),e([l()],S.prototype,\"_activeSubTool\",void 0),e([l()],S.prototype,\"_lengthDimensionSubTool\",void 0),S=e([c(\"esri.views.3d.analysis.Dimension.DimensionTool\")],S);export{S as DimensionTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{d as e}from\"../../../../chunks/mat4.js\";import{a as t}from\"../../../../chunks/mat4f64.js\";import{f as r,c as i}from\"../../../../chunks/vec4f32.js\";import{Object3DVisualElement as a}from\"./Object3DVisualElement.js\";import{lineStripsToParameters as s,createGeometry as l}from\"../../support/engineContent/line.js\";import{RenderOccludedFlag as m}from\"../../webgl-engine/lib/Material.js\";import{LineMarkerMaterial as n}from\"../../webgl-engine/materials/LineMarkerMaterial.js\";class h extends a{constructor(e,t){super(e),this._hasExternalMaterial=!1,this._renderOccluded=m.OccludeAndTransparent,this._width=1,this._color=r(1,0,1,1),this._placement=\"end\",this._markerPrimitive=\"arrow\",this._material=t,this._hasExternalMaterial=null!=t,this.applyProperties(e)}setGeometryFromSegment(t,r){const i=t.endRenderSpace;this.transform=e(o,i),this._normal=r;const{points:a}=t.createRenderGeometry(i,this.view.renderCoordsHelper);this.geometry=[a]}get renderOccluded(){return null!=this._material?this._material.parameters.renderOccluded:this._renderOccluded}set renderOccluded(e){this._renderOccluded=e,null!=this._material&&this._material.setParameters({renderOccluded:e})}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get normal(){return this._normal}set normal(e){this._normal=e,this.recreateGeometry()}get width(){return null!=this._material?this._material.parameters.width:this._width}set width(e){this._width=e,null!=this._material&&this._material.setParameters({width:e})}get color(){return null!=this._material?this._material.parameters.color:this._color}set color(e){this._color=i(e),null!=this._material&&this._material.setParameters({color:this._color})}get placement(){return null!=this._material?this._material.parameters.placement:this._placement}set placement(e){this._placement=e,null!=this._material&&this._material.setParameters({placement:this._placement})}get markerPrimitive(){return this._material?.parameters.markerPrimitive??this._markerPrimitive}set markerPrimitive(e){this._markerPrimitive=e,null!=this._material&&this._material.setParameters({markerPrimitive:e})}createExternalResources(){this._hasExternalMaterial||(this._material=new n({width:this._width,color:this._color,placement:this._placement,renderOccluded:this._renderOccluded,markerPrimitive:this._markerPrimitive,isDecoration:this.isDecoration}))}destroyExternalResources(){this._hasExternalMaterial||(this._material=null)}createGeometries(e){for(const t of s(this.geometry,this.normal)){const r=l(this._material,t);e.addGeometry(r)}}forEachExternalMaterial(e){this._hasExternalMaterial||e(this._material)}}const o=t();export{h as MarkerVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Handles.js\";import{equals as t}from\"../../../../core/lang.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import{formatDecimal as i}from\"../../../../core/quantityFormatUtils.js\";import{watch as n,initial as l}from\"../../../../core/reactiveUtils.js\";import{pt2px as a}from\"../../../../core/screenUtils.js\";import{c as o}from\"../../../../chunks/vec3f64.js\";import{computeSpanningSegment as m,OffsetSegmentLocation as r,maxScreenLengthSquaredFromGeometry as f,offsetSegment as d}from\"./lengthDimensionUtils.js\";import{smallScreenLengthLineSizeFactor as h,minScreenLengthFontSizeFactor as c,labelMarginPx as u}from\"./settings.js\";import{LabelVisualElement as S}from\"../../interactive/visualElements/LabelVisualElement.js\";import{LineVisualElement as g}from\"../../interactive/visualElements/LineVisualElement.js\";import{MarkerVisualElement as v}from\"../../interactive/visualElements/MarkerVisualElement.js\";import{EuclideanSegment as p}from\"../../interactive/visualElements/support/Segment.js\";class b{set visible(e){for(const t of this._visualElements.values())t.attached=e}constructor(s){this.destroyed=!1,this._handles=new e,this._messages=null,this._labelSegment=new p;const{analysis:i,computation:o,view:m,messages:r,isDecoration:f}=s;this.analysis=i,this.computation=o,this.view=m,this._messages=r;const d=s.visible,h={view:m,attached:d,isDecoration:f},{fontSize:c,textColor:u,textBackgroundColor:b}=i.style;this._visualElements=new E({marker:new v(h,s.markerMaterial),dimension:new g(h,s.dimensionLineMaterial),startOffset:new g(h,s.offsetLineMaterial),endOffset:new g(h,s.offsetLineMaterial),dimensionSmall:new g(h,s.smallDimensionLineMaterial),startOffsetSmall:new g(h,s.smallOffsetLineMaterial),endOffsetSmall:new g(h,s.smallOffsetLineMaterial),label:new S({view:m,attached:d,distance:0,geometry:{type:\"segment\",sampleLocation:\"center\",segment:this._labelSegment,callout:!1},fontSize:a(c),textColor:u.clone(),backgroundColor:b.clone(),isDecoration:f})}),this._handles.add([n((()=>o.geometry),(e=>{this.updateCameraDependentElements(m.state.camera,e,i.style),null!=o.geometry&&this._updateLines(o.geometry)}),{...l,equals:t}),n((()=>o.length),(e=>this._updateLabelContent(e)),l)])}destroy(){this.destroyed=!0,this._handles=s(this._handles);for(const e of this._visualElements.values())e.destroy()}get testInfo(){return{dimensionVisualElement:this._visualElements.dimension,label:this._visualElements.label}}_updateLines(e){const t=m(O,r.Start,e.directSegment,e.dimensionSegment),s=m(_,r.End,e.directSegment,e.dimensionSegment),i=this._visualElements;i.marker.setGeometryFromSegment(e.dimensionSegment,e.primaryOffsetAxis),i.dimension.setGeometryFromSegment(e.dimensionSegment),i.startOffset.setGeometryFromSegment(t),i.endOffset.setGeometryFromSegment(s),i.dimensionSmall.setGeometryFromSegment(e.dimensionSegment),i.startOffsetSmall.setGeometryFromSegment(t),i.endOffsetSmall.setGeometryFromSegment(s)}updateCameraDependentElements(e,t,s){const i=this._visualElements;if(null==t){for(const e of i.values())e.visible=!1;return}const n=e.computeScreenPixelSizeAt(t.dimensionSegment.eval(.5,y)),l=f(t,n),o=l<(a(s.lineSize)*h)**2,m=!o;i.marker.visible=m,i.dimension.visible=m,i.startOffset.visible=m,i.endOffset.visible=m,i.dimensionSmall.visible=o,i.startOffsetSmall.visible=o,i.endOffsetSmall.visible=o;const r=a(s.fontSize)*c,{label:u}=i;if(u.visible=l>=r**2,!u.visible)return;const{dimensionSegment:S,primaryOffsetAxis:g}=t,{offset:v}=this.computation.dimension,p=(Math.sign(v)>=0?1:-1)*this._labelOffsetPx(s)*n;d(this._labelSegment,S,g,p),u.updateLabelPosition()}updateLabelStyle(e){const{label:t}=this._visualElements;t.fontSize=a(e.fontSize),t.textColor=e.textColor,t.backgroundColor=e.textBackgroundColor}updateUnitsMessages(e){this._messages=e;const{length:t}=this.computation;this._updateLabelContent(t)}_updateLabelContent(e){const{label:t}=this._visualElements;null!=e&&null!=this._messages?t.text=i(this._messages,e,e.unit):t.text=\"\"}_labelOffsetPx(e){return 1.5*a(e.fontSize)+u+a(e.lineSize/2)}}const O=new p,_=new p,y=o();class E{constructor(e){this.marker=e.marker,this.dimension=e.dimension,this.startOffset=e.startOffset,this.endOffset=e.endOffset,this.dimensionSmall=e.dimensionSmall,this.startOffsetSmall=e.startOffsetSmall,this.endOffsetSmall=e.endOffsetSmall,this.label=e.label}values(){return[this.marker,this.dimension,this.startOffset,this.endOffset,this.dimensionSmall,this.startOffsetSmall,this.endOffsetSmall,this.label]}}export{E as LengthDimensionVisualElements,b as LengthDimensionVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../Color.js\";import\"../../../../intl.js\";import s from\"../../../../core/Accessor.js\";import{makeHandle as t,destroyHandle as a}from\"../../../../core/handleUtils.js\";import{mapCollection as r,watch as n,syncAndInitial as o,when as l,sync as m}from\"../../../../core/reactiveUtils.js\";import{pt2px as c}from\"../../../../core/screenUtils.js\";import{property as d}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as h}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{Z as p}from\"../../../../chunks/vec4f64.js\";import{LengthDimensionVisualization as u}from\"./LengthDimensionVisualization.js\";import{markerLineSizeFraction as f,offsetLineSizeFraction as g}from\"./settings.js\";import{RenderOccludedFlag as M}from\"../../webgl-engine/lib/Material.js\";import{LineMarkerMaterial as _}from\"../../webgl-engine/materials/LineMarkerMaterial.js\";import{createStipplePatternSimple as y}from\"../../webgl-engine/materials/lineStippleUtils.js\";import{RibbonLineMaterial as w}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import{LineMarkerAnchor as v}from\"../../webgl-engine/shaders/LineMarkerTechniqueConfiguration.js\";import{onLocaleChange as L}from\"../../../../intl/locale.js\";import{fetchMessageBundle as j}from\"../../../../intl/messages.js\";let b=class extends s{get analysis(){return this.analysisViewData.analysis}get visible(){return this.analysisViewData.visible}constructor(e){super(e),this.loadingMessages=!1,this._messages=null}initialize(){const e=this.isDecoration;this._markerMaterial=new _({width:1,anchor:v.Tip,color:p,placement:\"begin-end\",worldSpace:!0,hideOnShortSegments:!0,hasTip:!0,renderOccluded:M.OccludeAndTransparent,markerPrimitive:\"triangle\",isDecoration:e}),this._dimensionLineMaterial=new w({width:1,color:p,renderOccluded:M.OccludeAndTransparent,markerParameters:this._markerMaterial.parameters,isDecoration:e}),this._offsetLineMaterial=new w({width:1,color:p,renderOccluded:M.OccludeAndTransparent,stipplePattern:y(5),isDecoration:e}),this._smallDimensionLineMaterial=new w({width:1,color:p,renderOccluded:M.OccludeAndTransparent,isDecoration:e}),this._smallOffsetLineMaterial=new w({width:1,color:p,renderOccluded:M.OccludeAndTransparent,stipplePattern:y(5),isDecoration:e});for(const i of this._lineMaterials())this.view._stage.add(i),this.addHandles(t((()=>{this.view._stage?.remove(i)})));const s=r((()=>this.analysisViewData.computations),(({computation:e})=>this._createVisualization(e)));this._dimensionVisualizations=s,this.addHandles([a(s),n((()=>i.toUnitRGBA(this.analysis.style.color)),(e=>{for(const i of this._lineMaterials())i.setParameters({color:e})}),o),n((()=>this.analysis.style.lineSize),(e=>{const i=c(e);this._markerMaterial.setParameters({width:i*f}),this._dimensionLineMaterial.setParameters({width:i,markerParameters:this._markerMaterial.parameters});const s=Math.max(i*g,1);this._offsetLineMaterial.setParameters({width:s})}),o),n((()=>({camera:this.view.state.camera,style:z(this.analysis)})),(({camera:e,style:i})=>{for(const{visualization:s}of this._dimensionVisualizations)s.updateCameraDependentElements(e,s.computation.geometry,i),s.updateLabelStyle(i)})),n((()=>this.visible),(e=>{for(const{visualization:i}of this._dimensionVisualizations)i.visible=e}))]),this.addHandles([L((()=>this._updateMessageBundle())),l((()=>!this.loadingMessages),(()=>{for(const{visualization:e}of this._dimensionVisualizations)e.updateUnitsMessages(this._messages)}),m)]),this._updateMessageBundle()}get testInfo(){return{visualizations:this._dimensionVisualizations.items.map((({visualization:e})=>e)),disablePartialOcclusion:()=>{for(const e of this._lineMaterials())e.setParameters({renderOccluded:M.Occlude})}}}_createVisualization(e){const i=new u({analysis:this.analysis,computation:e,view:this.view,visible:this.visible,markerMaterial:this._markerMaterial,dimensionLineMaterial:this._dimensionLineMaterial,offsetLineMaterial:this._offsetLineMaterial,smallDimensionLineMaterial:this._smallDimensionLineMaterial,smallOffsetLineMaterial:this._smallOffsetLineMaterial,messages:this._messages,isDecoration:this.isDecoration});return{visualization:i,remove:()=>i.destroy()}}_lineMaterials(){return[this._markerMaterial,this._dimensionLineMaterial,this._offsetLineMaterial,this._smallDimensionLineMaterial,this._smallOffsetLineMaterial]}async _updateMessageBundle(){this.loadingMessages=!0;try{this._messages=await j(\"esri/core/t9n/Units\")}finally{this.loadingMessages=!1}}};function z(e){const{fontSize:i,lineSize:s,textColor:t,textBackgroundColor:a}=e.style;return{fontSize:i,lineSize:s,textBackgroundColor:a.clone(),textColor:t.clone()}}e([d({constructOnly:!0})],b.prototype,\"analysisViewData\",void 0),e([d({constructOnly:!0,nonNullable:!0})],b.prototype,\"view\",void 0),e([d({constructOnly:!0})],b.prototype,\"isDecoration\",void 0),e([d()],b.prototype,\"analysis\",null),e([d()],b.prototype,\"visible\",null),e([d()],b.prototype,\"loadingMessages\",void 0),b=e([h(\"esri.views.3d.analysis.Dimension.DimensionVisualization\")],b);export{b as DimensionVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../chunks/tslib.es6.js\";import o from\"../../core/Accessor.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";let t=class extends o{constructor(s){super(s),this.dimension=null,this.length=null}};s([r({constructOnly:!0,nonNullable:!0})],t.prototype,\"dimension\",void 0),s([r()],t.prototype,\"length\",void 0),t=s([e(\"esri.views.3d.analysis.LengthDimensionResult\")],t);const c=t;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../core/Accessor.js\";import{watch as e,syncAndInitial as n}from\"../../../../core/reactiveUtils.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../../analysis/LengthDimensionResult.js\";let l=class extends o{constructor(t){super(t),this.geometry=null,this.unconstrainedGeometry=null,this.elevationAlignedStartPoint=null,this.elevationAlignedEndPoint=null}normalizeCtorArgs(t){const{dimension:o,...e}=t;return{result:new s({dimension:o}),...e}}initialize(){this.addHandles([e((()=>this.dimension.startPoint),(t=>this.elevationAlignedStartPoint=this.projectAndAlignPoint(t)),n),e((()=>this.dimension.endPoint),(t=>this.elevationAlignedEndPoint=this.projectAndAlignPoint(t)),n)])}get dimension(){return this.result.dimension}get length(){return this.result.length}};t([i({constructOnly:!0,nonNullable:!0})],l.prototype,\"result\",void 0),t([i({constructOnly:!0,nonNullable:!0})],l.prototype,\"projectAndAlignPoint\",void 0),t([i()],l.prototype,\"dimension\",null),t([i()],l.prototype,\"length\",null),t([i()],l.prototype,\"geometry\",void 0),t([i()],l.prototype,\"unconstrainedGeometry\",void 0),t([i()],l.prototype,\"elevationAlignedStartPoint\",void 0),t([i()],l.prototype,\"elevationAlignedEndPoint\",void 0),t([i()],l.prototype,\"preConstraintProperties\",void 0),t([i()],l.prototype,\"previousConstraint\",void 0),l=t([r(\"esri.views.3d.analysis.LengthDimensionComputation\")],l);export{l as LengthDimensionComputation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Collection.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";const r=r=>{let i=class extends r{constructor(...o){super(...o),this.analysis=null,this.tool=null,this.selectedDimension=null,this.interactive=!1,this.visible=null}get results(){return new e}createLengthDimensions(o){throw new Error(\"Method not implemented.\")}};return o([t({constructOnly:!0})],i.prototype,\"view\",void 0),o([t({constructOnly:!0,nonNullable:!0})],i.prototype,\"analysis\",void 0),o([t()],i.prototype,\"tool\",void 0),o([t({readOnly:!0})],i.prototype,\"results\",null),o([t()],i.prototype,\"selectedDimension\",void 0),o([t()],i.prototype,\"interactive\",void 0),o([t()],i.prototype,\"visible\",void 0),i=o([s(\"esri.views.analysis.DimensionAnalysisView\")],i),i};export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../chunks/tslib.es6.js\";import s from\"../../../core/Accessor.js\";import{destroyHandle as t}from\"../../../core/handleUtils.js\";import o from\"../../../core/Logger.js\";import{abortMaybe as e,destroyMaybe as n}from\"../../../core/maybe.js\";import{mapCollection as r}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{AnalysisView3D as m}from\"./AnalysisView3D.js\";import{DimensionController as p}from\"./Dimension/DimensionController.js\";import{DimensionTool as c}from\"./Dimension/DimensionTool.js\";import{DimensionVisualization as u}from\"./Dimension/DimensionVisualization.js\";import{LengthDimensionComputation as h}from\"./Dimension/LengthDimensionComputation.js\";import{applyProjectionAndElevationAlignment as d,logFailedGeometryProjectionError as y}from\"./support/projectionUtils.js\";import{connectAnalysisViewToTool as _,removeAnalysisViewTool as j,activateAnalysisViewTool as v}from\"../../analysis/analysisViewUtils.js\";import D from\"../../analysis/DimensionAnalysisView.js\";let f=class extends(D(m(s))){constructor(i){super(i),this.type=\"dimension-view-3d\",this.tool=null,this.selectedDimension=null,this._dimensionsToComputations=new Map,this._placementTask=null,this._projectAndAlignPoint=null}initialize(){this._projectAndAlignPoint=i=>{if(null==i)return null;const{spatialReference:s,elevationProvider:t}=this.view,e=d(i,s,t);return null==e&&y(this.analysis,i.spatialReference,o.getLogger(this)),e};const i=r((()=>this.analysis.dimensions),(i=>this._createComputation(i)));this.computations=i,this.addHandles([_(this,c),t(i)]),this._analysisVisualization=new u({analysisViewData:this,view:this.view,isDecoration:!this.parent}),this._analysisController=new p({analysisViewData:this,view:this.view})}destroy(){this._placementTask=e(this._placementTask),this._analysisVisualization=n(this._analysisVisualization),j(this)}get updating(){return this._analysisVisualization?.loadingMessages??!1}get results(){return this.analysis.dimensions.map((i=>this._dimensionsToComputations.get(i).result))}get selectedComputation(){const{selectedDimension:i}=this;return null==i?null:this._dimensionsToComputations.get(i)}get testInfo(){return{visualization:this._analysisVisualization,controller:this._analysisController}}async createLengthDimensions(i){return this.selectedDimension=null,this._placementTask=e(this._placementTask),this._placementTask=v(this,i),this._placementTask.promise}_createComputation(i){const{_dimensionsToComputations:s}=this,t=new h({dimension:i,projectAndAlignPoint:this._projectAndAlignPoint});return s.set(i,t),{computation:t,remove:()=>this._removeComputation(t)}}_removeComputation(i){const{dimension:s}=i;s===this.selectedDimension&&(this.selectedDimension=null),this._dimensionsToComputations.delete(s),i.destroy()}};i([a({readOnly:!0})],f.prototype,\"type\",void 0),i([a()],f.prototype,\"tool\",void 0),i([a()],f.prototype,\"updating\",null),i([a({readOnly:!0})],f.prototype,\"results\",null),i([a()],f.prototype,\"computations\",void 0),i([a()],f.prototype,\"selectedDimension\",void 0),i([a()],f.prototype,\"selectedComputation\",null),i([a()],f.prototype,\"_analysisVisualization\",void 0),i([a()],f.prototype,\"_analysisController\",void 0),i([a()],f.prototype,\"_dimensionsToComputations\",void 0),i([a()],f.prototype,\"_placementTask\",void 0),f=i([l(\"esri.views.3d.analysis.DimensionAnalysisView3D\")],f);const g=f;export{g as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nconst t=\"theme-style\";function e(t,e){return a(r(n(o(t),e)),e.size)}function n(e,{accentColor:n,contrastColor:o}){const r=n.toHex(),a=n.a,s=o.toHex(),i=o.a,c=e.getElementsByTagNameNS(\"http://www.w3.org/2000/svg\",\"style\").namedItem(t);return c&&(c.innerHTML=`\\n      .contrast-fill { fill: ${s}; fill-opacity: ${i}; }\\n      .contrast-stroke { stroke: ${s}; stroke-opacity: ${i};  }\\n      .accent-fill { fill: ${r}; fill-opacity: ${a}; }\\n      .accent-stroke { stroke: ${r}; stroke-opacity:  ${a}; }`),e}function o(t){const e=t.split(\",\")[1],n=atob(e);return(new DOMParser).parseFromString(n,\"image/svg+xml\")}function r(t){const e=(new XMLSerializer).serializeToString(t);return`data:image/svg+xml;base64,${btoa(e)}`}function a(t,e){const n=new Image(e,e);return n.src=t,n}export{e as generateStyledTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nconst I=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NiIgaGVpZ2h0PSI1NiIgZmlsbD0ibm9uZSIgdmVyc2lvbj0iMi4wIj48c3R5bGUgaWQ9InRoZW1lLXN0eWxlIj4uY29udHJhc3QtZmlsbHtmaWxsOiNmZmZ9LmNvbnRyYXN0LXN0cm9rZXtzdHJva2U6I2ZmZn0uYWNjZW50LWZpbGx7ZmlsbDojZmY3ZjAwO2ZpbGwtb3BhY2l0eTouNX08L3N0eWxlPjxwYXRoIGQ9Ik0yOCAwYTI4IDI4IDAgMSAxIDAgNTYgMjggMjggMCAwIDEgMC01NnoiIGNsYXNzPSJhY2NlbnQtZmlsbCIvPjxwYXRoIHN0cm9rZS13aWR0aD0iNC45OSIgZD0iTTIwLjA1IDQwLjg2YTE1LjA1IDE1LjA1IDAgMCAwIDE3LjE0LTEuNSAxNS4wNSAxNS4wNSAwIDAgMCA0LjQ3LTE2LjY1IDE1LjA1IDE1LjA1IDAgMCAwLTIyLjcyLTcuMTUgMTUuMDUgMTUuMDUgMCAwIDAtNS41IDcuMTUiIGNsYXNzPSJjb250cmFzdC1zdHJva2UiLz48cGF0aCBkPSJtMTAuOTcgMzUuNTcgNS4zOCAxMi4wNyA3Ljc5LTEzLjQ3LTEzLjE3IDEuNHoiIGNsYXNzPSJjb250cmFzdC1maWxsIi8+PC9zdmc+\";export{I as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nconst I=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NiIgaGVpZ2h0PSI1NiIgZmlsbD0ibm9uZSIgdmVyc2lvbj0iMi4wIj48c3R5bGUgaWQ9InRoZW1lLXN0eWxlIj4uY29udHJhc3QtZmlsbHtmaWxsOiNmZmZ9LmNvbnRyYXN0LXN0cm9rZXtzdHJva2U6I2ZmZn0uYWNjZW50LWZpbGx7ZmlsbDojZmY3ZjAwO2ZpbGwtb3BhY2l0eTouNX08L3N0eWxlPjxjaXJjbGUgY3g9IjM5LjQ3OCIgY3k9IjMuMDc4IiByPSIyOCIgY2xhc3M9ImFjY2VudC1maWxsIiB0cmFuc2Zvcm09InJvdGF0ZSg0MC41NDIpIi8+PHBhdGggc3Ryb2tlLXdpZHRoPSI1IiBkPSJtNy4wNzQgMzAuMDUzIDI5LjM5NyAxMS45ODUtMy42NzMtMzMuNDkzIiBjbGFzcz0iY29udHJhc3Qtc3Ryb2tlIi8+PHBhdGggc3Ryb2tlLXdpZHRoPSIyLjk5NiIgZD0iTTI0LjUwNCAyMy4yMDdhMTEuOTgyIDExLjk4MiAwIDAgMC05LjggNy41MDciIGNsYXNzPSJjb250cmFzdC1zdHJva2UgY29udHJhc3QtZmlsbCIvPjxwYXRoIGQ9Im0yOS44MTggMjIuODA4LTYuMTg0IDQuNi0uNTQxLTguMzY0eiIgY2xhc3M9ImNvbnRyYXN0LWZpbGwiLz48L3N2Zz4=\";export{I as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{generateStyledTexture as t}from\"./generateTextures.js\";import o from\"./heading-rotate-svg.js\";import r from\"./tilt-rotate-svg.js\";import{Texture as e}from\"../../webgl-engine/lib/Texture.js\";const a=64;function l(r,l){const{accentColor:n,contrastColor:c,preMultiplyAlpha:i}=l;return r.fromData(`heading-rotate:[accent:${n},contrast:${c},size:${a}]`,(()=>new e(t(o,{accentColor:n,contrastColor:c,size:a}),{mipmap:!0,reloadable:!0,preMultiplyAlpha:i})))}function n(o,l){const{accentColor:n,contrastColor:c,preMultiplyAlpha:i}=l;return o.fromData(`tilt-rotate:[accent:${n},contrast:${c},size:${a}]`,(()=>new e(t(r,{accentColor:n,contrastColor:c,size:a}),{mipmap:!0,reloadable:!0,preMultiplyAlpha:i})))}export{l as getRotateHeadingTexture,n as getTiltRotateTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{NoParameters as r}from\"../core/shaderModules/interfaces.js\";import{ReloadableShaderModule as o}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as i}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as s}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as n}from\"../lib/basicInterfaces.js\";import{oitBlending as a,oitDepthTest as l,oitDepthWrite as p,getOITPolygonOffset as c}from\"../lib/OrderIndependentTransparency.js\";import{Program as u}from\"../lib/Program.js\";import{stencilWriteMaskOn as h,stencilToolMaskBaseParams as d,stencilBaseAllZerosParams as m}from\"../lib/StencilUtils.js\";import{TransparencyPassType as f}from\"../lib/TransparencyPassType.js\";import{VertexAttribute as y}from\"../lib/VertexAttribute.js\";import{DefaultTechniqueConfiguration as b}from\"../materials/DefaultTechniqueConfiguration.js\";import{I as P}from\"../../../../chunks/ImageMaterial.glsl.js\";import{BlendFactor as g}from\"../../../webgl/enums.js\";import{simpleBlendingParams as T,makePipelineState as O,cullingParams as j,defaultDepthWriteParams as S,defaultColorWriteParams as v}from\"../../../webgl/renderState.js\";class I extends r{}class N extends i{initializeProgram(e){return new u(e.rctx,N.shader.get().build(this.configuration),_)}_setPipelineState(e,r){const o=this.configuration,i=e===f.NONE,s=e===f.FrontFace;return O({blending:o.output!==t.Color&&o.output!==t.Alpha||!o.transparent?null:i?E:a(e),culling:j(o.cullFace),depthTest:{func:l(e)},depthWrite:i?o.writeDepth?S:null:p(e),colorWrite:v,stencilWrite:o.hasOccludees?h:null,stencilTest:o.hasOccludees?r?d:m:null,polygonOffset:i||s?null:c(o.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this._setPipelineState(this.configuration.transparencyPassType,!0),this._setPipelineState(this.configuration.transparencyPassType,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}N.shader=new o(P,(()=>import(\"./ImageMaterial.glsl.js\")));const E=T(g.ONE,g.ONE_MINUS_SRC_ALPHA);class C extends b{constructor(){super(...arguments),this.output=t.Color,this.cullFace=n.None,this.hasSlicePlane=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.transparencyPassType=f.NONE,this.multipassEnabled=!1,this.cullAboveGround=!1,this.perspectiveInterpolation=!0}}e([s({count:t.COUNT})],C.prototype,\"output\",void 0),e([s({count:n.COUNT})],C.prototype,\"cullFace\",void 0),e([s()],C.prototype,\"hasSlicePlane\",void 0),e([s()],C.prototype,\"transparent\",void 0),e([s()],C.prototype,\"enableOffset\",void 0),e([s()],C.prototype,\"writeDepth\",void 0),e([s()],C.prototype,\"hasOccludees\",void 0),e([s({count:f.COUNT})],C.prototype,\"transparencyPassType\",void 0),e([s()],C.prototype,\"multipassEnabled\",void 0),e([s()],C.prototype,\"cullAboveGround\",void 0),e([s()],C.prototype,\"perspectiveInterpolation\",void 0),e([s({constValue:!1})],C.prototype,\"occlusionPass\",void 0);const _=new Map([[y.POSITION,0],[y.UV0,2],[y.PERSPECTIVEDIVIDE,3]]);export{I as ImageMaterialPassParameters,N as ImageMaterialTechnique,C as ImageMaterialTechniqueConfiguration,_ as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{BufferViewFloat as t}from\"../../../../geometry/support/buffer/BufferView.js\";import{ShaderOutput as e}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as r}from\"../lib/basicInterfaces.js\";import{GLTextureMaterial as s}from\"../lib/GLTextureMaterial.js\";import{MaterialParameters as i}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as a}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as n}from\"../lib/RenderSlot.js\";import{assert as o}from\"../lib/Util.js\";import{VertexAttribute as u}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as l}from\"./DefaultBufferWriter.js\";import{PositionUVLayout as p}from\"./DefaultLayouts.js\";import{TriangleMaterial as c}from\"./TriangleMaterial.js\";import{writeBufferFloat as h,writeDefaultAttribute as m}from\"./internal/bufferWriterUtils.js\";import{vertexAttributeLocations as f,ImageMaterialTechniqueConfiguration as d,ImageMaterialTechnique as _}from\"../shaders/ImageMaterialTechnique.js\";class g extends c{constructor(t){super(t,new T),this.supportsEdges=!0,this._vertexAttributeLocations=f,this._configuration=new d}getConfiguration(t,e){return this._configuration.output=t,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=this.parameters.hasOccludees,this._configuration.transparencyPassType=e.transparencyPassType,this._configuration.enableOffset=e.camera.relativeElevation<a,this._configuration.multipassEnabled=e.multipassEnabled,this._configuration.cullAboveGround=e.multipassTerrain.cullAboveGround,this._configuration.perspectiveInterpolation=this.parameters.perspectiveInterpolation,this._configuration}produces(t,r){if(r===e.Color||r===e.Alpha||r===e.Highlight){if(t===n.DRAPED_MATERIAL)return!0;if(r===e.Highlight)return t===n.OPAQUE_MATERIAL;return t===(this.parameters.transparent?this.parameters.writeDepth?n.TRANSPARENT_MATERIAL:n.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL:n.OPAQUE_MATERIAL)}return!1}createGLMaterial(t){return new E(t)}createBufferWriter(){const t=p.clone();return this.parameters.perspectiveInterpolation&&t.f32(u.PERSPECTIVEDIVIDE),new A(t)}}class E extends s{constructor(t){super({...t,...t.material.parameters})}_updateParameters(t){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.ensureTechnique(_,t)}_updateOccludeeState(t){t.hasOccludees!==this._material.parameters.hasOccludees&&(this._material.setParameters({hasOccludees:t.hasOccludees}),this._updateParameters(t))}beginSlot(t){return this._output!==e.Color&&this._output!==e.Alpha||this._updateOccludeeState(t),this._updateParameters(t)}}class A extends l{write(e,r,s,i,a){for(const n of this.vertexBufferLayout.fields.keys()){const l=s.attributes.get(n);if(l)if(n===u.PERSPECTIVEDIVIDE){o(1===l.size);const e=i.getField(n,t);e&&h(l,e,a)}else m(n,l,e,r,i,a)}}}class T extends i{constructor(){super(...arguments),this.transparent=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=r.None,this.hasOccludees=!1,this.opacity=1,this.textureId=null,this.initTextureTransparent=!0,this.perspectiveInterpolation=!1}}export{g as ImageMaterial,T as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{createTask as o}from\"../../core/asyncUtils.js\";import{removeMaybe as t}from\"../../core/maybe.js\";import{onAbort as i}from\"../../core/promiseUtils.js\";import{whenOnce as e,watch as n,syncAndInitial as r}from\"../../core/reactiveUtils.js\";function l(n,r){n.interactive=!0;const{tool:l,view:a}=n;a.activeTool=l;let c=i(r,(()=>{a.activeTool===l&&(a.activeTool=null)}));return o((async o=>{await e((()=>null==l||!l.active),o),c=t(c)}),r)}function a(o,t){return n((()=>o.interactive),(()=>c(o,t)),r)}function c(o,t){o.interactive?s(o,t):v(o)}function s(o,t){v(o);const{view:i,analysis:e}=o,n=new t({view:i,analysis:e,analysisViewData:o});return o.tool=n,i.tools.add(n),n}function v(o){const{view:t,tool:i}=o;null!=i&&(t.tools.remove(i),o.tool=null)}export{l as activateAnalysisViewTool,a as connectAnalysisViewToTool,v as removeAnalysisViewTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import s from\"../../../core/Accessor.js\";import{abortMaybe as o,removeMaybe as r}from\"../../../core/maybe.js\";import{debounce as n}from\"../../../core/promiseUtils.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{TaskPriority as a,ImmediateTask as l}from\"../../support/Scheduler.js\";let p=class extends s{constructor(t){super(t),this.constrainResult=t=>t,this._snapPoints=null,this._frameTask=null,this._abortController=null,this._stagedPoint=null,this._snap=n((async(t,s,o,r)=>{const n=this._frameTask;if(null==n)return;const e=await n.schedule((()=>s.snap({...t,context:o,signal:r})),r);e.valid&&await n.schedule((()=>{this.stagedPoint=e.apply(),t!==this._snapPoints&&null!=this._snapPoints&&(this.stagedPoint=s.update({...this._snapPoints,context:o}))}),r)}))}get stagedPoint(){return this._stagedPoint}set stagedPoint(t){this._stagedPoint=this.constrainResult(t)}initialize(){const t=\"3d\"===this.view.type?this.view?.resourceController?.scheduler:null;this._frameTask=null!=t?t.registerTask(a.SNAPPING):l}destroy(){this._abortController=o(this._abortController),this._frameTask=r(this._frameTask)}update(t,s,o){this._snapPoints=t;const{point:r,scenePoint:n}=t,e=s.update({point:r,scenePoint:n,context:o});return this.stagedPoint=e,e}async snap(t,s,o){const{point:r,scenePoint:n}=t;return this.stagedPoint=s.update({point:r,scenePoint:n,context:o}),this._snapPoints=t,null==this._abortController&&(this._abortController=new AbortController),this._snap(t,s,o,this._abortController.signal)}async resnap(t,s){null!=this._snapPoints&&await this.snap(this._snapPoints,t,s)}abort(){this._abortController=o(this._abortController),this._snapPoints=null}};t([e({constructOnly:!0})],p.prototype,\"view\",void 0),t([e()],p.prototype,\"stagedPoint\",null),t([e()],p.prototype,\"constrainResult\",void 0),t([e()],p.prototype,\"_stagedPoint\",void 0),p=t([i(\"esri.views.interactive.snapping.SnappingOperation\")],p);export{p as SnappingOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{canProjectWithoutEngine as o}from\"../../geometry/projection.js\";import{getSphericalPCPF as e,SphericalECEFSpatialReference as r,WGS84ECEFSpatialReference as t}from\"../../geometry/spatialReferenceEllipsoidUtils.js\";function i(i){const m=e(i),n=m===r?t:m;return o(i,n)?n:i}export{i as computeEuclideanMeasurementSR};\n"],"names":["l","i","r","constructor","o","super","this","type","startPoint","endPoint","measureType","t","Direct","offset","orientation","p","json","write","isRequired","prototype","c","e","nonNullable","Number","n","s","normalize","a","m","u","Horizontal","Vertical","v","vertex","f","fragment","include","attributes","add","POSITION","UV0","perspectiveInterpolation","PERSPECTIVEDIVIDE","varyings","multipassEnabled","code","_templateObject","_taggedTemplateLiteral","uniforms","texture","d","opacity","output","Alpha","_templateObject2","float","_templateObject3","transparencyPassType","g","Color","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","x","V","direct","unit","verticalSigned","U","S","b","h","horizontal","vertical","Math","abs","D","H","C","elevationAlignedStartPoint","elevationAlignedEndPoint","dimension","_ref","arguments","length","undefined","directSegment","E","primaryOffsetAxis","I","renderCoordsHelper","dimensionSegment","F","startRenderSpace","endRenderSpace","G","offsetAxis","relativeToSegment","spatialReference","w","k","Start","geometry","eval","P","get","worldUpAtPosition","R","M","z","j","y","toRenderCoords","End","q","worldBasisAtPosition","A","Y","_r$orientation","B","_ref2","unitInMeters","L","Z","J","invert","K","headingAtPosition","Q","W","hasZ","X","$","initialize","analysisViewData","computations","computation","_watchComputation","addHandles","analysis","_defaultUnit","view","round","getLogger","warnOnce","concat","id","result","constructOnly","accentColor","He","start","end","heading","rotation","manipulatorName","keys","find","hasOwnProperty","values","forEachMeasureTypeManipulator","manipulatorForMeasureType","Me","toUnitRGBA","effectiveTheme","ie","ue","tt","renderObjects","metadata","available","grabCursor","radius","collisionPriority","_themeHandle","color","setParameters","destroy","remove","Ce","lineSizePt","material","autoScaleRenderObjects","_options","calloutColor","et","Te","update","_ref3","calloutLength","me","calloutWidth","customStateMask","discScale","focusMultiplier","ke","_ref7","ye","De","cancel","settingHeading","steps","events","on","stopPropagation","Ee","shortestSignedDiff","Ae","_c$orientation","_c$orientation2","Ze","Je","T","forHeading","next","ae","action","renderStart","te","renderEnd","_e","we","Fe","_ref8","manipulatorMeasureType","renderLocation","ot","_","se","Le","Se","execute","viewForward","state","camera","Ne","_ref9","Ve","We","ne","it","modelTransform","nt","Qe","Xe","Ke","_ref10","$e","_t$material","_t$texture","_t$focusMultiplier","_t$calloutLength","_t$discScale","_t$calloutWidth","_t$customStateMask","he","transparent","writeDepth","textureId","renderOccluded","fe","Opaque","isDecoration","re","discRadius","de","ge","le","ve","width","OccludeAndTransparent","pe","je","None","collisionType","direction","be","Unfocused","Focused","Custom1","rt","ce","constraint","unconstrainedGeometry","previousConstraint","preConstraintProperties","_renderOccluded","_vertices","_spatialReference","_color","_size","_outlineColor","_outlineSize","_elevationInfo","applyProperties","_updateMaterial","_updateOutlineMaterial","vertices","recreateGeometry","size","outlineColor","outlineSize","elevationInfo","_vertexMaterialParameters","screenSizeScale","_vertexOutlineMaterialParameters","attached","_vertexMaterial","_vertexOutlineMaterial","_createRenderGeometries","forEach","numVertices","position","mapPositions","projectionSuccess","sampledElevation","elevationProvider","fromElevationInfo","push","vertexGeometry","vertexOutlineGeometry","createGeometries","addGeometry","createExternalResources","cullFace","Back","screenSizeEnabled","forceTransparentMode","Front","shadingEnabled","destroyExternalResources","forEachExternalMaterial","gt","_stagedDimension","_computationManipulators","Map","_computationHandles","_orientationManipulatorTexture","_updatingHandles","_getSnappingContext","ut","mode","pointer","editGeometryOperations","pt","visualizer","_snappingManagerResult","lt","_unfocusedOffsetManipulatorMaterial","_createOffsetManipulatorMaterial","_focusedOffsetManipulatorMaterial","_thinOffsetManipulatorMaterial","stipplePattern","_constraintSnappingIndicator","_stagedStartIndicator","_t$_stage","_snappingOperation","ct","_stage","renderView","renderingContext","driverTest","svgPremultipliesAlpha","_orientationManipulatorMaterial","at","contrastColor","textures","preMultiplyAlpha","release","_createManipulators","stagedPoint","stagedComputation","_stagedComputation","ht","_applyPointUpdate","stagedDimension","selectedComputation","firstGrabbedManipulator","_updateManipulators","style","lineSize","_updateManipulatorStyle","_updateStagedDimensionOffset","_constraintHandles","_snappingIndicatorHandles","mt","_activeComputation","_this$view$inputManag","inputManager","latestPointerType","addPromise","resnap","_snappingManager","grabbing","fromRenderCoords","_computeConstraint","_this$_orientationMan","updating","parentTool","hasGrabbedManipulators","snappingOptions","options","snappingManager","_this$analysisViewDat","equals","activeComputation","_ref4","removeHandles","_ref5","visible","setGeometryFromSegment","removeStaged","dimensions","onDeactivate","_resetSnappingState","onClick","_onUnstagedClick","_onStagedClick","onPointerMove","_ref6","mapPoint","pointerType","snap","point","onManipulatorSelectionChanged","selected","selectedDimension","context","doneSnapping","abort","_setupPointManipulator","isStart","_setupOffsetManipulator","_setupHeadingManipulator","_setupRotationManipulator","_setupMeasureTypeManipulator","_setupComputationToManipulatorsSync","set","manipulators","addMany","delete","createSnappingPipelineStep","onUpdate","snappingStep","cancelSnapping","oe","O","mapEnd","xe","dt","snappingContext","updatingHandles","unfocusedMaterial","map","instantiate","focusedMaterial","Selected","paths","ee","thinOffsetManipulatorMaterial","max","N","ft","computeScreenPixelSizeAt","enabled","effectiveFeatureEnabled","st","hasPolygonOffset","testInfo","_this$analysisViewDat2","disableManipulatorPartialOcclusion","Occlude","manipulator","getManipulatorsForDimension","getComputationForDimension","getConstraintForDimension","stagedStartIndicator","constraintSnappingIndicator","readOnly","Ready","Creating","Created","automaticManipulatorSelection","removeIncompleteOnCancel","_pointerMoveTimerMs","_prevPointerMoveTimeout","_intersector","viewingMode","store","MIN","_lengthDimensionSubTool","_clearPointerMoveTimeout","finishToolCreation","_resetPointerMoveTimeout","some","_activeSubTool","cursor","active","onInputEvent","_clickHandler","_doubleClickHandler","_pointerMoveHandler","key","includes","_deleteKeyHandler","onActivate","onShow","onHide","hasFocusedManipulators","_intersectScreen","activeTool","_removeSelected","sceneIntersectionHelper","intersectToolIntersectorScreen","results","min","getIntersectionPoint","setTimeout","setManipulatorAutoHideDelay","_hasExternalMaterial","_width","_placement","_markerPrimitive","_material","transform","_normal","points","createRenderGeometry","parameters","_geometry","normal","placement","markerPrimitive","_this$_material$param","_this$_material","_visualElements","destroyed","_handles","_messages","_labelSegment","messages","fontSize","textColor","textBackgroundColor","marker","markerMaterial","dimensionLineMaterial","startOffset","offsetLineMaterial","endOffset","dimensionSmall","smallDimensionLineMaterial","startOffsetSmall","smallOffsetLineMaterial","endOffsetSmall","label","distance","sampleLocation","segment","callout","clone","backgroundColor","updateCameraDependentElements","_updateLines","_updateLabelContent","dimensionVisualElement","sign","_labelOffsetPx","updateLabelPosition","updateLabelStyle","updateUnitsMessages","text","loadingMessages","_markerMaterial","anchor","Tip","worldSpace","hideOnShortSegments","hasTip","_dimensionLineMaterial","markerParameters","_offsetLineMaterial","_smallDimensionLineMaterial","_smallOffsetLineMaterial","_lineMaterials","_this$view$_stage","_createVisualization","_dimensionVisualizations","visualization","_updateMessageBundle","visualizations","items","disablePartialOcclusion","normalizeCtorArgs","projectAndAlignPoint","tool","interactive","createLengthDimensions","Error","_dimensionsToComputations","_placementTask","_projectAndAlignPoint","_createComputation","_analysisVisualization","parent","_analysisController","_this$_analysisVisual","_this$_analysisVisual2","controller","promise","_removeComputation","Image","src","XMLSerializer","serializeToString","btoa","split","atob","DOMParser","parseFromString","toHex","getElementsByTagNameNS","namedItem","innerHTML","fromData","mipmap","reloadable","initializeProgram","rctx","shader","configuration","_setPipelineState","NONE","FrontFace","blending","culling","depthTest","func","depthWrite","colorWrite","stencilWrite","hasOccludees","stencilTest","polygonOffset","enableOffset","initializePipeline","_occludeePipelineState","getPipeline","ONE","ONE_MINUS_SRC_ALPHA","hasSlicePlane","cullAboveGround","count","COUNT","constValue","supportsEdges","_vertexAttributeLocations","_configuration","getConfiguration","relativeElevation","multipassTerrain","produces","Highlight","DRAPED_MATERIAL","OPAQUE_MATERIAL","TRANSPARENT_MATERIAL","TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL","createGLMaterial","createBufferWriter","f32","_updateParameters","updateTexture","textureBindParameters","ensureTechnique","_updateOccludeeState","beginSlot","_output","vertexBufferLayout","fields","getField","initTextureTransparent","async","tools","constrainResult","_snapPoints","_frameTask","_abortController","_stagedPoint","_snap","schedule","signal","valid","apply","_this$view","resourceController","scheduler","registerTask","SNAPPING","scenePoint","AbortController"],"sourceRoot":""}