"use strict";(self.webpackChunkn2_depot=self.webpackChunkn2_depot||[]).push([[9229,7387],{32500:(e,t,i)=>{i.d(t,{I:()=>w,b:()=>_});var r,n,s=i(30168),a=i(37081),o=i(33280),l=i(94951),d=i(14801),u=i(74876),h=i(116),c=i(41012),p=i(58406),g=i(98634),v=i(64201),f=i(19253),y=i(4760),m=i(53178);function _(e){const t=new v.kG,{vertex:i,fragment:_}=t;return(0,c.Sv)(i,e),t.include(l.w,e),t.include(u.H,e),t.include(o.f5,e),t.include(d.R,e),t.include(m.j,e),t.attributes.add(y.T.POSITION,"vec3"),t.attributes.add(y.T.UV0,"vec2"),e.perspectiveInterpolation&&t.attributes.add(y.T.PERSPECTIVEDIVIDE,"float"),t.varyings.add("vpos","vec3"),e.terrainDepthTest&&t.varyings.add("depth","float"),i.main.add((0,g.H)(r||(r=(0,s.Z)(["\n    vpos = position;\n    ","\n    vTexCoord = uv0;\n    gl_Position = transformPosition(proj, view, vpos);\n    ",""])),e.terrainDepthTest?"depth = (view * vec4(vpos, 1.0)).z;":"",e.perspectiveInterpolation?"gl_Position *= perspectiveDivide;":"")),_.uniforms.add(new f.A("tex",(e=>e.texture)),new p.p("opacity",(e=>e.opacity))),t.varyings.add("vTexCoord","vec2"),_.include(h.Y),_.main.add((0,g.H)(n||(n=(0,s.Z)(["\n    discardBySlice(vpos);\n    ","\n    ","\n    vec4 finalColor = texture(tex, vTexCoord) * opacity;\n    outputColorHighlightOID(finalColor, vpos);"])),e.terrainDepthTest?"terrainDepthTest(depth);":"",e.output===a.H_.ObjectAndLayerIdColor?"fragColor = vec4(0, 0, 0, 1);\n           return;":"")),t}const w=Object.freeze(Object.defineProperty({__proto__:null,build:_},Symbol.toStringTag,{value:"Module"}))},67387:(e,t,i)=>{i.r(t),i.d(t,{getGeometryServiceURL:()=>l,projectGeometry:()=>d});var r=i(42265),n=i(10064),s=i(7575),a=i(45362),o=i(81943);async function l(){var e;let t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;if(r.default.geometryServiceUrl)return r.default.geometryServiceUrl;if(!i)throw new n.Z("internal:geometry-service-url-not-configured");t="portal"in i?i.portal||s.Z.getDefault():i,await t.load({signal:a});const o=null===(e=t.helperServices)||void 0===e||null===(e=e.geometry)||void 0===e?void 0:e.url;if(!o)throw new n.Z("internal:geometry-service-url-not-configured");return o}async function d(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;const s=await l(i,r),d=new o.Z({geometries:[e],outSpatialReference:t}),u=await(0,a.i)(s,d,{signal:r});if(u&&Array.isArray(u)&&1===u.length)return u[0];throw new n.Z("internal:geometry-service-projection-failed")}},45362:(e,t,i)=>{i.d(t,{i:()=>h});var r=i(1413),n=i(76200),s=i(25243),a=i(77981),o=i(23084),l=i(35594),d=i(81943);const u=(0,s.se)(d.Z);async function h(e,t,i){t=u(t);const s=(0,o.en)(e),d=(0,r.Z)((0,r.Z)({},s.query),{},{f:"json"},t.toJSON()),h=t.outSpatialReference,c=(0,a.Ji)(t.geometries[0]),p=(0,o.lA)(d,i);return(0,n.Z)(s.path+"/project",p).then((e=>{let{data:{geometries:t}}=e;return(0,l.o)(t,c,h)}))}},35594:(e,t,i)=>{i.d(t,{F:()=>n,o:()=>s});var r=i(77981);function n(e){return{geometryType:(0,r.Ji)(e[0]),geometries:e.map((e=>e.toJSON()))}}function s(e,t,i){const n=(0,r.q9)(t);return e.map((e=>{const t=n.fromJSON(e);return t.spatialReference=i,t}))}},81943:(e,t,i)=>{i.d(t,{Z:()=>u});var r=i(27366),n=i(46784),s=i(49861),a=(i(93169),i(32718),i(84936),i(69912)),o=i(77981),l=i(92975);let d=class extends n.wq{constructor(e){super(e),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const e=this.geometries.map((e=>e.toJSON())),t=this.geometries[0],i={};return i.outSR=(0,l.B9)(this.outSpatialReference),i.inSR=(0,l.B9)(t.spatialReference),i.geometries=JSON.stringify({geometryType:(0,o.Ji)(t),geometries:e}),this.transformation&&(i.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(i.transformForward=this.transformForward),i}};(0,r._)([(0,s.Cb)()],d.prototype,"geometries",void 0),(0,r._)([(0,s.Cb)({json:{read:{source:"outSR"}}})],d.prototype,"outSpatialReference",void 0),(0,r._)([(0,s.Cb)()],d.prototype,"transformation",void 0),(0,r._)([(0,s.Cb)()],d.prototype,"transformForward",void 0),d=(0,r._)([(0,a.j)("esri.rest.support.ProjectParameters")],d);const u=d},23084:(e,t,i)=>{i.d(t,{cv:()=>l,en:()=>o,lA:()=>a});var r=i(1413),n=(i(42265),i(19545),i(84652)),s=i(35995);i(66660);function a(e,t){return t?(0,r.Z)((0,r.Z)({},t),{},{query:(0,r.Z)((0,r.Z)({},null!==e&&void 0!==e?e:{}),t.query)}):{query:e}}function o(e){return"string"==typeof e?(0,s.mN)(e):(0,n.d9)(e)}function l(e,t,i){const r={};for(const n in e){if("declaredClass"===n)continue;const s=e[n];if(null!=s&&"function"!=typeof s)if(Array.isArray(s))r[n]=s.map((e=>l(e)));else if("object"==typeof s)if(s.toJSON){const e=s.toJSON(null===i||void 0===i?void 0:i[n]);r[n]=t?e:JSON.stringify(e)}else r[n]=t?s:JSON.stringify(s);else r[n]=s}return r}},69229:(e,t,i)=>{i.d(t,{Z:()=>H});var r=i(1413),n=i(27366),s=i(14921),a=i(42537),o=i(32718),l=i(92026),d=i(66978),u=i(94172),h=i(49861),c=(i(93169),i(84936),i(69912)),p=i(53866),g=i(65156),v=i(26279),f=i(42069),y=i(86372),m=i(38461),_=i(91526),w=i(2952),b=i(70619),x=i(4760);function S(e,t){return(0,b.g7)(e,[[t[0],t[1],-1],[t[2],t[1],-1],[t[2],t[3],-1],[t[0],t[3],-1]])}function T(e,t,i){if(!(0,g.kK)(t,i))return S(e,i);const r=[t[1]-i[1],Math.min(t[3],i[3])-Math.max(t[1],i[1]),i[3]-t[3],123456],n=[t[0]-i[0],Math.min(t[2],i[2])-Math.max(t[0],i[0]),i[2]-t[2],123456],s=i[2]-i[0],a=i[3]-i[1],o=n[0]>0&&n[2]>0?3:2,l=r[0]>0&&r[2]>0?3:2,d=(l+1)*(o+1),u=(0,y.bg)(3*d),h=(0,m.xx)(2*d),c=new Array(6*(l*o-1));let p=0,v=0,f=0,b=0,T=0;for(let g=0;g<4;g++){const e=r[g];if(e<=0)continue;let t=0;for(let r=0;r<4;r++){const e=n[r];e<=0||(u[v++]=i[0]+t,u[v++]=i[1]+p,u[v++]=-1,h[f++]=t/s,h[f++]=p/a,r<3&&g<3&&(1!==r||1!==g)&&(c[T++]=b,c[T++]=b+1,c[T++]=b+o+1,c[T++]=b+1,c[T++]=b+o+2,c[T++]=b+o+1),b++,t+=e)}p+=e}const C=new Array(c.length);return new w.Z(e,[[x.T.POSITION,new _.a(u,c,3,!0)],[x.T.NORMAL,new _.a(I,C,3,!0)],[x.T.UV0,new _.a(h,c,2,!0)]])}const I=[0,0,1];var C=i(61712),E=i(94463),R=i(54134),O=i(78289),A=i(39077),P=i(1487),D=i(78485),M=i(8080),N=i(67581),L=i(13107),Z=i(69787),j=i(8548);let G=class extends((0,L.Z)((0,f.A)(N.Z))){constructor(){super(...arguments),this.drapeSourceType=v.Lw.RasterImage,this.updatePolicy=D.j.SYNC,this.fullExtentInLocalViewSpatialReference=null,this.maximumDataResolution=null,this._images=new Array,this._extents=new Array,this._overlays=new Array,this.updateWhenStationary=!0,this._drapeSourceRenderer=null,this.refreshDebounced=(0,d.Ds)((async e=>{this.destroyed||await this._doRefresh(e).catch((e=>{(0,d.D_)(e)||o.Z.getLogger(this).error(e)}))}),2e3)}get visibleAtCurrentScale(){const e=this.layer,t="effectiveScaleRange"in e?e.effectiveScaleRange:null;return(0,Z.GB)(t,this.view.scale)}initialize(){this._drapeSourceRenderer=this.view.basemapTerrain.overlayManager.registerGeometryDrapeSource(this),this.addHandles((0,a.kB)((()=>this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this)))),this.addResolvingPromise((0,C.E)(this).then((e=>this._set("fullExtentInLocalViewSpatialReference",e)))),this._updatingHandles.add((()=>this.suspended),(()=>this._suspendedChangeHandler()))}destroy(){this.clear()}setDrapingExtent(e,t){this._spatialReference=t,e.forEach(((e,t)=>{this._overlays[t]=e,this._updateImageExtent(e,t)}))}_updateImageExtent(e,t){const i=this._clippedExtent(e.extent,V);if(null==i)return;const r=function(e,t,i){const r=(0,g.d_)(e)/(0,g.Cb)(e),n={width:i,height:i};return r>1.0001?n.height=i/r:r<.9999&&(n.width=i*r),n.width=Math.round(n.width/((0,g.d_)(e)/(0,g.d_)(t))),n.height=Math.round(n.height/((0,g.Cb)(e)/(0,g.Cb)(t))),n}(e.extent,i,e.resolution);let n=e.pixelRatio*this.view.state.pixelRatio;const{layer:s}=this;if("imageMaxWidth"in s&&null!=s.imageMaxWidth||"imageMaxHeight"in s&&null!=s.imageMaxHeight){const e=s.imageMaxWidth,t=s.imageMaxHeight;if(r.width>e){const t=e/r.width;r.height=Math.floor(r.height*t),r.width=e,n*=t}if(r.height>t){const e=t/r.height;r.width=Math.floor(r.width*e),r.height=t,n*=e}}const a=this._extents[t];a&&(0,g.fS)(a.extent,i)&&this._imageSizeEquals(i,a.imageSize,r)||(this._extents[t]={extent:(0,g.Ue)(i),imageSize:r,pixelRatio:n},this.suspended||this._fetch(t).catch((e=>{(0,d.D_)(e)||o.Z.getLogger(this).error(e)})))}clear(){for(let e=0;e<this._images.length;e++)this._clearImage(e)}async doRefresh(){return this._doRefresh()}async _doRefresh(e){if(this.suspended)return;const t=[];for(let i=0;i<this._extents.length;i++)this._extents[i]&&t.push(this._fetch(i,e));await Promise.allSettled(t)}async processResult(e,t,i){(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement)&&(e.image=t)}findExtentInfoAt(e){for(const t of this._extents){const i=t.extent;if(new p.Z(i[0],i[1],i[2],i[3],this._spatialReference).contains(e))return t}return null}getFetchOptions(){}async redraw(e,t){await(0,s.Ed)(this._images,(async(i,r)=>{i&&(await e(i,t),await this._createStageObjects(r,i.image,t))}))}_imageSizeEquals(e,t,i){if(!this.maximumDataResolution)return!1;const r=(0,g.d_)(e)/this.maximumDataResolution.x,n=(0,g.Cb)(e)/this.maximumDataResolution.y,s=r/t.width,a=n/t.height,o=r/i.width,l=n/i.height,d=Math.abs(s-o),u=Math.abs(a-l),h=E.h.TESTS_DISABLE_OPTIMIZATIONS?0:1.5;return d<=h&&u<=h}async _fetch(e,t){if(this.suspended)return;const i=this._extents[e],n=i.extent;this._images[e]||(this._images[e]={texture:null,material:null,renderGeometry:null,loadingPromise:null,loadingAbortController:null,image:null,pixelData:null,renderExtent:(0,g.Ue)(n)});const s=this._images[e];s.loadingAbortController=(0,l.IM)(s.loadingAbortController);const a=new p.Z(n[0],n[1],n[2],n[3],this._spatialReference);if(0===a.width||0===a.height)return void this._clearImage(e);const u=new AbortController;s.loadingAbortController=u,(0,d.fu)(t,(()=>u.abort()));const h=u.signal,c=this._waitFetchReady(h).then((async()=>{const t=(0,r.Z)((0,r.Z)({requestAsImageElement:!0,pixelRatio:this._overlays[e].pixelRatio},this.getFetchOptions()),{},{signal:h}),{height:n,width:s}=i.imageSize;return this.layer.fetchImage(a,s,n,t)})).then((e=>{if((0,d.Hc)(h))throw o.Z.getLogger(this).warnOnce("A call to fetchImage resolved even though the request was aborted. fetchImage should not resolve if options.signal.aborted is true."),(0,d.zE)();return this.processResult(s,e)})).then((()=>{(0,g.JG)(s.renderExtent,n)}));s.loadingPromise=c,await this._updatingHandles.addPromise(c.then((async()=>{(0,d.k_)(h),await this._createStageObjects(e,s.image,h)})).catch((e=>{throw e&&!(0,d.D_)(e)&&o.Z.getLogger(this).error(e),e})).finally((()=>{c===s.loadingPromise&&(s.loadingPromise=null,s.loadingAbortController=null)})))}_clearImage(e){const t=this._images[e];if(t){null!=t.renderGeometry&&(this._drapeSourceRenderer.removeGeometries([t.renderGeometry],O.T.UPDATE),t.renderGeometry=null);const e=this.view._stage,i=t.texture;null!==i&&void 0!==i&&i.unload(),e.remove(i),t.texture=null,e.remove(t.material),t.material=null,t.loadingAbortController=(0,l.IM)(t.loadingAbortController),t.loadingPromise=null,t.image=null,t.pixelData=null}}async _createStageObjects(e,t,i){const r=this.view._stage,n=this._images[e],a=()=>{var e;null!==(e=n.texture)&&void 0!==e&&e.unload(),r.remove(n.texture),n.texture=null,n.renderGeometry&&(this._drapeSourceRenderer.removeGeometries([n.renderGeometry],O.T.UPDATE),n.renderGeometry=null)};if(t){const o=new P.x(t,{width:t.width,height:t.height,preMultiplyAlpha:!0,wrap:{s:j.e8.CLAMP_TO_EDGE,t:j.e8.CLAMP_TO_EDGE}});let l;if(await(0,s.q6)(this._images[e===R.fu.INNER?R.fu.OUTER:R.fu.INNER].loadingPromise),(0,d.k_)(i),a(),await r.schedule((()=>o.load(r.renderView.renderingContext)),i),r.add(o),n.texture=o,null==n.material?(n.material=new M.j({textureId:o.id}),r.add(n.material)):n.material.setParameters({textureId:o.id}),e===R.fu.INNER)l=S(n.material,n.renderExtent);else{const e=this._images[0].renderExtent;if(!e)return void a();l=T(n.material,e,n.renderExtent)}n.renderGeometry=new A.z(l),n.renderGeometry.localOrigin=this._overlays[e].renderLocalOrigin,this._drapeSourceRenderer.addGeometries([n.renderGeometry],O.T.UPDATE)}else a(),r.remove(n.material),n.material=null}_clippedExtent(e,t){if("local"!==this.view.viewingMode)return(0,g.JG)(t,e);const i=this.view.basemapTerrain;return i.ready?(0,g.jV)(e,i.extent,t):(0,g.JG)(t,e)}_suspendedChangeHandler(){this.suspended?this.clear():this.refreshDebounced()}async _waitFetchReady(e){await(0,u.N1)((()=>this.view.stationary),e),(0,d.k_)(e)}};(0,n._)([(0,h.Cb)()],G.prototype,"layer",void 0),(0,n._)([(0,h.Cb)()],G.prototype,"suspended",void 0),(0,n._)([(0,h.Cb)({readOnly:!0})],G.prototype,"fullExtentInLocalViewSpatialReference",void 0),(0,n._)([(0,h.Cb)({readOnly:!0})],G.prototype,"visibleAtCurrentScale",null),(0,n._)([(0,h.Cb)()],G.prototype,"updating",void 0),G=(0,n._)([(0,c.j)("esri.views.3d.layers.DynamicLayerView3D")],G);const H=G,V=(0,g.Ue)()},42069:(e,t,i)=>{i.d(t,{A:()=>u});var r=i(27366),n=i(42537),s=i(66978),a=i(94172),o=i(49861),l=(i(93169),i(32718),i(84936),i(69912)),d=i(5354);const u=e=>{let t=class extends e{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),(0,d.qC)(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const e=new AbortController,t=e.signal;this.addHandles((0,n.kB)((()=>e.abort()))),await(0,a.N1)((()=>{var e;return null===(e=this.view.defaultsFromMap)||void 0===e?void 0:e.heightModelInfoReady}),t),(0,s.k_)(t);const i=(0,d.Wt)(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return(0,r._)([(0,o.Cb)()],t.prototype,"view",void 0),(0,r._)([(0,o.Cb)()],t.prototype,"slicePlaneEnabled",void 0),t=(0,r._)([(0,l.j)("esri.views.3d.layers.LayerView3D")],t),t}},61712:(e,t,i)=>{i.d(t,{E:()=>s});var r=i(81753),n=i(67387);async function s(e){const t=e.view.spatialReference,i=e.layer.fullExtent,s=null!=i&&i.spatialReference;if(null==i||!s)return null;if(s.equals(t))return i.clone();const a=(0,r.iV)(i,t);if(null!=a)return a;if(e.view.state.isLocal)try{const r=await(0,n.projectGeometry)(i,t,e.layer.portalItem);return e.destroyed||null==r?null:r}catch(o){return null}return null}},64642:(e,t,i)=>{i.d(t,{IM:()=>o,W1:()=>a,lV:()=>l,wp:()=>s});var r=i(55158),n=i(4760);const s=(0,r.U$)().vec3f(n.T.POSITION),a=(0,r.U$)().vec3f(n.T.POSITION).vec2f(n.T.UV0),o=(0,r.U$)().vec3f(n.T.POSITION).vec4u8(n.T.COLOR),l=(0,r.U$)().vec3f(n.T.POSITION).vec2f(n.T.UV0).vec4u8(n.T.OBJECTANDLAYERIDCOLOR)},8080:(e,t,i)=>{i.d(t,{j:()=>P});var r=i(1413),n=i(25158),s=i(37081),a=i(68401),o=i(17363),l=i(56529),d=i(78041),u=i(93822),h=i(97731),c=i(4760),p=i(12594),g=i(64642),v=i(11983),f=i(33236),y=(i(98634),i(82144)),m=i(78914),_=i(14124),w=i(50411),b=i(32500),x=i(36207);class S extends m.A{constructor(e,t,r){super(e,t,new y.J(b.I,(()=>i.e(8957).then(i.bind(i,18957)))),r,T)}_getPipelineState(e,t){const{oitPass:i,output:r,hasOccludees:n,enableOffset:a,cullFace:o}=e,l=i===_.M.NONE,u=i===_.M.FrontFace;return(0,x.sm)({blending:r===s.H_.Color?l?x.xW:(0,d.j7)(i):null,culling:(0,x.zp)(o),depthTest:{func:(0,d.Bh)(i)},depthWrite:(0,d.W$)(e),drawBuffers:(0,d.u_)(i,r),colorWrite:x.gf,stencilWrite:n?w.s3:null,stencilTest:n?t?w.eD:w.RY:null,polygonOffset:l||u?null:(0,d.je)(a)})}initializePipeline(e){return this._occludeePipeline=this._getPipelineState(e,!0),this._getPipelineState(e,!1)}getPipeline(e){return e?this._occludeePipeline:super.getPipeline()}}const T=new Map([[c.T.POSITION,0],[c.T.UV0,2],[c.T.PERSPECTIVEDIVIDE,3]]);var I=i(27366),C=i(60113),E=i(80848),R=i(5775),O=i(12085);class A extends O.W{constructor(){super(...arguments),this.cullFace=a.Vr.None,this.hasSlicePlane=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.perspectiveInterpolation=!0,this.textureCoordinateType=C.I.None,this.emissionSource=E.jo.None,this.discardInvisibleFragments=!0,this.occlusionPass=!1,this.objectAndLayerIdColorInstanced=!1}}(0,I._)([(0,R.o)({count:a.Vr.COUNT})],A.prototype,"cullFace",void 0),(0,I._)([(0,R.o)()],A.prototype,"hasSlicePlane",void 0),(0,I._)([(0,R.o)()],A.prototype,"enableOffset",void 0),(0,I._)([(0,R.o)()],A.prototype,"writeDepth",void 0),(0,I._)([(0,R.o)()],A.prototype,"hasOccludees",void 0),(0,I._)([(0,R.o)()],A.prototype,"terrainDepthTest",void 0),(0,I._)([(0,R.o)()],A.prototype,"cullAboveTerrain",void 0),(0,I._)([(0,R.o)()],A.prototype,"perspectiveInterpolation",void 0);class P extends v.c{constructor(e){super(e,N),this._configuration=new A,this.vertexAttributeLocations=T,this.supportsEdges=!0,this.produces=new Map([[u.r.OPAQUE_MATERIAL,e=>(0,s.Gy)(e)],[u.r.TRANSPARENT_MATERIAL,e=>(0,s.D5)(e)&&this.parameters.writeDepth],[u.r.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>(0,s.D5)(e)&&!this.parameters.writeDepth],[u.r.DRAPED_MATERIAL,e=>(0,s.D5)(e)||(0,s.Gy)(e)]])}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=t.hasOccludees,this._configuration.oitPass=t.oitPass,this._configuration.enableOffset=t.camera.relativeElevation<d.ve,this._configuration.terrainDepthTest=t.terrainDepthTest,this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration.perspectiveInterpolation=this.parameters.perspectiveInterpolation,this._configuration}get visible(){return!0}createGLMaterial(e){return new D(e)}createBufferWriter(){const e=g.W1.clone();return this.parameters.perspectiveInterpolation&&e.f32(c.T.PERSPECTIVEDIVIDE),new M(e)}}class D extends o.Fj{constructor(e){super((0,r.Z)((0,r.Z)({},e),e.material.parameters))}beginSlot(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.acquireTechnique(S,e)}}class M extends p.G{write(e,t,i,r,s,a){for(const o of this.vertexBufferLayout.fields.keys()){const r=i.get(o);if(r)if(o===c.T.PERSPECTIVEDIVIDE){(0,h.hu)(1===r.size);const e=s.getField(o,n.ly);e&&(0,f.XW)(r,e,a)}else(0,f.i9)(o,r,e,t,s,a)}}}class N extends l.Mt{constructor(){super(...arguments),this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=a.Vr.None,this.opacity=1,this.textureId=null,this.initTextureTransparent=!0,this.perspectiveInterpolation=!1}}},11983:(e,t,i)=>{i.d(t,{c:()=>s});var r=i(56529),n=i(42235);class s extends r.F5{intersect(e,t,i,r,s,a){return(0,n.Bw)(e,i,r,s,void 0,a)}}},67581:(e,t,i)=>{i.d(t,{Z:()=>v});var r=i(27366),n=i(7138),s=i(91505),a=i(79056),o=i(32718),l=i(92026),d=i(67426),u=i(49861),h=(i(93169),i(84936),i(69912)),c=i(46634),p=i(69787);let g=class extends((0,a.IG)((0,d.v)(s.Z.EventedMixin(n.Z)))){constructor(e){super(e),this._updatingHandles=new c.R,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if("layerview:create-error"!==e.name){var t;const i=this.layer&&this.layer.id||"no id",r=(null===(t=this.layer)||void 0===t?void 0:t.title)||"no title";o.Z.getLogger(this).error("#resolve()","Failed to resolve layer view (layer title: '".concat(r,"', id: '").concat(i,"')"),e)}}))}destroy(){this._updatingHandles=(0,l.SC)(this._updatingHandles)}get fullOpacity(){var e,t,i,r;return(null!==(e=null===(t=this.layer)||void 0===t?void 0:t.opacity)&&void 0!==e?e:1)*(null!==(i=null===(r=this.parent)||void 0===r?void 0:r.fullOpacity)&&void 0!==i?i:1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){var e;return!this.suspended&&!0===(null===(e=this.layer)||void 0===e?void 0:e.legendEnabled)}get updating(){var e;return!((null===(e=this._updatingHandles)||void 0===e||!e.updating)&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){var e;return!0===(null===(e=this.layer)||void 0===e?void 0:e.visible)}set visible(e){this._overrideIfSome("visible",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){var e;const t=this.view.timeExtent,i=null===(e=this.layer)||void 0===e?void 0:e.visibilityTimeExtent;return!t||!i||!t.intersection(i).isEmpty}canResume(){var e,t,i;const r=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&(null===(e=this.layer)||void 0===e?void 0:e.loaded)&&!(null!==(t=this.parent)&&void 0!==t&&t.suspended)&&(null===(i=this.view)||void 0===i?void 0:i.ready)&&(0,p.Cy)(r)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){var e,t;const i=null!==(e=this.parent)&&void 0!==e&&e.suspended?this.parent.suspendInfo:{};null!==(t=this.view)&&void 0!==t&&t.ready||(i.viewNotReady=!0),this.layer&&this.layer.loaded||(i.layerNotLoaded=!0);const r=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return(0,p.Cy)(r)&&this.visibleAtCurrentScale||(i.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(i.outsideVisibilityTimeExtent=!0),this.visible||(i.layerInvisible=!0),i}isUpdating(){return!1}};(0,r._)([(0,u.Cb)()],g.prototype,"view",void 0),(0,r._)([(0,u.Cb)()],g.prototype,"fullOpacity",null),(0,r._)([(0,u.Cb)()],g.prototype,"layer",void 0),(0,r._)([(0,u.Cb)()],g.prototype,"parent",void 0),(0,r._)([(0,u.Cb)({readOnly:!0})],g.prototype,"suspended",null),(0,r._)([(0,u.Cb)({readOnly:!0})],g.prototype,"suspendInfo",null),(0,r._)([(0,u.Cb)({readOnly:!0})],g.prototype,"legendEnabled",null),(0,r._)([(0,u.Cb)({type:Boolean,readOnly:!0})],g.prototype,"updating",null),(0,r._)([(0,u.Cb)({readOnly:!0})],g.prototype,"updatingProgress",null),(0,r._)([(0,u.Cb)()],g.prototype,"updateSuspended",null),(0,r._)([(0,u.Cb)()],g.prototype,"visible",null),(0,r._)([(0,u.Cb)({readOnly:!0})],g.prototype,"visibleAtCurrentScale",null),(0,r._)([(0,u.Cb)({readOnly:!0})],g.prototype,"visibleAtCurrentTimeExtent",null),g=(0,r._)([(0,h.j)("esri.views.layers.LayerView")],g);const v=g},13107:(e,t,i)=>{i.d(t,{Z:()=>l});var r=i(27366),n=i(32718),s=i(66978),a=i(94172),o=(i(93169),i(84936),i(10064),i(69912));const l=e=>{let t=class extends e{initialize(){this.addHandles((0,a.on)((()=>this.layer),"refresh",(e=>{this.doRefresh(e.dataChanged).catch((e=>{(0,s.D_)(e)||n.Z.getLogger(this).error(e)}))})),"RefreshableLayerView")}};return t=(0,r._)([(0,o.j)("esri.views.layers.RefreshableLayerView")],t),t}}}]);
//# sourceMappingURL=9229.2f1ba396.chunk.js.map